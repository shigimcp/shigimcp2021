/*! For license information please see 2.6a845940.chunk.js.LICENSE.txt */
(this["webpackJsonpshigimcp2020-react"]=this["webpackJsonpshigimcp2020-react"]||[]).push([[2],[function(e,t,r){"use strict";e.exports=r(76)},function(e,t,r){"use strict";e.exports=r(62)},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.d(t,"a",(function(){return wt})),r.d(t,"b",(function(){return Yt})),r.d(t,"w",(function(){return Qt})),r.d(t,"v",(function(){return Fe})),r.d(t,"h",(function(){return re})),r.d(t,"m",(function(){return I})),r.d(t,"n",(function(){return D})),r.d(t,"j",(function(){return T})),r.d(t,"k",(function(){return M})),r.d(t,"q",(function(){return jt})),r.d(t,"p",(function(){return F})),r.d(t,"f",(function(){return ne})),r.d(t,"t",(function(){return Xt})),r.d(t,"d",(function(){return ut})),r.d(t,"r",(function(){return qe})),r.d(t,"c",(function(){return At})),r.d(t,"o",(function(){return Z})),r.d(t,"u",(function(){return lt})),r.d(t,"e",(function(){return f})),r.d(t,"s",(function(){return ie})),r.d(t,"l",(function(){return H})),r.d(t,"i",(function(){return zt})),r.d(t,"g",(function(){return te}));var a,o,s,u,l,c,h,d,f={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},p={duration:.5,overwrite:!1,delay:0},m=1e8,v=1e-8,g=2*Math.PI,y=g/4,b=0,_=Math.sqrt,x=Math.cos,w=Math.sin,T=function(e){return"string"===typeof e},S=function(e){return"function"===typeof e},E=function(e){return"number"===typeof e},M=function(e){return"undefined"===typeof e},P=function(e){return"object"===typeof e},A=function(e){return!1!==e},C=function(){return"undefined"!==typeof window},O=function(e){return S(e)||T(e)},k="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},R=Array.isArray,L=/(?:-?\.?\d|\.)+/gi,I=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,D=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,N=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,F=/[+-]=-?[\.\d]+/,z=/[#\-+.]*\b[a-z\d-=+%.]+/gi,B={},U={},j=function(e){return(U=fe(e,B))&&Qt},H=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},G=function(e,t){return!t&&console.warn(e)},V=function(e,t){return e&&(B[e]=t)&&U&&(U[e]=t)||B},W=function(){return 0},X={},Y=[],q={},Z={},J={},Q=30,K=[],$="",ee=function(e){var t,r,n=e[0];if(P(n)||S(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(r=K.length;r--&&!K[r].targetTest(n););t=K[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new wt(e[r],t)))||e.splice(r,1);return e},te=function(e){return e._gsap||ee(je(e))[0]._gsap},re=function(e,t,r){return(r=e[t])&&S(r)?e[t]():M(r)&&e.getAttribute&&e.getAttribute(t)||r},ne=function(e,t){return(e=e.split(",")).forEach(t)||e},ie=function(e){return Math.round(1e5*e)/1e5||0},ae=function(e,t){for(var r=t.length,n=0;e.indexOf(t[n])<0&&++n<r;);return n<r},oe=function(e,t,r){var n,i=E(e[1]),a=(i?2:1)+(t<2?0:1),o=e[a];if(i&&(o.duration=e[1]),o.parent=r,t){for(n=o;r&&!("immediateRender"in n);)n=r.vars.defaults||{},r=A(r.vars.inherit)&&r.parent;o.immediateRender=A(n.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return o},se=function(){var e,t,r=Y.length,n=Y.slice(0);for(q={},Y.length=0,e=0;e<r;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},ue=function(e,t,r,n){Y.length&&se(),e.render(t,r,n),Y.length&&se()},le=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(z).length<2?t:T(e)?e.trim():e},ce=function(e){return e},he=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},de=function(e,t){for(var r in t)r in e||"duration"===r||"ease"===r||(e[r]=t[r])},fe=function(e,t){for(var r in t)e[r]=t[r];return e},pe=function e(t,r){for(var n in r)t[n]=P(r[n])?e(t[n]||(t[n]={}),r[n]):r[n];return t},me=function(e,t){var r,n={};for(r in e)r in t||(n[r]=e[r]);return n},ve=function(e){var t=e.parent||a,r=e.keyframes?de:he;if(A(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},ge=function(e,t,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=t._prev,a=t._next;i?i._next=a:e[r]===t&&(e[r]=a),a?a._prev=i:e[n]===t&&(e[n]=i),t._next=t._prev=t.parent=null},ye=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},be=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},_e=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},xe=function e(t){return!t||t._ts&&e(t.parent)},we=function(e){return e._repeat?Te(e._tTime,e=e.duration()+e._rDelay)*e:0},Te=function(e,t){return(e/=t)&&~~e===e?~~e-1:~~e},Se=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ee=function(e){return e._end=ie(e._start+(e._tDur/Math.abs(e._ts||e._rts||v)||0))},Me=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=ie(e._dp._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ee(e),r._dirty||be(r,e)),e},Pe=function(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=Se(e.rawTime(),t),(!t._dur||Ne(0,t.totalDuration(),r)-t._tTime>v)&&t.render(r,!0)),be(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},Ae=function(e,t,r,n){return t.parent&&ye(t),t._start=ie(r+t._delay),t._end=ie(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var a,o=e[n];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,n||Pe(e,t),e},Ce=function(e,t){return(B.ScrollTrigger||H("scrollTrigger",t))&&B.ScrollTrigger.create(t,e)},Oe=function(e,t,r,n){return Ct(e,t),e._initted?!r&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&c!==lt.frame?(Y.push(e),e._lazy=[t,n],1):void 0:1},ke=function(e,t,r,n){var i=e._repeat,a=ie(t)||0,o=e._tTime/e._tDur;return o&&!n&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:ie(a*(i+1)+e._rDelay*i):a,o&&!n?Me(e,e._tTime=e._tDur*o):e.parent&&Ee(e),r||be(e.parent,e),e},Re=function(e){return e instanceof St?be(e):ke(e,e._dur)},Le={_start:0,endTime:W},Ie=function e(t,r){var n,i,a=t.labels,o=t._recent||Le,s=t.duration()>=m?o.endTime(!1):t._dur;return T(r)&&(isNaN(r)||r in a)?"<"===(n=r.charAt(0))||">"===n?("<"===n?o._start:o.endTime(o._repeat>=0))+(parseFloat(r.substr(1))||0):(n=r.indexOf("="))<0?(r in a||(a[r]=s),a[r]):(i=+(r.charAt(n-1)+r.substr(n+1)),n>1?e(t,r.substr(0,n-1))+i:s+i):null==r?s:+r},De=function(e,t){return e||0===e?t(e):t},Ne=function(e,t,r){return r<e?e:r>t?t:r},Fe=function(e){return(e=(e+"").substr((parseFloat(e)+"").length))&&isNaN(e)?e:""},ze=[].slice,Be=function(e,t){return e&&P(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&P(e[0]))&&!e.nodeType&&e!==o},Ue=function(e,t,r){return void 0===r&&(r=[]),e.forEach((function(e){var n;return T(e)&&!t||Be(e,1)?(n=r).push.apply(n,je(e)):r.push(e)}))||r},je=function(e,t){return!T(e)||t||!s&&ct()?R(e)?Ue(e,t):Be(e)?ze.call(e,0):e?[e]:[]:ze.call(u.querySelectorAll(e),0)},He=function(e){return e.sort((function(){return.5-Math.random()}))},Ge=function(e){if(S(e))return e;var t=P(e)?e:{each:e},r=gt(t.ease),n=t.from||0,i=parseFloat(t.base)||0,a={},o=n>0&&n<1,s=isNaN(n)||o,u=t.axis,l=n,c=n;return T(n)?l=c={center:.5,edges:.5,end:1}[n]||0:!o&&s&&(l=n[0],c=n[1]),function(e,o,h){var d,f,p,v,g,y,b,x,w,T=(h||t).length,S=a[T];if(!S){if(!(w="auto"===t.grid?0:(t.grid||[1,m])[1])){for(b=-m;b<(b=h[w++].getBoundingClientRect().left)&&w<T;);w--}for(S=a[T]=[],d=s?Math.min(w,T)*l-.5:n%w,f=s?T*c/w-.5:n/w|0,b=0,x=m,y=0;y<T;y++)p=y%w-d,v=f-(y/w|0),S[y]=g=u?Math.abs("y"===u?v:p):_(p*p+v*v),g>b&&(b=g),g<x&&(x=g);"random"===n&&He(S),S.max=b-x,S.min=x,S.v=T=(parseFloat(t.amount)||parseFloat(t.each)*(w>T?T-1:u?"y"===u?T/w:w:Math.max(w,T/w))||0)*("edges"===n?-1:1),S.b=T<0?i-T:i,S.u=Fe(t.amount||t.each)||0,r=r&&T<0?mt(r):r}return T=(S[e]-S.min)/S.max||0,ie(S.b+(r?r(T):T)*S.v)+S.u}},Ve=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(r){return Math.floor(Math.round(parseFloat(r)/e)*e*t)/t+(E(r)?0:Fe(r))}},We=function(e,t){var r,n,i=R(e);return!i&&P(e)&&(r=i=e.radius||m,e.values?(e=je(e.values),(n=!E(e[0]))&&(r*=r)):e=Ve(e.increment)),De(t,i?S(e)?function(t){return n=e(t),Math.abs(n-t)<=r?n:t}:function(t){for(var i,a,o=parseFloat(n?t.x:t),s=parseFloat(n?t.y:0),u=m,l=0,c=e.length;c--;)(i=n?(i=e[c].x-o)*i+(a=e[c].y-s)*a:Math.abs(e[c]-o))<u&&(u=i,l=c);return l=!r||u<=r?e[l]:t,n||l===t||E(t)?l:l+Fe(t)}:Ve(e))},Xe=function(e,t,r,n){return De(R(e)?!t:!0===r?!!(r=0):!n,(function(){return R(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e+Math.random()*(t-e))/r)*r*n)/n}))},Ye=function(e,t,r){return De(r,(function(r){return e[~~t(r)]}))},qe=function(e){for(var t,r,n,i,a=0,o="";~(t=e.indexOf("random(",a));)n=e.indexOf(")",t),i="["===e.charAt(t+7),r=e.substr(t+7,n-t-7).match(i?z:L),o+=e.substr(a,t-a)+Xe(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),a=n+1;return o+e.substr(a,e.length-a)},Ze=function(e,t,r,n,i){var a=t-e,o=n-r;return De(i,(function(t){return r+((t-e)/a*o||0)}))},Je=function(e,t,r){var n,i,a,o=e.labels,s=m;for(n in o)(i=o[n]-t)<0===!!r&&i&&s>(i=Math.abs(i))&&(a=n,s=i);return a},Qe=function(e,t,r){var n,i,a=e.vars,o=a[t];if(o)return n=a[t+"Params"],i=a.callbackScope||e,r&&Y.length&&se(),n?o.apply(i,n):o.call(i)},Ke=function(e){return ye(e),e.progress()<1&&Qe(e,"onInterrupt"),e},$e=function(e){var t=(e=!e.name&&e.default||e).name,r=S(e),n=t&&!r&&e.init?function(){this._props=[]}:e,i={init:W,render:Ht,add:Pt,kill:Vt,modifier:Gt,rawVars:0},a={targetTest:0,get:0,getSetter:zt,aliases:{},register:0};if(ct(),e!==n){if(Z[t])return;he(n,he(me(e,i),a)),fe(n.prototype,fe(i,me(e,a))),Z[n.prop=t]=n,e.targetTest&&(K.push(n),X[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}V(t,n),e.register&&e.register(Qt,n,Yt)},et=255,tt={aqua:[0,et,et],lime:[0,et,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,et],navy:[0,0,128],white:[et,et,et],olive:[128,128,0],yellow:[et,et,0],orange:[et,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[et,0,0],pink:[et,192,203],cyan:[0,et,et],transparent:[et,et,et,0]},rt=function(e,t,r){return(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*et+.5|0},nt=function(e,t,r){var n,i,a,o,s,u,l,c,h,d,f=e?E(e)?[e>>16,e>>8&et,e&et]:0:tt.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),tt[e])f=tt[e];else if("#"===e.charAt(0))4===e.length&&(n=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+n+n+i+i+a+a),f=[(e=parseInt(e.substr(1),16))>>16,e>>8&et,e&et];else if("hsl"===e.substr(0,3))if(f=d=e.match(L),t){if(~e.indexOf("="))return f=e.match(I),r&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,s=+f[1]/100,n=2*(u=+f[2]/100)-(i=u<=.5?u*(s+1):u+s-u*s),f.length>3&&(f[3]*=1),f[0]=rt(o+1/3,n,i),f[1]=rt(o,n,i),f[2]=rt(o-1/3,n,i);else f=e.match(L)||tt.transparent;f=f.map(Number)}return t&&!d&&(n=f[0]/et,i=f[1]/et,a=f[2]/et,u=((l=Math.max(n,i,a))+(c=Math.min(n,i,a)))/2,l===c?o=s=0:(h=l-c,s=u>.5?h/(2-l-c):h/(l+c),o=l===n?(i-a)/h+(i<a?6:0):l===i?(a-n)/h+2:(n-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*s+.5),f[2]=~~(100*u+.5)),r&&f.length<4&&(f[3]=1),f},it=function(e){var t=[],r=[],n=-1;return e.split(ot).forEach((function(e){var i=e.match(D)||[];t.push.apply(t,i),r.push(n+=i.length+1)})),t.c=r,t},at=function(e,t,r){var n,i,a,o,s="",u=(e+s).match(ot),l=t?"hsla(":"rgba(",c=0;if(!u)return e;if(u=u.map((function(e){return(e=nt(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),r&&(a=it(e),(n=r.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(ot,"1").split(D)).length-1;c<o;c++)s+=i[c]+(~n.indexOf(c)?u.shift()||l+"0,0,0,0)":(a.length?a:u.length?u:r).shift());if(!i)for(o=(i=e.split(ot)).length-1;c<o;c++)s+=i[c]+u[c];return s+i[o]},ot=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in tt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),st=/hsl[a]?\(/,ut=function(e){var t,r=e.join(" ");if(ot.lastIndex=0,ot.test(r))return t=st.test(r),e[1]=at(e[1],t),e[0]=at(e[0],t,it(e[1])),!0},lt=function(){var e,t,r,n,i,a,c=Date.now,h=500,f=33,p=c(),m=p,v=1e3/240,g=v,y=[],b=function r(o){var s,u,l,d,b=c()-m,_=!0===o;if(b>h&&(p+=b-f),((s=(l=(m+=b)-p)-g)>0||_)&&(d=++n.frame,i=l-1e3*n.time,n.time=l/=1e3,g+=s+(s>=v?4:v-s),u=1),_||(e=t(r)),u)for(a=0;a<y.length;a++)y[a](l,i,d,o)};return n={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){l&&(!s&&C()&&(o=s=window,u=o.document||{},B.gsap=Qt,(o.gsapVersions||(o.gsapVersions=[])).push(Qt.version),j(U||o.GreenSockGlobals||!o.gsap&&o||{}),r=o.requestAnimationFrame),e&&n.sleep(),t=r||function(e){return setTimeout(e,g-1e3*n.time+1|0)},d=1,b(2))},sleep:function(){(r?o.cancelAnimationFrame:clearTimeout)(e),d=0,t=W},lagSmoothing:function(e,t){h=e||1e8,f=Math.min(t,h,0)},fps:function(e){v=1e3/(e||240),g=1e3*n.time+v},add:function(e){y.indexOf(e)<0&&y.push(e),ct()},remove:function(e){var t;~(t=y.indexOf(e))&&y.splice(t,1)&&a>=t&&a--},_listeners:y}}(),ct=function(){return!d&&lt.wake()},ht={},dt=/^[\d.\-M][\d.\-,\s]/,ft=/["']/g,pt=function(e){for(var t,r,n,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,u=a.length;s<u;s++)r=a[s],t=s!==u-1?r.lastIndexOf(","):r.length,n=r.substr(0,t),i[o]=isNaN(n)?n.replace(ft,"").trim():+n,o=r.substr(t+1).trim();return i},mt=function(e){return function(t){return 1-e(1-t)}},vt=function e(t,r){for(var n,i=t._first;i;)i instanceof St?e(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?e(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},gt=function(e,t){return e&&(S(e)?e:ht[e]||function(e){var t=(e+"").split("("),r=ht[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[pt(t[1])]:function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<r?e.indexOf(")",r+1):r)}(e).split(",").map(le)):ht._CE&&dt.test(e)?ht._CE("",e):r}(e))||t},yt=function(e,t,r,n){void 0===r&&(r=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:r,easeInOut:n};return ne(e,(function(e){for(var t in ht[e]=B[e]=a,ht[i=e.toLowerCase()]=r,a)ht[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=ht[e+"."+t]=a[t]})),a},bt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},_t=function e(t,r,n){var i=r>=1?r:1,a=(n||(t?.3:.45))/(r<1?r:1),o=a/g*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*w((e-o)*a)+1},u="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:bt(s);return a=g/a,u.config=function(r,n){return e(t,r,n)},u},xt=function e(t,r){void 0===r&&(r=1.70158);var n=function(e){return e?--e*e*((r+1)*e+r)+1:0},i="out"===t?n:"in"===t?function(e){return 1-n(1-e)}:bt(n);return i.config=function(r){return e(t,r)},i};ne("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var r=t<5?t+1:t;yt(e+",Power"+(r-1),t?function(e){return Math.pow(e,r)}:function(e){return e},(function(e){return 1-Math.pow(1-e,r)}),(function(e){return e<.5?Math.pow(2*e,r)/2:1-Math.pow(2*(1-e),r)/2}))})),ht.Linear.easeNone=ht.none=ht.Linear.easeIn,yt("Elastic",_t("in"),_t("out"),_t()),function(e,t){var r=1/t,n=function(n){return n<r?e*n*n:n<.7272727272727273?e*Math.pow(n-1.5/t,2)+.75:n<.9090909090909092?e*(n-=2.25/t)*n+.9375:e*Math.pow(n-2.625/t,2)+.984375};yt("Bounce",(function(e){return 1-n(1-e)}),n)}(7.5625,2.75),yt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),yt("Circ",(function(e){return-(_(1-e*e)-1)})),yt("Sine",(function(e){return 1===e?1:1-x(e*y)})),yt("Back",xt("in"),xt("out"),xt()),ht.SteppedEase=ht.steps=B.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,n=e+(t?0:1),i=t?1:0;return function(e){return((n*Ne(0,.99999999,e)|0)+i)*r}}},p.ease=ht["quad.out"],ne("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return $+=e+","+e+"Params,"}));var wt=function(e,t){this.id=b++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:re,this.set=t?t.getSetter:zt},Tt=function(){function e(e,t){var r=e.parent||a;this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,ke(this,+e.duration,1,1),this.data=e.data,d||lt.wake(),r&&Ae(r,this,t||0===t?t:r._time,1),e.reversed&&this.reverse(),e.paused&&this.paused(!0)}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,ke(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(ct(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Me(this,e);r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Ae(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===v||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),ue(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+we(this))%this._dur||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+we(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*r,t):this._repeat?Te(this._tTime,r)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?Se(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,_e(this.totalTime(Ne(-this._delay,this._tDur,t),!0))},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ct(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=v)&&Math.abs(this._zTime)!==v))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Ae(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(A(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Se(t.rawTime(e),this):this._tTime:this._tTime},t.globalTime=function(e){for(var t=this,r=arguments.length?e:t.rawTime();t;)r=t._start+r/(t._ts||1),t=t._dp;return r},t.repeat=function(e){return arguments.length?(this._repeat=e,Re(this)):this._repeat},t.repeatDelay=function(e){return arguments.length?(this._rDelay=e,Re(this)):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Ie(this,e),A(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,A(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,r=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=r&&e<this.endTime(!0)-v))},t.eventCallback=function(e,t,r){var n=this.vars;return arguments.length>1?(t?(n[e]=t,r&&(n[e+"Params"]=r),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},t.then=function(e){var t=this;return new Promise((function(r){var n=S(e)?e:ce,i=function(){var e=t.then;t.then=null,S(n)&&(n=n(t))&&(n.then||n===t)&&(t.then=e),r(n),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){Ke(this)},e}();he(Tt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var St=function(e){function t(t,r){var i;return void 0===t&&(t={}),(i=e.call(this,t,r)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=A(t.sortChildren),i.parent&&Pe(i.parent,n(i)),t.scrollTrigger&&Ce(n(i),t.scrollTrigger),i}i(t,e);var r=t.prototype;return r.to=function(e,t,r){return new Lt(e,oe(arguments,0,this),Ie(this,E(t)?arguments[3]:r)),this},r.from=function(e,t,r){return new Lt(e,oe(arguments,1,this),Ie(this,E(t)?arguments[3]:r)),this},r.fromTo=function(e,t,r,n){return new Lt(e,oe(arguments,2,this),Ie(this,E(t)?arguments[4]:n)),this},r.set=function(e,t,r){return t.duration=0,t.parent=this,ve(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Lt(e,t,Ie(this,r),1),this},r.call=function(e,t,r){return Ae(this,Lt.delayedCall(0,e,t),Ie(this,r))},r.staggerTo=function(e,t,r,n,i,a,o){return r.duration=t,r.stagger=r.stagger||n,r.onComplete=a,r.onCompleteParams=o,r.parent=this,new Lt(e,r,Ie(this,i)),this},r.staggerFrom=function(e,t,r,n,i,a,o){return r.runBackwards=1,ve(r).immediateRender=A(r.immediateRender),this.staggerTo(e,t,r,n,i,a,o)},r.staggerFromTo=function(e,t,r,n,i,a,o,s){return n.startAt=r,ve(n).immediateRender=A(n.immediateRender),this.staggerTo(e,t,n,i,a,o,s)},r.render=function(e,t,r){var n,i,o,s,u,l,c,h,d,f,p,m,g=this._time,y=this._dirty?this.totalDuration():this._tDur,b=this._dur,_=this!==a&&e>y-v&&e>=0?y:e<v?0:e,x=this._zTime<0!==e<0&&(this._initted||!b);if(_!==this._tTime||r||x){if(g!==this._time&&b&&(_+=this._time-g,e+=this._time-g),n=_,d=this._start,l=!(h=this._ts),x&&(b||(g=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat&&(p=this._yoyo,u=b+this._rDelay,n=ie(_%u),_===y?(s=this._repeat,n=b):((s=~~(_/u))&&s===_/u&&(n=b,s--),n>b&&(n=b)),f=Te(this._tTime,u),!g&&this._tTime&&f!==s&&(f=s),p&&1&s&&(n=b-n,m=1),s!==f&&!this._lock)){var w=p&&1&f,T=w===(p&&1&s);if(s<f&&(w=!w),g=w?0:b,this._lock=1,this.render(g||(m?0:ie(s*u)),t,!b)._lock=0,!t&&this.parent&&Qe(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),g!==this._time||l!==!this._ts)return this;if(b=this._dur,y=this._tDur,T&&(this._lock=2,g=w?b:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;vt(this,m)}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,r){var n;if(r>t)for(n=e._first;n&&n._start<=r;){if(!n._dur&&"isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=r;){if(!n._dur&&"isPause"===n.data&&n._start<t)return n;n=n._prev}}(this,ie(g),ie(n)))&&(_-=n-(n=c._start)),this._tTime=_,this._time=n,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e),!g&&n&&!t&&Qe(this,"onStart"),n>=g&&e>=0)for(i=this._first;i;){if(o=i._next,(i._act||n>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!l){c=0,o&&(_+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var S=e<0?e:n;i;){if(o=i._prev,(i._act||S<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(S-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(S-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!l){c=0,o&&(_+=this._zTime=S?-1e-8:v);break}}i=o}}if(c&&!t&&(this.pause(),c.render(n>=g?0:-1e-8)._zTime=n>=g?1:-1,this._ts))return this._start=d,Ee(this),this.render(e,t,r);this._onUpdate&&!t&&Qe(this,"onUpdate",!0),(_===y&&y>=this.totalDuration()||!_&&g)&&(d!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((e||!b)&&(_===y&&this._ts>0||!_&&this._ts<0)&&ye(this,1),t||e<0&&!g||!_&&!g||(Qe(this,_===y?"onComplete":"onReverseComplete",!0),this._prom&&!(_<y&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(e,t){var r=this;if(E(t)||(t=Ie(this,t)),!(e instanceof Tt)){if(R(e))return e.forEach((function(e){return r.add(e,t)})),this;if(T(e))return this.addLabel(e,t);if(!S(e))return this;e=Lt.delayedCall(0,e)}return this!==e?Ae(this,e,t):this},r.getChildren=function(e,t,r,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===n&&(n=-m);for(var i=[],a=this._first;a;)a._start>=n&&(a instanceof Lt?t&&i.push(a):(r&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,r)))),a=a._next;return i},r.getById=function(e){for(var t=this.getChildren(1,1,1),r=t.length;r--;)if(t[r].vars.id===e)return t[r]},r.remove=function(e){return T(e)?this.removeLabel(e):S(e)?this.killTweensOf(e):(ge(this,e),e===this._recent&&(this._recent=this._last),be(this))},r.totalTime=function(t,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ie(lt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,r),this._forcing=0,this):this._tTime},r.addLabel=function(e,t){return this.labels[e]=Ie(this,t),this},r.removeLabel=function(e){return delete this.labels[e],this},r.addPause=function(e,t,r){var n=Lt.delayedCall(0,t||W,r);return n.data="isPause",this._hasPause=1,Ae(this,n,Ie(this,e))},r.removePause=function(e){var t=this._first;for(e=Ie(this,e);t;)t._start===e&&"isPause"===t.data&&ye(t),t=t._next},r.killTweensOf=function(e,t,r){for(var n=this.getTweensOf(e,r),i=n.length;i--;)Et!==n[i]&&n[i].kill(e,t);return this},r.getTweensOf=function(e,t){for(var r,n=[],i=je(e),a=this._first,o=E(t);a;)a instanceof Lt?ae(a._targets,i)&&(o?(!Et||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&n.push(a):(r=a.getTweensOf(i,t)).length&&n.push.apply(n,r),a=a._next;return n},r.tweenTo=function(e,t){t=t||{};var r=this,n=Ie(r,e),i=t,a=i.startAt,o=i.onStart,s=i.onStartParams,u=Lt.to(r,he(t,{ease:"none",lazy:!1,time:n,overwrite:"auto",duration:t.duration||Math.abs((n-(a&&"time"in a?a.time:r._time))/r.timeScale())||v,onStart:function(){r.pause();var e=t.duration||Math.abs((n-r._time)/r.timeScale());u._dur!==e&&ke(u,e,0,1).render(u._time,!0,!0),o&&o.apply(u,s||[])}}));return u},r.tweenFromTo=function(e,t,r){return this.tweenTo(t,he({startAt:{time:Ie(this,e)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(e){return void 0===e&&(e=this._time),Je(this,Ie(this,e))},r.previousLabel=function(e){return void 0===e&&(e=this._time),Je(this,Ie(this,e),1)},r.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+v)},r.shiftChildren=function(e,t,r){void 0===r&&(r=0);for(var n,i=this._first,a=this.labels;i;)i._start>=r&&(i._start+=e,i._end+=e),i=i._next;if(t)for(n in a)a[n]>=r&&(a[n]+=e);return be(this)},r.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},r.clear=function(e){void 0===e&&(e=!0);for(var t,r=this._first;r;)t=r._next,this.remove(r),r=t;return this._time=this._tTime=this._pTime=0,e&&(this.labels={}),be(this)},r.totalDuration=function(e){var t,r,n,i=0,o=this,s=o._last,u=m;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(n=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(r=s._start)>u&&o._sort&&s._ts&&!o._lock?(o._lock=1,Ae(o,s,r-s._delay,1)._lock=0):u=r,r<0&&s._ts&&(i-=r,(!n&&!o._dp||n&&n.smoothChildTiming)&&(o._start+=r/o._ts,o._time-=r,o._tTime-=r),o.shiftChildren(-r,!1,-Infinity),u=0),s._end>i&&s._ts&&(i=s._end),s=t;ke(o,o===a&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(a._ts&&(ue(a,Se(e,a)),c=lt.frame),lt.frame>=Q){Q+=f.autoSleep||120;var t=a._first;if((!t||!t._ts)&&f.autoSleep&&lt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||lt.sleep()}}},t}(Tt);he(St.prototype,{_lock:0,_hasPause:0,_forcing:0});var Et,Mt=function(e,t,r,n,i,a,o){var s,u,l,c,h,d,f,p,m=new Yt(this._pt,e,t,0,1,jt,null,i),v=0,g=0;for(m.b=r,m.e=n,r+="",(f=~(n+="").indexOf("random("))&&(n=qe(n)),a&&(a(p=[r,n],e,t),r=p[0],n=p[1]),u=r.match(N)||[];s=N.exec(n);)c=s[0],h=n.substring(v,s.index),l?l=(l+1)%5:"rgba("===h.substr(-5)&&(l=1),c!==u[g++]&&(d=parseFloat(u[g-1])||0,m._pt={_next:m._pt,p:h||1===g?h:",",s:d,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-d,m:l&&l<4?Math.round:0},v=N.lastIndex);return m.c=v<n.length?n.substring(v,n.length):"",m.fp=o,(F.test(n)||f)&&(m.e=0),this._pt=m,m},Pt=function(e,t,r,n,i,a,o,s,u){S(n)&&(n=n(i||0,e,a));var l,c=e[t],h="get"!==r?r:S(c)?u?e[t.indexOf("set")||!S(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():c,d=S(c)?u?Nt:Dt:It;if(T(n)&&(~n.indexOf("random(")&&(n=qe(n)),"="===n.charAt(1)&&(n=parseFloat(h)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(Fe(h)||0))),h!==n)return isNaN(h*n)?(!c&&!(t in e)&&H(t,n),Mt.call(this,e,t,h,n,d,s||f.stringFilter,u)):(l=new Yt(this._pt,e,t,+h||0,n-(h||0),"boolean"===typeof c?Ut:Bt,0,d),u&&(l.fp=u),o&&l.modifier(o,this,e),this._pt=l)},At=function(e,t,r,n,i,a){var o,s,u,l;if(Z[e]&&!1!==(o=new Z[e]).init(i,o.rawVars?t[e]:function(e,t,r,n,i){if(S(e)&&(e=Ot(e,i,t,r,n)),!P(e)||e.style&&e.nodeType||R(e)||k(e))return T(e)?Ot(e,i,t,r,n):e;var a,o={};for(a in e)o[a]=Ot(e[a],i,t,r,n);return o}(t[e],n,i,a,r),r,n,a)&&(r._pt=s=new Yt(r._pt,i,e,0,1,o.render,o,0,o.priority),r!==h))for(u=r._ptLookup[r._targets.indexOf(i)],l=o._props.length;l--;)u[o._props[l]]=s;return o},Ct=function e(t,r){var n,i,o,s,u,l,c,h,d,f,m,g,y,b=t.vars,_=b.ease,x=b.startAt,w=b.immediateRender,T=b.lazy,S=b.onUpdate,E=b.onUpdateParams,M=b.callbackScope,P=b.runBackwards,C=b.yoyoEase,O=b.keyframes,k=b.autoRevert,R=t._dur,L=t._startAt,I=t._targets,D=t.parent,N=D&&"nested"===D.data?D.parent._targets:I,F="auto"===t._overwrite,z=t.timeline;if(z&&(!O||!_)&&(_="none"),t._ease=gt(_,p.ease),t._yEase=C?mt(gt(!0===C?_:C,p.ease)):0,C&&t._yoyo&&!t._repeat&&(C=t._yEase,t._yEase=t._ease,t._ease=C),!z){if(g=(h=I[0]?te(I[0]).harness:0)&&b[h.prop],n=me(b,X),L&&L.render(-1,!0).kill(),x){if(ye(t._startAt=Lt.set(I,he({data:"isStart",overwrite:!1,parent:D,immediateRender:!0,lazy:A(T),startAt:null,delay:0,onUpdate:S,onUpdateParams:E,callbackScope:M,stagger:0},x))),w)if(r>0)k||(t._startAt=0);else if(R&&!(r<0&&L))return void(r&&(t._zTime=r))}else if(P&&R)if(L)!k&&(t._startAt=0);else if(r&&(w=!1),o=he({overwrite:!1,data:"isFromStart",lazy:w&&A(T),immediateRender:w,stagger:0,parent:D},n),g&&(o[h.prop]=g),ye(t._startAt=Lt.set(I,o)),w){if(!r)return}else e(t._startAt,v);for(t._pt=0,T=R&&A(T)||T&&!R,i=0;i<I.length;i++){if(c=(u=I[i])._gsap||ee(I)[i]._gsap,t._ptLookup[i]=f={},q[c.id]&&Y.length&&se(),m=N===I?i:N.indexOf(u),h&&!1!==(d=new h).init(u,g||n,t,m,N)&&(t._pt=s=new Yt(t._pt,u,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){f[e]=s})),d.priority&&(l=1)),!h||g)for(o in n)Z[o]&&(d=At(o,n,t,m,u,N))?d.priority&&(l=1):f[o]=s=Pt.call(t,u,o,"get",n[o],m,N,0,b.stringFilter);t._op&&t._op[i]&&t.kill(u,t._op[i]),F&&t._pt&&(Et=t,a.killTweensOf(u,f,t.globalTime(0)),y=!t.parent,Et=0),t._pt&&T&&(q[c.id]=1)}l&&Xt(t),t._onInit&&t._onInit(t)}t._from=!z&&!!b.runBackwards,t._onUpdate=S,t._initted=(!t._op||t._pt)&&!y},Ot=function(e,t,r,n,i){return S(e)?e.call(t,r,n,i):T(e)&&~e.indexOf("random(")?qe(e):e},kt=$+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Rt=(kt+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Lt=function(e){function t(t,r,i,o){var s;"number"===typeof r&&(i.duration=r,r=i,i=null);var u,l,c,h,d,p,m,v,g=(s=e.call(this,o?r:ve(r),i)||this).vars,y=g.duration,b=g.delay,_=g.immediateRender,x=g.stagger,w=g.overwrite,T=g.keyframes,S=g.defaults,M=g.scrollTrigger,C=g.yoyoEase,L=s.parent,I=(R(t)||k(t)?E(t[0]):"length"in r)?[t]:je(t);if(s._targets=I.length?ee(I):G("GSAP target "+t+" not found. https://greensock.com",!f.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=w,T||x||O(y)||O(b)){if(r=s.vars,(u=s.timeline=new St({data:"nested",defaults:S||{}})).kill(),u.parent=n(s),T)he(u.vars.defaults,{ease:"none"}),T.forEach((function(e){return u.to(I,e,">")}));else{if(h=I.length,m=x?Ge(x):W,P(x))for(d in x)~kt.indexOf(d)&&(v||(v={}),v[d]=x[d]);for(l=0;l<h;l++){for(d in c={},r)Rt.indexOf(d)<0&&(c[d]=r[d]);c.stagger=0,C&&(c.yoyoEase=C),v&&fe(c,v),p=I[l],c.duration=+Ot(y,n(s),l,p,I),c.delay=(+Ot(b,n(s),l,p,I)||0)-s._delay,!x&&1===h&&c.delay&&(s._delay=b=c.delay,s._start+=b,c.delay=0),u.to(p,c,m(l,p,I))}u.duration()?y=b=0:s.timeline=0}y||s.duration(y=u.duration())}else s.timeline=0;return!0===w&&(Et=n(s),a.killTweensOf(I),Et=0),L&&Pe(L,n(s)),(_||!y&&!T&&s._start===ie(L._time)&&A(_)&&xe(n(s))&&"nested"!==L.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-b))),M&&Ce(n(s),M),s}i(t,e);var r=t.prototype;return r.render=function(e,t,r){var n,i,a,o,s,u,l,c,h,d=this._time,f=this._tDur,p=this._dur,m=e>f-v&&e>=0?f:e<v?0:e;if(p){if(m!==this._tTime||!e||r||this._startAt&&this._zTime<0!==e<0){if(n=m,c=this.timeline,this._repeat){if(o=p+this._rDelay,n=ie(m%o),m===f?(a=this._repeat,n=p):((a=~~(m/o))&&a===m/o&&(n=p,a--),n>p&&(n=p)),(u=this._yoyo&&1&a)&&(h=this._yEase,n=p-n),s=Te(this._tTime,o),n===d&&!r&&this._initted)return this;a!==s&&(c&&this._yEase&&vt(c,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=r=1,this.render(ie(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(Oe(this,e<0?e:n,r,t))return this._tTime=0,this;if(p!==this._dur)return this.render(e,t,r)}for(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(h||this._ease)(n/p),this._from&&(this.ratio=l=1-l),n&&!d&&!t&&Qe(this,"onStart"),i=this._pt;i;)i.r(l,i.d),i=i._next;c&&c.render(e<0?e:!n&&u?-1e-8:c._dur*l,t,r)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,r),Qe(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&Qe(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),(e||!p)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&ye(this,1),t||e<0&&!d||!m&&!d||(Qe(this,m===f?"onComplete":"onReverseComplete",!0),this._prom&&!(m<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,r,n){var i,a,o=e.ratio,s=t<0||!t&&o&&!e._start&&e._zTime>v&&!e._dp._lock||(e._ts<0||e._dp._ts<0)&&"isFromStart"!==e.data&&"isStart"!==e.data?0:1,u=e._rDelay,l=0;if(u&&e._repeat&&(l=Ne(0,e._tDur,t),Te(l,u)!==(a=Te(e._tTime,u))&&(o=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==o||n||e._zTime===v||!t&&e._zTime){if(!e._initted&&Oe(e,t,n,r))return;for(a=e._zTime,e._zTime=t||(r?v:0),r||(r=t&&!a),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=l,r||Qe(e,"onStart"),i=e._pt;i;)i.r(s,i.d),i=i._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!r&&Qe(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Qe(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&ye(e,1),r||(Qe(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,r);return this},r.targets=function(){return this._targets},r.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},r.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t)&&(this._lazy=0,this.parent))return Ke(this);if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Et&&!0!==Et.vars.overwrite)._first||Ke(this),this.parent&&r!==this.timeline.totalDuration()&&ke(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,a,o,s,u,l,c=this._targets,h=e?je(e):c,d=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var r=e.length,n=r===t.length;n&&r--&&e[r]===t[r];);return r<0}(c,h))return"all"===t&&(this._pt=0),Ke(this);for(n=this._op=this._op||[],"all"!==t&&(T(t)&&(s={},ne(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var r,n,i,a,o=e[0]?te(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(n in r=fe({},t),s)if(n in r)for(i=(a=s[n].split(",")).length;i--;)r[a[i]]=r[n];return r}(c,t)),l=c.length;l--;)if(~h.indexOf(c[l]))for(s in i=d[l],"all"===t?(n[l]=t,o=i,a={}):(a=n[l]=n[l]||{},o=t),o)(u=i&&i[s])&&("kill"in u.d&&!0!==u.d.kill(s)||ge(this,u,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&f&&Ke(this),this},t.to=function(e,r){return new t(e,r,arguments[2])},t.from=function(e,r){return new t(e,oe(arguments,1))},t.delayedCall=function(e,r,n,i){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},t.fromTo=function(e,r,n){return new t(e,oe(arguments,2))},t.set=function(e,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(e,r)},t.killTweensOf=function(e,t,r){return a.killTweensOf(e,t,r)},t}(Tt);he(Lt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ne("staggerTo,staggerFrom,staggerFromTo",(function(e){Lt[e]=function(){var t=new St,r=ze.call(arguments,0);return r.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,r)}}));var It=function(e,t,r){return e[t]=r},Dt=function(e,t,r){return e[t](r)},Nt=function(e,t,r,n){return e[t](n.fp,r)},Ft=function(e,t,r){return e.setAttribute(t,r)},zt=function(e,t){return S(e[t])?Dt:M(e[t])&&e.setAttribute?Ft:It},Bt=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},Ut=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},jt=function(e,t){var r=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+n,r=r._next;n+=t.c}t.set(t.t,t.p,n,t)},Ht=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Gt=function(e,t,r,n){for(var i,a=this._pt;a;)i=a._next,a.p===n&&a.modifier(e,t,r),a=i},Vt=function(e){for(var t,r,n=this._pt;n;)r=n._next,n.p===e&&!n.op||n.op===e?ge(this,n,"_pt"):n.dep||(t=1),n=r;return!t},Wt=function(e,t,r,n){n.mSet(e,t,n.m.call(n.tween,r,n.mt),n)},Xt=function(e){for(var t,r,n,i,a=e._pt;a;){for(t=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:i)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:i=a,a=t}e._pt=n},Yt=function(){function e(e,t,r,n,i,a,o,s,u){this.t=t,this.s=n,this.c=i,this.p=r,this.r=a||Bt,this.d=o||this,this.set=s||It,this.pr=u||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,r){this.mSet=this.mSet||this.set,this.set=Wt,this.m=e,this.mt=r,this.tween=t},e}();ne($+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return X[e]=1})),B.TweenMax=B.TweenLite=Lt,B.TimelineLite=B.TimelineMax=St,a=new St({sortChildren:!1,defaults:p,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),f.stringFilter=ut;var qt={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){return $e(e)}))},timeline:function(e){return new St(e)},getTweensOf:function(e,t){return a.getTweensOf(e,t)},getProperty:function(e,t,r,n){T(e)&&(e=je(e)[0]);var i=te(e||{}).get,a=r?ce:le;return"native"===r&&(r=""),e?t?a((Z[t]&&Z[t].get||i)(e,t,r,n)):function(t,r,n){return a((Z[t]&&Z[t].get||i)(e,t,r,n))}:e},quickSetter:function(e,t,r){if((e=je(e)).length>1){var n=e.map((function(e){return Qt.quickSetter(e,t,r)})),i=n.length;return function(e){for(var t=i;t--;)n[t](e)}}e=e[0]||{};var a=Z[t],o=te(e),s=o.harness&&(o.harness.aliases||{})[t]||t,u=a?function(t){var n=new a;h._pt=0,n.init(e,r?t+r:t,h,0,[e]),n.render(1,n),h._pt&&Ht(1,h)}:o.set(e,s);return a?u:function(t){return u(e,s,r?t+r:t,o,1)}},isTweening:function(e){return a.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=gt(e.ease,p.ease)),pe(p,e||{})},config:function(e){return pe(f,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,n=e.plugins,i=e.defaults,a=e.extendTimeline;(n||"").split(",").forEach((function(e){return e&&!Z[e]&&!B[e]&&G(t+" effect requires "+e+" plugin.")})),J[t]=function(e,t,n){return r(je(e),he(t||{},i),n)},a&&(St.prototype[t]=function(e,r,n){return this.add(J[t](e,P(r)?r:(n=r)&&{},this),n)})},registerEase:function(e,t){ht[e]=gt(t)},parseEase:function(e,t){return arguments.length?gt(e,t):ht},getById:function(e){return a.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,n,i=new St(e);for(i.smoothChildTiming=A(e.smoothChildTiming),a.remove(i),i._dp=0,i._time=i._tTime=a._time,r=a._first;r;)n=r._next,!t&&!r._dur&&r instanceof Lt&&r.vars.onComplete===r._targets[0]||Ae(i,r,r._start-r._delay),r=n;return Ae(a,i,0),i},utils:{wrap:function e(t,r,n){var i=r-t;return R(t)?Ye(t,e(0,t.length),r):De(n,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,r,n){var i=r-t,a=2*i;return R(t)?Ye(t,e(0,t.length-1),r):De(n,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},distribute:Ge,random:Xe,snap:We,normalize:function(e,t,r){return Ze(e,t,0,1,r)},getUnit:Fe,clamp:function(e,t,r){return De(r,(function(r){return Ne(e,t,r)}))},splitColor:nt,toArray:je,mapRange:Ze,pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(r){return e(parseFloat(r))+(t||Fe(r))}},interpolate:function e(t,r,n,i){var a=isNaN(t+r)?0:function(e){return(1-e)*t+e*r};if(!a){var o,s,u,l,c,h=T(t),d={};if(!0===n&&(i=1)&&(n=null),h)t={p:t},r={p:r};else if(R(t)&&!R(r)){for(u=[],l=t.length,c=l-2,s=1;s<l;s++)u.push(e(t[s-1],t[s]));l--,a=function(e){e*=l;var t=Math.min(c,~~e);return u[t](e-t)},n=r}else i||(t=fe(R(t)?[]:{},t));if(!u){for(o in r)Pt.call(d,t,o,"get",r[o]);a=function(e){return Ht(e,d)||(h?t.p:t)}}}return De(n,a)},shuffle:He},install:j,effects:J,ticker:lt,updateRoot:St.updateRoot,plugins:Z,globalTimeline:a,core:{PropTween:Yt,globals:V,Tween:Lt,Timeline:St,Animation:Tt,getCache:te,_removeLinkedListItem:ge}};ne("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return qt[e]=Lt[e]})),lt.add(St.updateRoot),h=qt.to({},{duration:0});var Zt=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Jt=function(e,t){return{name:e,rawVars:1,init:function(e,r,n){n._onInit=function(e){var n,i;if(T(r)&&(n={},ne(r,(function(e){return n[e]=1})),r=n),t){for(i in n={},r)n[i]=t(r[i]);r=n}!function(e,t){var r,n,i,a=e._targets;for(r in t)for(n=a.length;n--;)(i=e._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=Zt(i,r)),i&&i.modifier&&i.modifier(t[r],e,a[n],r))}(e,r)}}}},Qt=qt.registerPlugin({name:"attr",init:function(e,t,r,n,i){var a,o;for(a in t)(o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],n,i,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r])}},Jt("roundProps",Ve),Jt("modifiers"),Jt("snap",We))||qt;Lt.version=St.version=Qt.version="3.5.1",l=1,C()&&ct();ht.Power0,ht.Power1,ht.Power2,ht.Power3,ht.Power4,ht.Linear,ht.Quad,ht.Cubic,ht.Quart,ht.Quint,ht.Strong,ht.Elastic,ht.Back,ht.SteppedEase,ht.Bounce,ht.Sine,ht.Expo,ht.Circ},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t,r){return(s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}r.r(t),r.d(t,"ACESFilmicToneMapping",(function(){return ve})),r.d(t,"AddEquation",(function(){return B})),r.d(t,"AddOperation",(function(){return he})),r.d(t,"AdditiveAnimationBlendMode",(function(){return or})),r.d(t,"AdditiveBlending",(function(){return D})),r.d(t,"AlphaFormat",(function(){return Je})),r.d(t,"AlwaysDepth",(function(){return re})),r.d(t,"AlwaysStencilFunc",(function(){return Fr})),r.d(t,"AmbientLight",(function(){return Vh})),r.d(t,"AmbientLightProbe",(function(){return fd})),r.d(t,"AnimationClip",(function(){return Qc})),r.d(t,"AnimationLoader",(function(){return ah})),r.d(t,"AnimationMixer",(function(){return Xd})),r.d(t,"AnimationObjectGroup",(function(){return Vd})),r.d(t,"AnimationUtils",(function(){return zc})),r.d(t,"ArcCurve",(function(){return fh})),r.d(t,"ArrayCamera",(function(){return Xs})),r.d(t,"ArrowHelper",(function(){return Ff})),r.d(t,"Audio",(function(){return Sd})),r.d(t,"AudioAnalyser",(function(){return Od})),r.d(t,"AudioContext",(function(){return cd})),r.d(t,"AudioListener",(function(){return Td})),r.d(t,"AudioLoader",(function(){return hd})),r.d(t,"AxesHelper",(function(){return zf})),r.d(t,"AxisHelper",(function(){return Fp})),r.d(t,"BackSide",(function(){return C})),r.d(t,"BasicDepthPacking",(function(){return yr})),r.d(t,"BasicShadowMap",(function(){return S})),r.d(t,"BinaryTextureLoader",(function(){return Hp})),r.d(t,"Bone",(function(){return Eu})),r.d(t,"BooleanKeyframeTrack",(function(){return Vc})),r.d(t,"BoundingBoxHelper",(function(){return zp})),r.d(t,"Box2",(function(){return rf})),r.d(t,"Box3",(function(){return mn})),r.d(t,"Box3Helper",(function(){return If})),r.d(t,"BoxBufferGeometry",(function(){return Ca})),r.d(t,"BoxGeometry",(function(){return sl})),r.d(t,"BoxHelper",(function(){return Lf})),r.d(t,"BufferAttribute",(function(){return Ui})),r.d(t,"BufferGeometry",(function(){return ua})),r.d(t,"BufferGeometryLoader",(function(){return Kh})),r.d(t,"ByteType",(function(){return Be})),r.d(t,"Cache",(function(){return $c})),r.d(t,"Camera",(function(){return Ia})),r.d(t,"CameraHelper",(function(){return Af})),r.d(t,"CanvasRenderer",(function(){return Wp})),r.d(t,"CanvasTexture",(function(){return el})),r.d(t,"CatmullRomCurve3",(function(){return bh})),r.d(t,"CineonToneMapping",(function(){return me})),r.d(t,"CircleBufferGeometry",(function(){return ul})),r.d(t,"CircleGeometry",(function(){return ll})),r.d(t,"ClampToEdgeWrapping",(function(){return Me})),r.d(t,"Clock",(function(){return gd})),r.d(t,"ClosedSplineCurve3",(function(){return Ip})),r.d(t,"Color",(function(){return Li})),r.d(t,"ColorKeyframeTrack",(function(){return Wc})),r.d(t,"CompressedTexture",(function(){return $u})),r.d(t,"CompressedTextureLoader",(function(){return oh})),r.d(t,"ConeBufferGeometry",(function(){return fl})),r.d(t,"ConeGeometry",(function(){return dl})),r.d(t,"CubeCamera",(function(){return Fa})),r.d(t,"CubeGeometry",(function(){return sl})),r.d(t,"CubeReflectionMapping",(function(){return be})),r.d(t,"CubeRefractionMapping",(function(){return _e})),r.d(t,"CubeTexture",(function(){return za})),r.d(t,"CubeTextureLoader",(function(){return uh})),r.d(t,"CubeUVReflectionMapping",(function(){return Te})),r.d(t,"CubeUVRefractionMapping",(function(){return Se})),r.d(t,"CubicBezierCurve",(function(){return Th})),r.d(t,"CubicBezierCurve3",(function(){return Sh})),r.d(t,"CubicInterpolant",(function(){return Uc})),r.d(t,"CullFaceBack",(function(){return x})),r.d(t,"CullFaceFront",(function(){return w})),r.d(t,"CullFaceFrontBack",(function(){return T})),r.d(t,"CullFaceNone",(function(){return _})),r.d(t,"Curve",(function(){return hh})),r.d(t,"CurvePath",(function(){return kh})),r.d(t,"CustomBlending",(function(){return z})),r.d(t,"CustomToneMapping",(function(){return ge})),r.d(t,"CylinderBufferGeometry",(function(){return cl})),r.d(t,"CylinderGeometry",(function(){return hl})),r.d(t,"Cylindrical",(function(){return ef})),r.d(t,"DataTexture",(function(){return Ua})),r.d(t,"DataTexture2DArray",(function(){return co})),r.d(t,"DataTexture3D",(function(){return ho})),r.d(t,"DataTextureLoader",(function(){return lh})),r.d(t,"DataUtils",(function(){return jf})),r.d(t,"DecrementStencilOp",(function(){return Mr})),r.d(t,"DecrementWrapStencilOp",(function(){return Ar})),r.d(t,"DefaultLoadingManager",(function(){return th})),r.d(t,"DepthFormat",(function(){return rt})),r.d(t,"DepthStencilFormat",(function(){return nt})),r.d(t,"DepthTexture",(function(){return tl})),r.d(t,"DirectionalLight",(function(){return Gh})),r.d(t,"DirectionalLightHelper",(function(){return Ef})),r.d(t,"DiscreteInterpolant",(function(){return Hc})),r.d(t,"DodecahedronBufferGeometry",(function(){return ml})),r.d(t,"DodecahedronGeometry",(function(){return vl})),r.d(t,"DoubleSide",(function(){return O})),r.d(t,"DstAlphaFactor",(function(){return J})),r.d(t,"DstColorFactor",(function(){return K})),r.d(t,"DynamicBufferAttribute",(function(){return Sp})),r.d(t,"DynamicCopyUsage",(function(){return Wr})),r.d(t,"DynamicDrawUsage",(function(){return Br})),r.d(t,"DynamicReadUsage",(function(){return Hr})),r.d(t,"EdgesGeometry",(function(){return xl})),r.d(t,"EdgesHelper",(function(){return Bp})),r.d(t,"EllipseCurve",(function(){return dh})),r.d(t,"EqualDepth",(function(){return ae})),r.d(t,"EqualStencilFunc",(function(){return Rr})),r.d(t,"EquirectangularReflectionMapping",(function(){return xe})),r.d(t,"EquirectangularRefractionMapping",(function(){return we})),r.d(t,"Euler",(function(){return qn})),r.d(t,"EventDispatcher",(function(){return Zr})),r.d(t,"ExtrudeBufferGeometry",(function(){return Jl})),r.d(t,"ExtrudeGeometry",(function(){return Kl})),r.d(t,"Face3",(function(){return Ii})),r.d(t,"Face4",(function(){return lp})),r.d(t,"FaceColors",(function(){return fp})),r.d(t,"FileLoader",(function(){return ih})),r.d(t,"FlatShading",(function(){return k})),r.d(t,"Float16BufferAttribute",(function(){return qi})),r.d(t,"Float32Attribute",(function(){return Rp})),r.d(t,"Float32BufferAttribute",(function(){return Zi})),r.d(t,"Float64Attribute",(function(){return Lp})),r.d(t,"Float64BufferAttribute",(function(){return Ji})),r.d(t,"FloatType",(function(){return Ve})),r.d(t,"Fog",(function(){return eu})),r.d(t,"FogExp2",(function(){return $s})),r.d(t,"Font",(function(){return od})),r.d(t,"FontLoader",(function(){return ld})),r.d(t,"FrontSide",(function(){return A})),r.d(t,"Frustum",(function(){return Ga})),r.d(t,"GLBufferAttribute",(function(){return Zd})),r.d(t,"GLSL1",(function(){return Yr})),r.d(t,"GLSL3",(function(){return qr})),r.d(t,"GammaEncoding",(function(){return dr})),r.d(t,"Geometry",(function(){return ol})),r.d(t,"GeometryUtils",(function(){return Vp})),r.d(t,"GreaterDepth",(function(){return se})),r.d(t,"GreaterEqualDepth",(function(){return oe})),r.d(t,"GreaterEqualStencilFunc",(function(){return Nr})),r.d(t,"GreaterStencilFunc",(function(){return Ir})),r.d(t,"GridHelper",(function(){return _f})),r.d(t,"Group",(function(){return Ys})),r.d(t,"HalfFloatType",(function(){return We})),r.d(t,"HemisphereLight",(function(){return Dh})),r.d(t,"HemisphereLightHelper",(function(){return bf})),r.d(t,"HemisphereLightProbe",(function(){return dd})),r.d(t,"IcosahedronBufferGeometry",(function(){return $l})),r.d(t,"IcosahedronGeometry",(function(){return ec})),r.d(t,"ImageBitmapLoader",(function(){return id})),r.d(t,"ImageLoader",(function(){return sh})),r.d(t,"ImageUtils",(function(){return nn})),r.d(t,"ImmediateRenderObject",(function(){return sf})),r.d(t,"IncrementStencilOp",(function(){return Er})),r.d(t,"IncrementWrapStencilOp",(function(){return Pr})),r.d(t,"InstancedBufferAttribute",(function(){return Qh})),r.d(t,"InstancedBufferGeometry",(function(){return Jh})),r.d(t,"InstancedInterleavedBuffer",(function(){return qd})),r.d(t,"InstancedMesh",(function(){return Lu})),r.d(t,"Int16Attribute",(function(){return Ap})),r.d(t,"Int16BufferAttribute",(function(){return Vi})),r.d(t,"Int32Attribute",(function(){return Op})),r.d(t,"Int32BufferAttribute",(function(){return Xi})),r.d(t,"Int8Attribute",(function(){return Ep})),r.d(t,"Int8BufferAttribute",(function(){return ji})),r.d(t,"IntType",(function(){return He})),r.d(t,"InterleavedBuffer",(function(){return ru})),r.d(t,"InterleavedBufferAttribute",(function(){return au})),r.d(t,"Interpolant",(function(){return Bc})),r.d(t,"InterpolateDiscrete",(function(){return $t})),r.d(t,"InterpolateLinear",(function(){return er})),r.d(t,"InterpolateSmooth",(function(){return tr})),r.d(t,"InvertStencilOp",(function(){return Cr})),r.d(t,"JSONLoader",(function(){return Xp})),r.d(t,"KeepStencilOp",(function(){return Tr})),r.d(t,"KeyframeTrack",(function(){return Gc})),r.d(t,"LOD",(function(){return Tu})),r.d(t,"LatheBufferGeometry",(function(){return tc})),r.d(t,"LatheGeometry",(function(){return rc})),r.d(t,"Layers",(function(){return Qn})),r.d(t,"LensFlare",(function(){return qp})),r.d(t,"LessDepth",(function(){return ne})),r.d(t,"LessEqualDepth",(function(){return ie})),r.d(t,"LessEqualStencilFunc",(function(){return Lr})),r.d(t,"LessStencilFunc",(function(){return kr})),r.d(t,"Light",(function(){return Ih})),r.d(t,"LightProbe",(function(){return Yh})),r.d(t,"Line",(function(){return Uu})),r.d(t,"Line3",(function(){return of})),r.d(t,"LineBasicMaterial",(function(){return Iu})),r.d(t,"LineCurve",(function(){return Eh})),r.d(t,"LineCurve3",(function(){return Mh})),r.d(t,"LineDashedMaterial",(function(){return Nc})),r.d(t,"LineLoop",(function(){return Vu})),r.d(t,"LinePieces",(function(){return hp})),r.d(t,"LineSegments",(function(){return Gu})),r.d(t,"LineStrip",(function(){return cp})),r.d(t,"LinearEncoding",(function(){return cr})),r.d(t,"LinearFilter",(function(){return Le})),r.d(t,"LinearInterpolant",(function(){return jc})),r.d(t,"LinearMipMapLinearFilter",(function(){return Fe})),r.d(t,"LinearMipMapNearestFilter",(function(){return De})),r.d(t,"LinearMipmapLinearFilter",(function(){return Ne})),r.d(t,"LinearMipmapNearestFilter",(function(){return Ie})),r.d(t,"LinearToneMapping",(function(){return fe})),r.d(t,"Loader",(function(){return rh})),r.d(t,"LoaderUtils",(function(){return Zh})),r.d(t,"LoadingManager",(function(){return eh})),r.d(t,"LogLuvEncoding",(function(){return pr})),r.d(t,"LoopOnce",(function(){return Jt})),r.d(t,"LoopPingPong",(function(){return Kt})),r.d(t,"LoopRepeat",(function(){return Qt})),r.d(t,"LuminanceAlphaFormat",(function(){return et})),r.d(t,"LuminanceFormat",(function(){return $e})),r.d(t,"MOUSE",(function(){return y})),r.d(t,"Material",(function(){return Ni})),r.d(t,"MaterialLoader",(function(){return qh})),r.d(t,"Math",(function(){return en})),r.d(t,"MathUtils",(function(){return en})),r.d(t,"Matrix3",(function(){return rn})),r.d(t,"Matrix4",(function(){return Un})),r.d(t,"MaxEquation",(function(){return G})),r.d(t,"Mesh",(function(){return Ma})),r.d(t,"MeshBasicMaterial",(function(){return Fi})),r.d(t,"MeshDepthMaterial",(function(){return Us})),r.d(t,"MeshDistanceMaterial",(function(){return js})),r.d(t,"MeshFaceMaterial",(function(){return mp})),r.d(t,"MeshLambertMaterial",(function(){return Ic})),r.d(t,"MeshMatcapMaterial",(function(){return Dc})),r.d(t,"MeshNormalMaterial",(function(){return Lc})),r.d(t,"MeshPhongMaterial",(function(){return kc})),r.d(t,"MeshPhysicalMaterial",(function(){return Oc})),r.d(t,"MeshStandardMaterial",(function(){return Cc})),r.d(t,"MeshToonMaterial",(function(){return Rc})),r.d(t,"MinEquation",(function(){return H})),r.d(t,"MirroredRepeatWrapping",(function(){return Pe})),r.d(t,"MixOperation",(function(){return ce})),r.d(t,"MultiMaterial",(function(){return vp})),r.d(t,"MultiplyBlending",(function(){return F})),r.d(t,"MultiplyOperation",(function(){return le})),r.d(t,"NearestFilter",(function(){return Ae})),r.d(t,"NearestMipMapLinearFilter",(function(){return Re})),r.d(t,"NearestMipMapNearestFilter",(function(){return Oe})),r.d(t,"NearestMipmapLinearFilter",(function(){return ke})),r.d(t,"NearestMipmapNearestFilter",(function(){return Ce})),r.d(t,"NeverDepth",(function(){return te})),r.d(t,"NeverStencilFunc",(function(){return Or})),r.d(t,"NoBlending",(function(){return L})),r.d(t,"NoColors",(function(){return dp})),r.d(t,"NoToneMapping",(function(){return de})),r.d(t,"NormalAnimationBlendMode",(function(){return ar})),r.d(t,"NormalBlending",(function(){return I})),r.d(t,"NotEqualDepth",(function(){return ue})),r.d(t,"NotEqualStencilFunc",(function(){return Dr})),r.d(t,"NumberKeyframeTrack",(function(){return Xc})),r.d(t,"Object3D",(function(){return hi})),r.d(t,"ObjectLoader",(function(){return ed})),r.d(t,"ObjectSpaceNormalMap",(function(){return xr})),r.d(t,"OctahedronBufferGeometry",(function(){return nc})),r.d(t,"OctahedronGeometry",(function(){return ic})),r.d(t,"OneFactor",(function(){return W})),r.d(t,"OneMinusDstAlphaFactor",(function(){return Q})),r.d(t,"OneMinusDstColorFactor",(function(){return $})),r.d(t,"OneMinusSrcAlphaFactor",(function(){return Z})),r.d(t,"OneMinusSrcColorFactor",(function(){return Y})),r.d(t,"OrthographicCamera",(function(){return jh})),r.d(t,"PCFShadowMap",(function(){return E})),r.d(t,"PCFSoftShadowMap",(function(){return M})),r.d(t,"PMREMGenerator",(function(){return rp})),r.d(t,"ParametricBufferGeometry",(function(){return ac})),r.d(t,"ParametricGeometry",(function(){return oc})),r.d(t,"Particle",(function(){return yp})),r.d(t,"ParticleBasicMaterial",(function(){return xp})),r.d(t,"ParticleSystem",(function(){return bp})),r.d(t,"ParticleSystemMaterial",(function(){return wp})),r.d(t,"Path",(function(){return Rh})),r.d(t,"PerspectiveCamera",(function(){return Da})),r.d(t,"Plane",(function(){return mi})),r.d(t,"PlaneBufferGeometry",(function(){return Xa})),r.d(t,"PlaneGeometry",(function(){return sc})),r.d(t,"PlaneHelper",(function(){return Df})),r.d(t,"PointCloud",(function(){return gp})),r.d(t,"PointCloudMaterial",(function(){return _p})),r.d(t,"PointLight",(function(){return Uh})),r.d(t,"PointLightHelper",(function(){return mf})),r.d(t,"Points",(function(){return Ju})),r.d(t,"PointsMaterial",(function(){return Wu})),r.d(t,"PolarGridHelper",(function(){return xf})),r.d(t,"PolyhedronBufferGeometry",(function(){return pl})),r.d(t,"PolyhedronGeometry",(function(){return uc})),r.d(t,"PositionalAudio",(function(){return Cd})),r.d(t,"PropertyBinding",(function(){return Gd})),r.d(t,"PropertyMixer",(function(){return kd})),r.d(t,"QuadraticBezierCurve",(function(){return Ph})),r.d(t,"QuadraticBezierCurve3",(function(){return Ah})),r.d(t,"Quaternion",(function(){return hn})),r.d(t,"QuaternionKeyframeTrack",(function(){return qc})),r.d(t,"QuaternionLinearInterpolant",(function(){return Yc})),r.d(t,"REVISION",(function(){return g})),r.d(t,"RGBADepthPacking",(function(){return br})),r.d(t,"RGBAFormat",(function(){return Ke})),r.d(t,"RGBAIntegerFormat",(function(){return lt})),r.d(t,"RGBA_ASTC_10x10_Format",(function(){return Rt})),r.d(t,"RGBA_ASTC_10x5_Format",(function(){return Ct})),r.d(t,"RGBA_ASTC_10x6_Format",(function(){return Ot})),r.d(t,"RGBA_ASTC_10x8_Format",(function(){return kt})),r.d(t,"RGBA_ASTC_12x10_Format",(function(){return Lt})),r.d(t,"RGBA_ASTC_12x12_Format",(function(){return It})),r.d(t,"RGBA_ASTC_4x4_Format",(function(){return xt})),r.d(t,"RGBA_ASTC_5x4_Format",(function(){return wt})),r.d(t,"RGBA_ASTC_5x5_Format",(function(){return Tt})),r.d(t,"RGBA_ASTC_6x5_Format",(function(){return St})),r.d(t,"RGBA_ASTC_6x6_Format",(function(){return Et})),r.d(t,"RGBA_ASTC_8x5_Format",(function(){return Mt})),r.d(t,"RGBA_ASTC_8x6_Format",(function(){return Pt})),r.d(t,"RGBA_ASTC_8x8_Format",(function(){return At})),r.d(t,"RGBA_BPTC_Format",(function(){return Dt})),r.d(t,"RGBA_ETC2_EAC_Format",(function(){return _t})),r.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return gt})),r.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return vt})),r.d(t,"RGBA_S3TC_DXT1_Format",(function(){return ht})),r.d(t,"RGBA_S3TC_DXT3_Format",(function(){return dt})),r.d(t,"RGBA_S3TC_DXT5_Format",(function(){return ft})),r.d(t,"RGBDEncoding",(function(){return gr})),r.d(t,"RGBEEncoding",(function(){return fr})),r.d(t,"RGBEFormat",(function(){return tt})),r.d(t,"RGBFormat",(function(){return Qe})),r.d(t,"RGBIntegerFormat",(function(){return ut})),r.d(t,"RGBM16Encoding",(function(){return vr})),r.d(t,"RGBM7Encoding",(function(){return mr})),r.d(t,"RGB_ETC1_Format",(function(){return yt})),r.d(t,"RGB_ETC2_Format",(function(){return bt})),r.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return mt})),r.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return pt})),r.d(t,"RGB_S3TC_DXT1_Format",(function(){return ct})),r.d(t,"RGFormat",(function(){return ot})),r.d(t,"RGIntegerFormat",(function(){return st})),r.d(t,"RawShaderMaterial",(function(){return Ac})),r.d(t,"Ray",(function(){return Bn})),r.d(t,"Raycaster",(function(){return Jd})),r.d(t,"RectAreaLight",(function(){return Wh})),r.d(t,"RedFormat",(function(){return it})),r.d(t,"RedIntegerFormat",(function(){return at})),r.d(t,"ReinhardToneMapping",(function(){return pe})),r.d(t,"RepeatWrapping",(function(){return Ee})),r.d(t,"ReplaceStencilOp",(function(){return Sr})),r.d(t,"ReverseSubtractEquation",(function(){return j})),r.d(t,"RingBufferGeometry",(function(){return lc})),r.d(t,"RingGeometry",(function(){return cc})),r.d(t,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return Yt})),r.d(t,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Vt})),r.d(t,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return Wt})),r.d(t,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return Xt})),r.d(t,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return qt})),r.d(t,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return Zt})),r.d(t,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return Nt})),r.d(t,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return Ft})),r.d(t,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return zt})),r.d(t,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Bt})),r.d(t,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Ut})),r.d(t,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return jt})),r.d(t,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return Ht})),r.d(t,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return Gt})),r.d(t,"Scene",(function(){return tu})),r.d(t,"SceneUtils",(function(){return Yp})),r.d(t,"ShaderChunk",(function(){return Ya})),r.d(t,"ShaderLib",(function(){return Za})),r.d(t,"ShaderMaterial",(function(){return La})),r.d(t,"ShadowMaterial",(function(){return Pc})),r.d(t,"Shape",(function(){return Lh})),r.d(t,"ShapeBufferGeometry",(function(){return hc})),r.d(t,"ShapeGeometry",(function(){return dc})),r.d(t,"ShapePath",(function(){return ad})),r.d(t,"ShapeUtils",(function(){return Yl})),r.d(t,"ShortType",(function(){return Ue})),r.d(t,"Skeleton",(function(){return Au})),r.d(t,"SkeletonHelper",(function(){return ff})),r.d(t,"SkinnedMesh",(function(){return Su})),r.d(t,"SmoothShading",(function(){return R})),r.d(t,"Sphere",(function(){return kn})),r.d(t,"SphereBufferGeometry",(function(){return fc})),r.d(t,"SphereGeometry",(function(){return pc})),r.d(t,"Spherical",(function(){return $d})),r.d(t,"SphericalHarmonics3",(function(){return Xh})),r.d(t,"Spline",(function(){return Np})),r.d(t,"SplineCurve",(function(){return Ch})),r.d(t,"SplineCurve3",(function(){return Dp})),r.d(t,"SpotLight",(function(){return zh})),r.d(t,"SpotLightHelper",(function(){return lf})),r.d(t,"Sprite",(function(){return bu})),r.d(t,"SpriteMaterial",(function(){return ou})),r.d(t,"SrcAlphaFactor",(function(){return q})),r.d(t,"SrcAlphaSaturateFactor",(function(){return ee})),r.d(t,"SrcColorFactor",(function(){return X})),r.d(t,"StaticCopyUsage",(function(){return Vr})),r.d(t,"StaticDrawUsage",(function(){return zr})),r.d(t,"StaticReadUsage",(function(){return jr})),r.d(t,"StereoCamera",(function(){return vd})),r.d(t,"StreamCopyUsage",(function(){return Xr})),r.d(t,"StreamDrawUsage",(function(){return Ur})),r.d(t,"StreamReadUsage",(function(){return Gr})),r.d(t,"StringKeyframeTrack",(function(){return Zc})),r.d(t,"SubtractEquation",(function(){return U})),r.d(t,"SubtractiveBlending",(function(){return N})),r.d(t,"TOUCH",(function(){return b})),r.d(t,"TangentSpaceNormalMap",(function(){return _r})),r.d(t,"TetrahedronBufferGeometry",(function(){return mc})),r.d(t,"TetrahedronGeometry",(function(){return vc})),r.d(t,"TextBufferGeometry",(function(){return gc})),r.d(t,"TextGeometry",(function(){return yc})),r.d(t,"Texture",(function(){return on})),r.d(t,"TextureLoader",(function(){return ch})),r.d(t,"TorusBufferGeometry",(function(){return bc})),r.d(t,"TorusGeometry",(function(){return _c})),r.d(t,"TorusKnotBufferGeometry",(function(){return xc})),r.d(t,"TorusKnotGeometry",(function(){return wc})),r.d(t,"Triangle",(function(){return Mi})),r.d(t,"TriangleFanDrawMode",(function(){return lr})),r.d(t,"TriangleStripDrawMode",(function(){return ur})),r.d(t,"TrianglesDrawMode",(function(){return sr})),r.d(t,"TubeBufferGeometry",(function(){return Tc})),r.d(t,"TubeGeometry",(function(){return Sc})),r.d(t,"UVMapping",(function(){return ye})),r.d(t,"Uint16Attribute",(function(){return Cp})),r.d(t,"Uint16BufferAttribute",(function(){return Wi})),r.d(t,"Uint32Attribute",(function(){return kp})),r.d(t,"Uint32BufferAttribute",(function(){return Yi})),r.d(t,"Uint8Attribute",(function(){return Mp})),r.d(t,"Uint8BufferAttribute",(function(){return Hi})),r.d(t,"Uint8ClampedAttribute",(function(){return Pp})),r.d(t,"Uint8ClampedBufferAttribute",(function(){return Gi})),r.d(t,"Uniform",(function(){return Yd})),r.d(t,"UniformsLib",(function(){return qa})),r.d(t,"UniformsUtils",(function(){return Ra})),r.d(t,"UnsignedByteType",(function(){return ze})),r.d(t,"UnsignedInt248Type",(function(){return Ze})),r.d(t,"UnsignedIntType",(function(){return Ge})),r.d(t,"UnsignedShort4444Type",(function(){return Xe})),r.d(t,"UnsignedShort5551Type",(function(){return Ye})),r.d(t,"UnsignedShort565Type",(function(){return qe})),r.d(t,"UnsignedShortType",(function(){return je})),r.d(t,"VSMShadowMap",(function(){return P})),r.d(t,"Vector2",(function(){return tn})),r.d(t,"Vector3",(function(){return dn})),r.d(t,"Vector4",(function(){return un})),r.d(t,"VectorKeyframeTrack",(function(){return Jc})),r.d(t,"Vertex",(function(){return Tp})),r.d(t,"VertexColors",(function(){return pp})),r.d(t,"VideoTexture",(function(){return Ku})),r.d(t,"WebGL1Renderer",(function(){return Ks})),r.d(t,"WebGLCubeRenderTarget",(function(){return Ba})),r.d(t,"WebGLMultisampleRenderTarget",(function(){return cn})),r.d(t,"WebGLRenderTarget",(function(){return ln})),r.d(t,"WebGLRenderTargetCube",(function(){return Gp})),r.d(t,"WebGLRenderer",(function(){return Qs})),r.d(t,"WebGLUtils",(function(){return Ws})),r.d(t,"WireframeGeometry",(function(){return Ec})),r.d(t,"WireframeHelper",(function(){return Up})),r.d(t,"WrapAroundEnding",(function(){return ir})),r.d(t,"XHRLoader",(function(){return jp})),r.d(t,"ZeroCurvatureEnding",(function(){return rr})),r.d(t,"ZeroFactor",(function(){return V})),r.d(t,"ZeroSlopeEnding",(function(){return nr})),r.d(t,"ZeroStencilOp",(function(){return wr})),r.d(t,"sRGBEncoding",(function(){return hr}));var u=r(9),l=r(29);function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(l.a)(e,t)}var h=r(30);function d(e){var t=Object(h.a)();return function(){var r,n=o(e);if(t){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}var f,p=r(3);function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}var g="123",y={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},b={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},_=0,x=1,w=2,T=3,S=0,E=1,M=2,P=3,A=0,C=1,O=2,k=1,R=2,L=0,I=1,D=2,N=3,F=4,z=5,B=100,U=101,j=102,H=103,G=104,V=200,W=201,X=202,Y=203,q=204,Z=205,J=206,Q=207,K=208,$=209,ee=210,te=0,re=1,ne=2,ie=3,ae=4,oe=5,se=6,ue=7,le=0,ce=1,he=2,de=0,fe=1,pe=2,me=3,ve=4,ge=5,ye=300,be=301,_e=302,xe=303,we=304,Te=306,Se=307,Ee=1e3,Me=1001,Pe=1002,Ae=1003,Ce=1004,Oe=1004,ke=1005,Re=1005,Le=1006,Ie=1007,De=1007,Ne=1008,Fe=1008,ze=1009,Be=1010,Ue=1011,je=1012,He=1013,Ge=1014,Ve=1015,We=1016,Xe=1017,Ye=1018,qe=1019,Ze=1020,Je=1021,Qe=1022,Ke=1023,$e=1024,et=1025,tt=Ke,rt=1026,nt=1027,it=1028,at=1029,ot=1030,st=1031,ut=1032,lt=1033,ct=33776,ht=33777,dt=33778,ft=33779,pt=35840,mt=35841,vt=35842,gt=35843,yt=36196,bt=37492,_t=37496,xt=37808,wt=37809,Tt=37810,St=37811,Et=37812,Mt=37813,Pt=37814,At=37815,Ct=37816,Ot=37817,kt=37818,Rt=37819,Lt=37820,It=37821,Dt=36492,Nt=37840,Ft=37841,zt=37842,Bt=37843,Ut=37844,jt=37845,Ht=37846,Gt=37847,Vt=37848,Wt=37849,Xt=37850,Yt=37851,qt=37852,Zt=37853,Jt=2200,Qt=2201,Kt=2202,$t=2300,er=2301,tr=2302,rr=2400,nr=2401,ir=2402,ar=2500,or=2501,sr=0,ur=1,lr=2,cr=3e3,hr=3001,dr=3007,fr=3002,pr=3003,mr=3004,vr=3005,gr=3006,yr=3200,br=3201,_r=0,xr=1,wr=0,Tr=7680,Sr=7681,Er=7682,Mr=7683,Pr=34055,Ar=34056,Cr=5386,Or=512,kr=513,Rr=514,Lr=515,Ir=516,Dr=517,Nr=518,Fr=519,zr=35044,Br=35048,Ur=35040,jr=35045,Hr=35049,Gr=35041,Vr=35046,Wr=35050,Xr=35042,Yr="100",qr="300 es";function Zr(){}Object.assign(Zr.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var r=this._listeners[e];if(void 0!==r){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var r=t.slice(0),n=0,i=r.length;n<i;n++)r[n].call(this,e)}}}});for(var Jr=[],Qr=0;Qr<256;Qr++)Jr[Qr]=(Qr<16?"0":"")+Qr.toString(16);var Kr,$r=1234567,en={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Jr[255&e]+Jr[e>>8&255]+Jr[e>>16&255]+Jr[e>>24&255]+"-"+Jr[255&t]+Jr[t>>8&255]+"-"+Jr[t>>16&15|64]+Jr[t>>24&255]+"-"+Jr[63&r|128]+Jr[r>>8&255]+"-"+Jr[r>>16&255]+Jr[r>>24&255]+Jr[255&n]+Jr[n>>8&255]+Jr[n>>16&255]+Jr[n>>24&255]).toUpperCase()},clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},lerp:function(e,t,r){return(1-r)*e+r*t},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&($r=e%2147483647),(($r=16807*$r%2147483647)-1)/2147483646},degToRad:function(e){return e*en.DEG2RAD},radToDeg:function(e){return e*en.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,r,n,i){var a=Math.cos,o=Math.sin,s=a(r/2),u=o(r/2),l=a((t+n)/2),c=o((t+n)/2),h=a((t-n)/2),d=o((t-n)/2),f=a((n-t)/2),p=o((n-t)/2);switch(i){case"XYX":e.set(s*c,u*h,u*d,s*l);break;case"YZY":e.set(u*d,s*c,u*h,s*l);break;case"ZXZ":e.set(u*h,u*d,s*c,s*l);break;case"XZX":e.set(s*c,u*p,u*f,s*l);break;case"YXY":e.set(u*f,s*c,u*p,s*l);break;case"ZYZ":e.set(u*p,u*f,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}},tn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(p.a)(this,e),Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=r}return v(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*r-a*n+e.x,this.y=i*n+a*r+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),e}(),rn=function(){function e(){Object(p.a)(this,e),Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return v(e,[{key:"set",value:function(e,t,r,n,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=n,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=r,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}},{key:"extractBasis",value:function(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var r=e.elements,n=t.elements,i=this.elements,a=r[0],o=r[3],s=r[6],u=r[1],l=r[4],c=r[7],h=r[2],d=r[5],f=r[8],p=n[0],m=n[3],v=n[6],g=n[1],y=n[4],b=n[7],_=n[2],x=n[5],w=n[8];return i[0]=a*p+o*g+s*_,i[3]=a*m+o*y+s*x,i[6]=a*v+o*b+s*w,i[1]=u*p+l*g+c*_,i[4]=u*m+l*y+c*x,i[7]=u*v+l*b+c*w,i[2]=h*p+d*g+f*_,i[5]=h*m+d*y+f*x,i[8]=h*v+d*b+f*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-r*i*l+r*o*s+n*i*u-n*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,h=o*s-l*i,d=u*i-a*s,f=t*c+r*h+n*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(n*u-l*r)*p,e[2]=(o*r-n*a)*p,e[3]=h*p,e[4]=(l*t-n*s)*p,e[5]=(n*i-o*t)*p,e[6]=d*p,e[7]=(r*s-u*t)*p,e[8]=(a*t-r*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).copy(this).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,r,n,i,a,o){var s=Math.cos(i),u=Math.sin(i);this.set(r*s,r*u,-r*(s*a+u*o)+a+e,-n*u,n*s,-n*(-u*a+s*o)+o+t,0,0,1)}},{key:"scale",value:function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),r=Math.sin(e),n=this.elements,i=n[0],a=n[3],o=n[6],s=n[1],u=n[4],l=n[7];return n[0]=t*i+r*s,n[3]=t*a+r*u,n[6]=t*o+r*l,n[1]=-r*i+t*s,n[4]=-r*a+t*u,n[7]=-r*o+t*l,this}},{key:"translate",value:function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}},{key:"equals",value:function(e){for(var t=this.elements,r=e.elements,n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<9;r++)this.elements[r]=e[r+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}}]),e}(),nn={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Kr&&(Kr=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Kr.width=e.width,Kr.height=e.height;var r=Kr.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Kr}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},an=0;function on(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:on.DEFAULT_MAPPING,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Me,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Me,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Le,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ne,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ke,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:ze,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:cr;Object.defineProperty(this,"id",{value:an++}),this.uuid=en.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=n,this.magFilter=i,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=s,this.offset=new tn(0,0),this.repeat=new tn(1,1),this.center=new tn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new rn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=l,this.version=0,this.onUpdate=null}function sn(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?nn.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}on.DEFAULT_IMAGE=void 0,on.DEFAULT_MAPPING=ye,on.prototype=Object.assign(Object.create(Zr.prototype),{constructor:on,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=en.generateUUID()),!t&&void 0===e.images[n.uuid]){var i;if(Array.isArray(n)){i=[];for(var a=0,o=n.length;a<o;a++)n[a].isDataTexture?i.push(sn(n[a].image)):i.push(sn(n[a]))}else i=sn(n);e.images[n.uuid]={uuid:n.uuid,url:i}}r.image=n.uuid}return t||(e.textures[this.uuid]=r),r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==ye)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ee:e.x=e.x-Math.floor(e.x);break;case Me:e.x=e.x<0?0:1;break;case Pe:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ee:e.y=e.y-Math.floor(e.y);break;case Me:e.y=e.y<0?0:1;break;case Pe:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(on.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});var un=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(p.a)(this,e),Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=r,this.z=n,this.w=i}return v(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,r=this.y,n=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*n+a[12]*i,this.y=a[1]*t+a[5]*r+a[9]*n+a[13]*i,this.z=a[2]*t+a[6]*r+a[10]*n+a[14]*i,this.w=a[3]*t+a[7]*r+a[11]*n+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,r,n,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],h=s[1],d=s[5],f=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(l-h)<a&&Math.abs(c-p)<a&&Math.abs(f-m)<a){if(Math.abs(l+h)<o&&Math.abs(c+p)<o&&Math.abs(f+m)<o&&Math.abs(u+d+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(d+1)/2,b=(v+1)/2,_=(l+h)/4,x=(c+p)/4,w=(f+m)/4;return g>y&&g>b?g<a?(r=0,n=.707106781,i=.707106781):(n=_/(r=Math.sqrt(g)),i=x/r):y>b?y<a?(r=.707106781,n=0,i=.707106781):(r=_/(n=Math.sqrt(y)),i=w/n):b<a?(r=.707106781,n=.707106781,i=0):(r=x/(i=Math.sqrt(b)),n=w/i),this.set(r,n,i,t),this}var T=Math.sqrt((m-f)*(m-f)+(c-p)*(c-p)+(h-l)*(h-l));return Math.abs(T)<.001&&(T=1),this.x=(m-f)/T,this.y=(c-p)/T,this.z=(h-l)/T,this.w=Math.acos((u+d+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),e}();function ln(e,t,r){this.width=e,this.height=t,this.scissor=new un(0,0,e,t),this.scissorTest=!1,this.viewport=new un(0,0,e,t),r=r||{},this.texture=new on(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:Le,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function cn(e,t,r){ln.call(this,e,t,r),this.samples=4}ln.prototype=Object.assign(Object.create(Zr.prototype),{constructor:ln,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),cn.prototype=Object.assign(Object.create(ln.prototype),{constructor:cn,isWebGLMultisampleRenderTarget:!0,copy:function(e){return ln.prototype.copy.call(this,e),this.samples=e.samples,this}});var hn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(p.a)(this,e),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=r,this._z=n,this._w=i}return v(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=e._x,n=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(r/2),l=o(n/2),c=o(i/2),h=s(r/2),d=s(n/2),f=s(i/2);switch(a){case"XYZ":this._x=h*l*c+u*d*f,this._y=u*d*c-h*l*f,this._z=u*l*f+h*d*c,this._w=u*l*c-h*d*f;break;case"YXZ":this._x=h*l*c+u*d*f,this._y=u*d*c-h*l*f,this._z=u*l*f-h*d*c,this._w=u*l*c+h*d*f;break;case"ZXY":this._x=h*l*c-u*d*f,this._y=u*d*c+h*l*f,this._z=u*l*f+h*d*c,this._w=u*l*c-h*d*f;break;case"ZYX":this._x=h*l*c-u*d*f,this._y=u*d*c+h*l*f,this._z=u*l*f-h*d*c,this._w=u*l*c+h*d*f;break;case"YZX":this._x=h*l*c+u*d*f,this._y=u*d*c+h*l*f,this._z=u*l*f-h*d*c,this._w=u*l*c-h*d*f;break;case"XZY":this._x=h*l*c-u*d*f,this._y=u*d*c-h*l*f,this._z=u*l*f+h*d*c,this._w=u*l*c+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,r=t[0],n=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],h=r+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(l-s)*d,this._y=(i-u)*d,this._z=(a-n)*d}else if(r>o&&r>c){var f=2*Math.sqrt(1+r-o-c);this._w=(l-s)/f,this._x=.25*f,this._y=(n+a)/f,this._z=(i+u)/f}else if(o>c){var p=2*Math.sqrt(1+o-r-c);this._w=(i-u)/p,this._x=(n+a)/p,this._y=.25*p,this._z=(s+l)/p}else{var m=2*Math.sqrt(1+c-r-o);this._w=(a-n)/m,this._x=(i+u)/m,this._y=(s+l)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var r=e.dot(t)+1;return r<1e-6?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(en.clamp(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var r=this.angleTo(e);if(0===r)return this;var n=Math.min(1,t/r);return this.slerp(e,n),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var r=e._x,n=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=r*l+a*o+n*u-i*s,this._y=n*l+a*s+i*o-r*u,this._z=i*l+a*u+r*s-n*o,this._w=a*l-r*o-n*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,a=this._w,o=a*e._w+r*e._x+n*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=n,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*r+t*this._x,this._y=u*n+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),h=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*h+this._w*d,this._x=r*h+this._x*d,this._y=n*h+this._y*d,this._z=i*h+this._z*d,this._onChangeCallback(),this}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,r,n){return r.copy(e).slerp(t,n)}},{key:"slerpFlat",value:function(e,t,r,n,i,a,o){var s=r[n+0],u=r[n+1],l=r[n+2],c=r[n+3],h=i[a+0],d=i[a+1],f=i[a+2],p=i[a+3];if(c!==p||s!==h||u!==d||l!==f){var m=1-o,v=s*h+u*d+l*f+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,v*g);m=Math.sin(m*_)/b,o=Math.sin(o*_)/b}var x=o*g;if(s=s*m+h*x,u=u*m+d*x,l=l*m+f*x,c=c*m+p*x,m===1-o){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,r,n,i,a){var o=r[n],s=r[n+1],u=r[n+2],l=r[n+3],c=i[a],h=i[a+1],d=i[a+2],f=i[a+3];return e[t]=o*f+l*c+s*d-u*h,e[t+1]=s*f+l*h+u*c-o*d,e[t+2]=u*f+l*d+o*h-s*c,e[t+3]=l*f-o*c-s*h-u*d,e}}]),e}(),dn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(p.a)(this,e),Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=r,this.z=n}return v(e,[{key:"set",value:function(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(pn.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(pn.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements,a=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*a,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*a,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*n-o*r,l=s*r+o*t-i*n,c=s*n+i*r-a*t,h=-i*t-a*r-o*n;return this.x=u*s+h*-i+l*-o-c*-a,this.y=l*s+h*-a+c*-i-u*-o,this.z=c*s+h*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var r=e.x,n=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=n*s-i*o,this.y=i*a-r*s,this.z=r*o-n*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}},{key:"projectOnPlane",value:function(e){return fn.copy(this).projectOnVector(e),this.sub(fn)}},{key:"reflect",value:function(e){return this.sub(fn.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var r=this.dot(e)/t;return Math.acos(en.clamp(r,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,r){var n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),e}(),fn=new dn,pn=new hn,mn=function(){function e(t,r){Object(p.a)(this,e),Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new dn(1/0,1/0,1/0),this.max=void 0!==r?r:new dn(-1/0,-1/0,-1/0)}return v(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],h=e[s+2];l<t&&(t=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,r,n),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),h=e.getZ(s);l<t&&(t=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,r,n),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var r=yn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new dn),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new dn),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),bn.copy(t.boundingBox),bn.applyMatrix4(e.matrixWorld),this.union(bn));for(var r=e.children,n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new dn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,yn),yn.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Mn),Pn.subVectors(this.max,Mn),_n.subVectors(e.a,Mn),xn.subVectors(e.b,Mn),wn.subVectors(e.c,Mn),Tn.subVectors(xn,_n),Sn.subVectors(wn,xn),En.subVectors(_n,wn);var t=[0,-Tn.z,Tn.y,0,-Sn.z,Sn.y,0,-En.z,En.y,Tn.z,0,-Tn.x,Sn.z,0,-Sn.x,En.z,0,-En.x,-Tn.y,Tn.x,0,-Sn.y,Sn.x,0,-En.y,En.x,0];return!!vn(t,_n,xn,wn,Pn)&&(!!vn(t=[1,0,0,0,1,0,0,0,1],_n,xn,wn,Pn)&&(An.crossVectors(Tn,Sn),vn(t=[An.x,An.y,An.z],_n,xn,wn,Pn)))}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new dn),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return yn.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(yn).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(gn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),gn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),gn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),gn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),gn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),gn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),gn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),gn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(gn)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();function vn(e,t,r,n,i){for(var a=0,o=e.length-3;a<=o;a+=3){Cn.fromArray(e,a);var s=i.x*Math.abs(Cn.x)+i.y*Math.abs(Cn.y)+i.z*Math.abs(Cn.z),u=t.dot(Cn),l=r.dot(Cn),c=n.dot(Cn);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var gn=[new dn,new dn,new dn,new dn,new dn,new dn,new dn,new dn],yn=new dn,bn=new mn,_n=new dn,xn=new dn,wn=new dn,Tn=new dn,Sn=new dn,En=new dn,Mn=new dn,Pn=new dn,An=new dn,Cn=new dn,On=new mn,kn=function(){function e(t,r){Object(p.a)(this,e),this.center=void 0!==t?t:new dn,this.radius=void 0!==r?r:-1}return v(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var r=this.center;void 0!==t?r.copy(t):On.setFromPoints(e).getCenter(r);for(var n=0,i=0,a=e.length;i<a;i++)n=Math.max(n,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var r=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new dn),t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new mn),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}]),e}(),Rn=new dn,Ln=new dn,In=new dn,Dn=new dn,Nn=new dn,Fn=new dn,zn=new dn,Bn=function(){function e(t,r){Object(p.a)(this,e),this.origin=void 0!==t?t:new dn,this.direction=void 0!==r?r:new dn(0,0,-1)}return v(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new dn),t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Rn)),this}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new dn),t.subVectors(e,this.origin);var r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Rn.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Rn.copy(this.direction).multiplyScalar(t).add(this.origin),Rn.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,r,n){Ln.copy(e).add(t).multiplyScalar(.5),In.copy(t).sub(e).normalize(),Dn.copy(this.origin).sub(Ln);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(In),c=Dn.dot(this.direction),h=-Dn.dot(In),d=Dn.lengthSq(),f=Math.abs(1-l*l);if(f>0)if(a=l*c-h,s=u*f,(i=l*h-c)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*h)+d}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-h),u))*(a+2*h)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-h),u))*(a+2*h)+d):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-h),u))*(a+2*h)+d;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;return r&&r.copy(this.direction).multiplyScalar(i).add(this.origin),n&&n.copy(In).multiplyScalar(a).add(Ln),o}},{key:"intersectSphere",value:function(e,t){Rn.subVectors(e.center,this.origin);var r=Rn.dot(this.direction),n=Rn.dot(Rn)-r*r,i=e.radius*e.radius;if(n>i)return null;var a=Math.sqrt(i-n),o=r-a,s=r+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}},{key:"intersectPlane",value:function(e,t){var r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var r,n,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,n=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,n=(e.min.x-h.x)*u),l>=0?(i=(e.min.y-h.y)*l,a=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,a=(e.min.y-h.y)*l),r>a||i>n?null:((i>r||r!==r)&&(r=i),(a<n||n!==n)&&(n=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),r>s||o>n?null:((o>r||r!==r)&&(r=o),(s<n||n!==n)&&(n=s),n<0?null:this.at(r>=0?r:n,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Rn)}},{key:"intersectTriangle",value:function(e,t,r,n,i){Nn.subVectors(t,e),Fn.subVectors(r,e),zn.crossVectors(Nn,Fn);var a,o=this.direction.dot(zn);if(o>0){if(n)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Dn.subVectors(this.origin,e);var s=a*this.direction.dot(Fn.crossVectors(Dn,Fn));if(s<0)return null;var u=a*this.direction.dot(Nn.cross(Dn));if(u<0)return null;if(s+u>o)return null;var l=-a*Dn.dot(zn);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}]),e}(),Un=function(){function e(){Object(p.a)(this,e),Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return v(e,[{key:"set",value:function(e,t,r,n,i,a,o,s,u,l,c,h,d,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=n,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=c,v[14]=h,v[3]=d,v[7]=f,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}},{key:"extractBasis",value:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,r=e.elements,n=1/jn.setFromMatrixColumn(e,0).length(),i=1/jn.setFromMatrixColumn(e,1).length(),a=1/jn.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,r=e.x,n=e.y,i=e.z,a=Math.cos(r),o=Math.sin(r),s=Math.cos(n),u=Math.sin(n),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*l,d=a*c,f=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=d+f*u,t[5]=h-p*u,t[9]=-o*s,t[2]=p-h*u,t[6]=f+d*u,t[10]=a*s}else if("YXZ"===e.order){var m=s*l,v=s*c,g=u*l,y=u*c;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*l,_=s*c,x=u*l,w=u*c;t[0]=b-w*o,t[4]=-a*c,t[8]=x+_*o,t[1]=_+x*o,t[5]=a*l,t[9]=w-b*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var T=a*l,S=a*c,E=o*l,M=o*c;t[0]=s*l,t[4]=E*u-S,t[8]=T*u+M,t[1]=s*c,t[5]=M*u+T,t[9]=S*u-E,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var P=a*s,A=a*u,C=o*s,O=o*u;t[0]=s*l,t[4]=O-P*c,t[8]=C*c+A,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=A*c+C,t[10]=P-O*c}else if("XZY"===e.order){var k=a*s,R=a*u,L=o*s,I=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=k*c+I,t[5]=a*l,t[9]=R*c-L,t[2]=L*c-R,t[6]=o*l,t[10]=I*c+k}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Gn,e,Vn)}},{key:"lookAt",value:function(e,t,r){var n=this.elements;return Yn.subVectors(e,t),0===Yn.lengthSq()&&(Yn.z=1),Yn.normalize(),Wn.crossVectors(r,Yn),0===Wn.lengthSq()&&(1===Math.abs(r.z)?Yn.x+=1e-4:Yn.z+=1e-4,Yn.normalize(),Wn.crossVectors(r,Yn)),Wn.normalize(),Xn.crossVectors(Yn,Wn),n[0]=Wn.x,n[4]=Xn.x,n[8]=Yn.x,n[1]=Wn.y,n[5]=Xn.y,n[9]=Yn.y,n[2]=Wn.z,n[6]=Xn.z,n[10]=Yn.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var r=e.elements,n=t.elements,i=this.elements,a=r[0],o=r[4],s=r[8],u=r[12],l=r[1],c=r[5],h=r[9],d=r[13],f=r[2],p=r[6],m=r[10],v=r[14],g=r[3],y=r[7],b=r[11],_=r[15],x=n[0],w=n[4],T=n[8],S=n[12],E=n[1],M=n[5],P=n[9],A=n[13],C=n[2],O=n[6],k=n[10],R=n[14],L=n[3],I=n[7],D=n[11],N=n[15];return i[0]=a*x+o*E+s*C+u*L,i[4]=a*w+o*M+s*O+u*I,i[8]=a*T+o*P+s*k+u*D,i[12]=a*S+o*A+s*R+u*N,i[1]=l*x+c*E+h*C+d*L,i[5]=l*w+c*M+h*O+d*I,i[9]=l*T+c*P+h*k+d*D,i[13]=l*S+c*A+h*R+d*N,i[2]=f*x+p*E+m*C+v*L,i[6]=f*w+p*M+m*O+v*I,i[10]=f*T+p*P+m*k+v*D,i[14]=f*S+p*A+m*R+v*N,i[3]=g*x+y*E+b*C+_*L,i[7]=g*w+y*M+b*O+_*I,i[11]=g*T+y*P+b*k+_*D,i[15]=g*S+y*A+b*R+_*N,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+i*s*c-n*u*c-i*o*h+r*u*h+n*o*d-r*s*d)+e[7]*(+t*s*d-t*u*h+i*a*h-n*a*d+n*u*l-i*s*l)+e[11]*(+t*u*c-t*o*d-i*a*c+r*a*d+i*o*l-r*u*l)+e[15]*(-n*o*l-t*s*c+t*o*h+n*a*c-r*a*h+r*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,r){var n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],v=e[15],g=c*m*u-p*h*u+p*s*d-o*m*d-c*s*v+o*h*v,y=f*h*u-l*m*u-f*s*d+a*m*d+l*s*v-a*h*v,b=l*p*u-f*c*u+f*o*d-a*p*d-l*o*v+a*c*v,_=f*c*s-l*p*s-f*o*h+a*p*h+l*o*m-a*c*m,x=t*g+r*y+n*b+i*_;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return e[0]=g*w,e[1]=(p*h*i-c*m*i-p*n*d+r*m*d+c*n*v-r*h*v)*w,e[2]=(o*m*i-p*s*i+p*n*u-r*m*u-o*n*v+r*s*v)*w,e[3]=(c*s*i-o*h*i-c*n*u+r*h*u+o*n*d-r*s*d)*w,e[4]=y*w,e[5]=(l*m*i-f*h*i+f*n*d-t*m*d-l*n*v+t*h*v)*w,e[6]=(f*s*i-a*m*i-f*n*u+t*m*u+a*n*v-t*s*v)*w,e[7]=(a*h*i-l*s*i+l*n*u-t*h*u-a*n*d+t*s*d)*w,e[8]=b*w,e[9]=(f*c*i-l*p*i-f*r*d+t*p*d+l*r*v-t*c*v)*w,e[10]=(a*p*i-f*o*i+f*r*u-t*p*u-a*r*v+t*o*v)*w,e[11]=(l*o*i-a*c*i-l*r*u+t*c*u+a*r*d-t*o*d)*w,e[12]=_*w,e[13]=(l*p*n-f*c*n+f*r*h-t*p*h-l*r*m+t*c*m)*w,e[14]=(f*o*n-a*p*n-f*r*s+t*p*s+a*r*m-t*o*m)*w,e[15]=(a*c*n-l*o*n+l*r*s-t*c*s-a*r*h+t*o*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))}},{key:"makeTranslation",value:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=1-r,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+r,u*o-n*s,u*s+n*o,0,u*o+n*s,l*o+r,l*s-n*a,0,u*s-n*o,l*s+n*a,i*s*s+r,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,r){var n=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,h=i*u,d=i*l,f=i*c,p=a*l,m=a*c,v=o*c,g=s*u,y=s*l,b=s*c,_=r.x,x=r.y,w=r.z;return n[0]=(1-(p+v))*_,n[1]=(d+b)*_,n[2]=(f-y)*_,n[3]=0,n[4]=(d-b)*x,n[5]=(1-(h+v))*x,n[6]=(m+g)*x,n[7]=0,n[8]=(f+y)*w,n[9]=(m-g)*w,n[10]=(1-(h+p))*w,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}},{key:"decompose",value:function(e,t,r){var n=this.elements,i=jn.set(n[0],n[1],n[2]).length(),a=jn.set(n[4],n[5],n[6]).length(),o=jn.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],Hn.copy(this);var s=1/i,u=1/a,l=1/o;return Hn.elements[0]*=s,Hn.elements[1]*=s,Hn.elements[2]*=s,Hn.elements[4]*=u,Hn.elements[5]*=u,Hn.elements[6]*=u,Hn.elements[8]*=l,Hn.elements[9]*=l,Hn.elements[10]*=l,t.setFromRotationMatrix(Hn),r.x=i,r.y=a,r.z=o,this}},{key:"makePerspective",value:function(e,t,r,n,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),u=2*i/(r-n),l=(t+e)/(t-e),c=(r+n)/(r-n),h=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,r,n,i,a){var o=this.elements,s=1/(t-e),u=1/(r-n),l=1/(a-i),c=(t+e)*s,h=(r+n)*u,d=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,r=e.elements,n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<16;r++)this.elements[r]=e[r+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}]),e}(),jn=new dn,Hn=new Un,Gn=new dn(0,0,0),Vn=new dn(1,1,1),Wn=new dn,Xn=new dn,Yn=new dn,qn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;Object(p.a)(this,e),Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=r,this._z=n,this._order=i}return v(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e,t,r){var n=en.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],u=i[1],l=i[5],c=i[9],h=i[2],d=i[6],f=i[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-n(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-n(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(n(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==r&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,r){return Zn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Zn,t,r)}},{key:"setFromVector3",value:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)}},{key:"reorder",value:function(e){return Jn.setFromEuler(this),this.setFromQuaternion(Jn,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new dn(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();qn.DefaultOrder="XYZ",qn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Zn=new Un,Jn=new hn,Qn=function(){function e(){Object(p.a)(this,e),this.mask=1}return v(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}}]),e}(),Kn=0,$n=new dn,ei=new hn,ti=new Un,ri=new dn,ni=new dn,ii=new dn,ai=new hn,oi=new dn(1,0,0),si=new dn(0,1,0),ui=new dn(0,0,1),li={type:"added"},ci={type:"removed"};function hi(){Object.defineProperty(this,"id",{value:Kn++}),this.uuid=en.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=hi.DefaultUp.clone();var e=new dn,t=new qn,r=new hn,n=new dn(1,1,1);t._onChange((function(){r.setFromEuler(t,!1)})),r._onChange((function(){t.setFromQuaternion(r,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Un},normalMatrix:{value:new rn}}),this.matrix=new Un,this.matrixWorld=new Un,this.matrixAutoUpdate=hi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Qn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}hi.DefaultUp=new dn(0,1,0),hi.DefaultMatrixAutoUpdate=!0,hi.prototype=Object.assign(Object.create(Zr.prototype),{constructor:hi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return ei.setFromAxisAngle(e,t),this.quaternion.multiply(ei),this},rotateOnWorldAxis:function(e,t){return ei.setFromAxisAngle(e,t),this.quaternion.premultiply(ei),this},rotateX:function(e){return this.rotateOnAxis(oi,e)},rotateY:function(e){return this.rotateOnAxis(si,e)},rotateZ:function(e){return this.rotateOnAxis(ui,e)},translateOnAxis:function(e,t){return $n.copy(e).applyQuaternion(this.quaternion),this.position.add($n.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(oi,e)},translateY:function(e){return this.translateOnAxis(si,e)},translateZ:function(e){return this.translateOnAxis(ui,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(ti.copy(this.matrixWorld).invert())},lookAt:function(e,t,r){e.isVector3?ri.copy(e):ri.set(e,t,r);var n=this.parent;this.updateWorldMatrix(!0,!1),ni.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ti.lookAt(ni,ri,this.up):ti.lookAt(ri,ni,this.up),this.quaternion.setFromRotationMatrix(ti),n&&(ti.extractRotation(n.matrixWorld),ei.setFromRotationMatrix(ti),this.quaternion.premultiply(ei.invert()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(li)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var r=this.children.indexOf(e);return-1!==r&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(ci)),this},clear:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(ci)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),ti.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ti.multiply(e.parent.matrixWorld)),e.applyMatrix4(ti),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new dn),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new hn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ni,e,ii),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new dn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ni,ai,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new dn),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var n=this.children,i=0,a=n.length;i<a;i++)n[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function i(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){n.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,d=this.material.length;h<d;h++)c.push(i(e.materials,this.material[h]));n.material=c}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(var f=0;f<this.children.length;f++)n.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(var p=0;p<this.animations.length;p++){var m=this.animations[p];n.animations.push(i(e.animations,m))}}if(t){var v=T(e.geometries),g=T(e.materials),y=T(e.textures),b=T(e.images),_=T(e.shapes),x=T(e.skeletons),w=T(e.animations);v.length>0&&(r.geometries=v),g.length>0&&(r.materials=g),y.length>0&&(r.textures=y),b.length>0&&(r.images=b),_.length>0&&(r.shapes=_),x.length>0&&(r.skeletons=x),w.length>0&&(r.animations=w)}return r.object=n,r;function T(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var r=0;r<e.children.length;r++){var n=e.children[r];this.add(n.clone())}return this}});var di=new dn,fi=new dn,pi=new rn,mi=function(){function e(t,r){Object(p.a)(this,e),Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new dn(1,0,0),this.constant=void 0!==r?r:0}return v(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,r){var n=di.subVectors(r,t).cross(fi.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new dn),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new dn);var r=e.delta(di),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/n;return i<0||i>1?void 0:t.copy(r).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new dn),e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var r=t||pi.getNormalMatrix(e),n=this.coplanarPoint(di).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}]),e}(),vi=new dn,gi=new dn,yi=new dn,bi=new dn,_i=new dn,xi=new dn,wi=new dn,Ti=new dn,Si=new dn,Ei=new dn,Mi=function(){function e(t,r,n){Object(p.a)(this,e),this.a=void 0!==t?t:new dn,this.b=void 0!==r?r:new dn,this.c=void 0!==n?n:new dn}return v(e,[{key:"set",value:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}},{key:"setFromPointsAndIndices",value:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return vi.subVectors(this.c,this.b),gi.subVectors(this.a,this.b),.5*vi.cross(gi).length()}},{key:"getMidpoint",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new dn),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new mi),e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,r){return e.getBarycoord(t,this.a,this.b,this.c,r)}},{key:"getUV",value:function(t,r,n,i,a){return e.getUV(t,this.a,this.b,this.c,r,n,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new dn);var r,n,i=this.a,a=this.b,o=this.c;_i.subVectors(a,i),xi.subVectors(o,i),Ti.subVectors(e,i);var s=_i.dot(Ti),u=xi.dot(Ti);if(s<=0&&u<=0)return t.copy(i);Si.subVectors(e,a);var l=_i.dot(Si),c=xi.dot(Si);if(l>=0&&c<=l)return t.copy(a);var h=s*c-l*u;if(h<=0&&s>=0&&l<=0)return r=s/(s-l),t.copy(i).addScaledVector(_i,r);Ei.subVectors(e,o);var d=_i.dot(Ei),f=xi.dot(Ei);if(f>=0&&d<=f)return t.copy(o);var p=d*u-s*f;if(p<=0&&u>=0&&f<=0)return n=u/(u-f),t.copy(i).addScaledVector(xi,n);var m=l*f-d*c;if(m<=0&&c-l>=0&&d-f>=0)return wi.subVectors(o,a),n=(c-l)/(c-l+(d-f)),t.copy(a).addScaledVector(wi,n);var v=1/(m+p+h);return r=p*v,n=h*v,t.copy(i).addScaledVector(_i,r).addScaledVector(xi,n)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,r,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new dn),n.subVectors(r,t),vi.subVectors(e,t),n.cross(vi);var i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,r,n,i){vi.subVectors(n,t),gi.subVectors(r,t),yi.subVectors(e,t);var a=vi.dot(vi),o=vi.dot(gi),s=vi.dot(yi),u=gi.dot(gi),l=gi.dot(yi),c=a*u-o*o;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new dn),0===c)return i.set(-2,-1,-1);var h=1/c,d=(u*s-o*l)*h,f=(a*l-o*s)*h;return i.set(1-d-f,f,d)}},{key:"containsPoint",value:function(e,t,r,n){return this.getBarycoord(e,t,r,n,bi),bi.x>=0&&bi.y>=0&&bi.x+bi.y<=1}},{key:"getUV",value:function(e,t,r,n,i,a,o,s){return this.getBarycoord(e,t,r,n,bi),s.set(0,0),s.addScaledVector(i,bi.x),s.addScaledVector(a,bi.y),s.addScaledVector(o,bi.z),s}},{key:"isFrontFacing",value:function(e,t,r,n){return vi.subVectors(r,t),gi.subVectors(e,t),vi.cross(gi).dot(n)<0}}]),e}(),Pi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ai={h:0,s:0,l:0},Ci={h:0,s:0,l:0};function Oi(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function ki(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ri(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Li=function(){function e(t,r,n){return Object(p.a)(this,e),Object.defineProperty(this,"isColor",{value:!0}),void 0===r&&void 0===n?this.set(t):this.setRGB(t,r,n)}return v(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,r){return this.r=e,this.g=t,this.b=r,this}},{key:"setHSL",value:function(e,t,r){if(e=en.euclideanModulo(e,1),t=en.clamp(t,0,1),r=en.clamp(r,0,1),0===t)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+t):r+t-r*t,i=2*r-n;this.r=Oi(i,n,e+1/3),this.g=Oi(i,n,e),this.b=Oi(i,n,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n,i=r[1],a=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,u=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(o,s,u)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=r[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=Pi[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=ki(e.r),this.g=ki(e.g),this.b=ki(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Ri(e.r),this.g=Ri(e.g),this.b=Ri(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,r,n=this.r,i=this.g,a=this.b,o=Math.max(n,i,a),s=Math.min(n,i,a),u=(s+o)/2;if(s===o)t=0,r=0;else{var l=o-s;switch(r=u<=.5?l/(o+s):l/(2-o-s),o){case n:t=(i-a)/l+(i<a?6:0);break;case i:t=(a-n)/l+2;break;case a:t=(n-i)/l+4}t/=6}return e.h=t,e.s=r,e.l=u,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,r){return this.getHSL(Ai),Ai.h+=e,Ai.s+=t,Ai.l+=r,this.setHSL(Ai.h,Ai.s,Ai.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Ai),e.getHSL(Ci);var r=en.lerp(Ai.h,Ci.h,t),n=en.lerp(Ai.s,Ci.s,t),i=en.lerp(Ai.l,Ci.l,t);return this.setHSL(r,n,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();Li.NAMES=Pi,Li.prototype.r=1,Li.prototype.g=1,Li.prototype.b=1;var Ii=function(){function e(t,r,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(p.a)(this,e),this.a=t,this.b=r,this.c=n,this.normal=i&&i.isVector3?i:new dn,this.vertexNormals=Array.isArray(i)?i:[],this.color=a&&a.isColor?a:new Li,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=o}return v(e,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var n=0,i=e.vertexColors.length;n<i;n++)this.vertexColors[n]=e.vertexColors[n].clone();return this}}]),e}(),Di=0;function Ni(){Object.defineProperty(this,"id",{value:Di++}),this.uuid=en.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=I,this.side=A,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=q,this.blendDst=Z,this.blendEquation=B,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ie,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Fr,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Tr,this.stencilZFail=Tr,this.stencilZPass=Tr,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Fi(e){Ni.call(this),this.type="MeshBasicMaterial",this.color=new Li(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=le,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Ni.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Ni,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r)if("shading"!==t){var n=this[t];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===k;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(r.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity,r.refractionRatio=this.refractionRatio,void 0!==this.combine&&(r.combine=this.combine),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==I&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==A&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.morphNormals&&(r.morphNormals=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){var i=n(e.textures),a=n(e.images);i.length>0&&(r.textures=i),a.length>0&&(r.images=a)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,r=null;if(null!==t){var n=t.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ni.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Fi.prototype=Object.create(Ni.prototype),Fi.prototype.constructor=Fi,Fi.prototype.isMeshBasicMaterial=!0,Fi.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var zi=new dn,Bi=new tn;function Ui(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=zr,this.updateRange={offset:0,count:-1},this.version=0}function ji(e,t,r){Ui.call(this,new Int8Array(e),t,r)}function Hi(e,t,r){Ui.call(this,new Uint8Array(e),t,r)}function Gi(e,t,r){Ui.call(this,new Uint8ClampedArray(e),t,r)}function Vi(e,t,r){Ui.call(this,new Int16Array(e),t,r)}function Wi(e,t,r){Ui.call(this,new Uint16Array(e),t,r)}function Xi(e,t,r){Ui.call(this,new Int32Array(e),t,r)}function Yi(e,t,r){Ui.call(this,new Uint32Array(e),t,r)}function qi(e,t,r){Ui.call(this,new Uint16Array(e),t,r)}function Zi(e,t,r){Ui.call(this,new Float32Array(e),t,r)}function Ji(e,t,r){Ui.call(this,new Float64Array(e),t,r)}Object.defineProperty(Ui.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ui.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),a=new Li),t[r++]=a.r,t[r++]=a.g,t[r++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),a=new tn),t[r++]=a.x,t[r++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new dn),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new un),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z,t[r++]=a.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(var t=0,r=this.count;t<r;t++)Bi.fromBufferAttribute(this,t),Bi.applyMatrix3(e),this.setXY(t,Bi.x,Bi.y);else if(3===this.itemSize)for(var n=0,i=this.count;n<i;n++)zi.fromBufferAttribute(this,n),zi.applyMatrix3(e),this.setXYZ(n,zi.x,zi.y,zi.z);return this},applyMatrix4:function(e){for(var t=0,r=this.count;t<r;t++)zi.x=this.getX(t),zi.y=this.getY(t),zi.z=this.getZ(t),zi.applyMatrix4(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this},applyNormalMatrix:function(e){for(var t=0,r=this.count;t<r;t++)zi.x=this.getX(t),zi.y=this.getY(t),zi.z=this.getZ(t),zi.applyNormalMatrix(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this},transformDirection:function(e){for(var t=0,r=this.count;t<r;t++)zi.x=this.getX(t),zi.y=this.getY(t),zi.z=this.getZ(t),zi.transformDirection(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),ji.prototype=Object.create(Ui.prototype),ji.prototype.constructor=ji,Hi.prototype=Object.create(Ui.prototype),Hi.prototype.constructor=Hi,Gi.prototype=Object.create(Ui.prototype),Gi.prototype.constructor=Gi,Vi.prototype=Object.create(Ui.prototype),Vi.prototype.constructor=Vi,Wi.prototype=Object.create(Ui.prototype),Wi.prototype.constructor=Wi,Xi.prototype=Object.create(Ui.prototype),Xi.prototype.constructor=Xi,Yi.prototype=Object.create(Ui.prototype),Yi.prototype.constructor=Yi,qi.prototype=Object.create(Ui.prototype),qi.prototype.constructor=qi,qi.prototype.isFloat16BufferAttribute=!0,Zi.prototype=Object.create(Ui.prototype),Zi.prototype.constructor=Zi,Ji.prototype=Object.create(Ui.prototype),Ji.prototype.constructor=Ji;var Qi=function(){function e(){Object(p.a)(this,e),this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}return v(e,[{key:"computeGroups",value:function(e){var t,r,n=[],i=void 0,a=e.faces;for(r=0;r<a.length;r++){var o=a[r];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*r-t.start,n.push(t)),t={start:3*r,materialIndex:i})}void 0!==t&&(t.count=3*r-t.start,n.push(t)),this.groups=n}},{key:"fromGeometry",value:function(e){var t,r=e.faces,n=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,u=s.length;if(u>0){t=[];for(var l=0;l<u;l++)t[l]={name:s[l].name,data:[]};this.morphTargets.position=t}var c,h=e.morphNormals,d=h.length;if(d>0){c=[];for(var f=0;f<d;f++)c[f]={name:h[f].name,data:[]};this.morphTargets.normal=c}var p=e.skinIndices,m=e.skinWeights,v=p.length===n.length,g=m.length===n.length;n.length>0&&0===r.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var y=0;y<r.length;y++){var b=r[y];this.vertices.push(n[b.a],n[b.b],n[b.c]);var _=b.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var x=b.normal;this.normals.push(x,x,x)}var w=b.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var T=b.color;this.colors.push(T,T,T)}if(!0===a){var S=i[0][y];void 0!==S?this.uvs.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",y),this.uvs.push(new tn,new tn,new tn))}if(!0===o){var E=i[1][y];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",y),this.uvs2.push(new tn,new tn,new tn))}for(var M=0;M<u;M++){var P=s[M].vertices;t[M].data.push(P[b.a],P[b.b],P[b.c])}for(var A=0;A<d;A++){var C=h[A].vertexNormals[y];c[A].data.push(C.a,C.b,C.c)}v&&this.skinIndices.push(p[b.a],p[b.b],p[b.c]),g&&this.skinWeights.push(m[b.a],m[b.b],m[b.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}}]),e}();function Ki(e){if(0===e.length)return-1/0;for(var t=e[0],r=1,n=e.length;r<n;++r)e[r]>t&&(t=e[r]);return t}var $i={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function ea(e,t){return new $i[e](t)}var ta=1,ra=new Un,na=new hi,ia=new dn,aa=new mn,oa=new mn,sa=new dn;function ua(){Object.defineProperty(this,"id",{value:ta+=2}),this.uuid=en.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}ua.prototype=Object.assign(Object.create(Zr.prototype),{constructor:ua,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(Ki(e)>65535?Yi:Wi)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return void 0!==this.attributes[e]},addGroup:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:r})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var n=(new rn).getNormalMatrix(e);r.applyNormalMatrix(n),r.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return ra.makeRotationX(e),this.applyMatrix4(ra),this},rotateY:function(e){return ra.makeRotationY(e),this.applyMatrix4(ra),this},rotateZ:function(e){return ra.makeRotationZ(e),this.applyMatrix4(ra),this},translate:function(e,t,r){return ra.makeTranslation(e,t,r),this.applyMatrix4(ra),this},scale:function(e,t,r){return ra.makeScale(e,t,r),this.applyMatrix4(ra),this},lookAt:function(e){return na.lookAt(e),na.updateMatrix(),this.applyMatrix4(na.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ia).negate(),this.translate(ia.x,ia.y,ia.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var r=new Zi(3*t.vertices.length,3),n=new Zi(3*t.colors.length,3);if(this.setAttribute("position",r.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Zi(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Zi(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var r=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(r=void 0,t.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(t);r.verticesNeedUpdate=t.verticesNeedUpdate,r.normalsNeedUpdate=t.normalsNeedUpdate,r.colorsNeedUpdate=t.colorsNeedUpdate,r.uvsNeedUpdate=t.uvsNeedUpdate,r.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=r}if(!0===t.verticesNeedUpdate){var n=this.attributes.position;void 0!==n&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){var i=this.attributes.normal;void 0!==i&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){var a=this.attributes.color;void 0!==a&&(a.copyColorsArray(t.colors),a.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var o=this.attributes.uv;void 0!==o&&(o.copyVector2sArray(t.uvs),o.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var s=this.attributes.lineDistance;void 0!==s&&(s.copyArray(t.lineDistances),s.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Qi).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Ui(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var r=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Ui(r,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var n=new Float32Array(3*e.colors.length);this.setAttribute("color",new Ui(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Ui(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Ui(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],u=e.morphTargets[o],l=0,c=u.length;l<c;l++){var h=u[l],d=new Zi(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var f=new Zi(4*e.skinIndices.length,4);this.setAttribute("skinIndex",f.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new Zi(4*e.skinWeights.length,4);this.setAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new mn);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new dn(-1/0,-1/0,-1/0),new dn(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var r=0,n=t.length;r<n;r++){var i=t[r];aa.setFromBufferAttribute(i),this.morphTargetsRelative?(sa.addVectors(this.boundingBox.min,aa.min),this.boundingBox.expandByPoint(sa),sa.addVectors(this.boundingBox.max,aa.max),this.boundingBox.expandByPoint(sa)):(this.boundingBox.expandByPoint(aa.min),this.boundingBox.expandByPoint(aa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new kn);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new dn,1/0);if(e){var r=this.boundingSphere.center;if(aa.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var a=t[n];oa.setFromBufferAttribute(a),this.morphTargetsRelative?(sa.addVectors(aa.min,oa.min),aa.expandByPoint(sa),sa.addVectors(aa.max,oa.max),aa.expandByPoint(sa)):(aa.expandByPoint(oa.min),aa.expandByPoint(oa.max))}aa.getCenter(r);for(var o=0,s=0,u=e.count;s<u;s++)sa.fromBufferAttribute(e,s),o=Math.max(o,r.distanceToSquared(sa));if(t)for(var l=0,c=t.length;l<c;l++)for(var h=t[l],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)sa.fromBufferAttribute(h,f),d&&(ia.fromBufferAttribute(e,f),sa.add(ia)),o=Math.max(o,r.distanceToSquared(sa));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var r=this.getAttribute("normal");if(void 0===r)r=new Ui(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(var n=0,i=r.count;n<i;n++)r.setXYZ(n,0,0,0);var a=new dn,o=new dn,s=new dn,u=new dn,l=new dn,c=new dn,h=new dn,d=new dn;if(e)for(var f=0,p=e.count;f<p;f+=3){var m=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);a.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),u.fromBufferAttribute(r,m),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,g),u.add(h),l.add(h),c.add(h),r.setXYZ(m,u.x,u.y,u.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),r.setXYZ(y+0,h.x,h.y,h.z),r.setXYZ(y+1,h.x,h.y,h.z),r.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r=this.attributes;for(var n in r)if(void 0!==e.attributes[n])for(var i=r[n].array,a=e.attributes[n],o=a.array,s=a.itemSize*t,u=Math.min(o.length,i.length-s),l=0,c=s;l<u;l++,c++)i[c]=o[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,r=e.count;t<r;t++)sa.fromBufferAttribute(e,t),sa.normalize(),e.setXYZ(t,sa.x,sa.y,sa.z)},toNonIndexed:function(){function e(e,t){for(var r=e.array,n=e.itemSize,i=e.normalized,a=new r.constructor(t.length*n),o=0,s=0,u=0,l=t.length;u<l;u++){o=t[u]*n;for(var c=0;c<n;c++)a[s++]=r[o++]}return new Ui(a,n,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new ua,r=this.index.array,n=this.attributes;for(var i in n){var a=e(n[i],r);t.setAttribute(i,a)}var o=this.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,h=l.length;c<h;c++){var d=e(l[c],r);u.push(d)}t.morphAttributes[s]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,m=f.length;p<m;p++){var v=f[p];t.addGroup(v.start,v.count,v.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};var n=this.index;null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var i=this.attributes;for(var a in i){var o=i[a],s=o.toJSON(e.data);""!==o.name&&(s.name=o.name),e.data.attributes[a]=s}var u={},l=!1;for(var c in this.morphAttributes){for(var h=this.morphAttributes[c],d=[],f=0,p=h.length;f<p;f++){var m=h[f],v=m.toJSON(e.data);""!==m.name&&(v.name=m.name),d.push(v)}d.length>0&&(u[c]=d,l=!0)}l&&(e.data.morphAttributes=u,e.data.morphTargetsRelative=this.morphTargetsRelative);var g=this.groups;g.length>0&&(e.data.groups=JSON.parse(JSON.stringify(g)));var y=this.boundingSphere;return null!==y&&(e.data.boundingSphere={center:y.center.toArray(),radius:y.radius}),e},clone:function(){return(new ua).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone(t));var n=e.attributes;for(var i in n){var a=n[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,h=l.length;c<h;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,f=0,p=d.length;f<p;f++){var m=d[f];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var la=new Un,ca=new Bn,ha=new kn,da=new dn,fa=new dn,pa=new dn,ma=new dn,va=new dn,ga=new dn,ya=new dn,ba=new dn,_a=new dn,xa=new tn,wa=new tn,Ta=new tn,Sa=new dn,Ea=new dn;function Ma(e,t){hi.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new ua,this.material=void 0!==t?t:new Fi,this.updateMorphTargets()}function Pa(e,t,r,n,i,a,o,s){if(null===(t.side===C?n.intersectTriangle(o,a,i,!0,s):n.intersectTriangle(i,a,o,t.side!==O,s)))return null;Ea.copy(s),Ea.applyMatrix4(e.matrixWorld);var u=r.ray.origin.distanceTo(Ea);return u<r.near||u>r.far?null:{distance:u,point:Ea.clone(),object:e}}function Aa(e,t,r,n,i,a,o,s,u,l,c,h){da.fromBufferAttribute(i,l),fa.fromBufferAttribute(i,c),pa.fromBufferAttribute(i,h);var d=e.morphTargetInfluences;if(t.morphTargets&&a&&d){ya.set(0,0,0),ba.set(0,0,0),_a.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var m=d[f],v=a[f];0!==m&&(ma.fromBufferAttribute(v,l),va.fromBufferAttribute(v,c),ga.fromBufferAttribute(v,h),o?(ya.addScaledVector(ma,m),ba.addScaledVector(va,m),_a.addScaledVector(ga,m)):(ya.addScaledVector(ma.sub(da),m),ba.addScaledVector(va.sub(fa),m),_a.addScaledVector(ga.sub(pa),m)))}da.add(ya),fa.add(ba),pa.add(_a)}e.isSkinnedMesh&&(e.boneTransform(l,da),e.boneTransform(c,fa),e.boneTransform(h,pa));var g=Pa(e,t,r,n,da,fa,pa,Sa);if(g){s&&(xa.fromBufferAttribute(s,l),wa.fromBufferAttribute(s,c),Ta.fromBufferAttribute(s,h),g.uv=Mi.getUV(Sa,da,fa,pa,xa,wa,Ta,new tn)),u&&(xa.fromBufferAttribute(u,l),wa.fromBufferAttribute(u,c),Ta.fromBufferAttribute(u,h),g.uv2=Mi.getUV(Sa,da,fa,pa,xa,wa,Ta,new tn));var y=new Ii(l,c,h);Mi.getNormal(da,fa,pa,y.normal),g.face=y}return g}Ma.prototype=Object.assign(Object.create(hi.prototype),{constructor:Ma,isMesh:!0,copy:function(e){return hi.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,r=Object.keys(t);if(r.length>0){var n=t[r[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=n.length;i<a;i++){var o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var r,n=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),ha.copy(n.boundingSphere),ha.applyMatrix4(a),!1!==e.ray.intersectsSphere(ha)&&(la.copy(a).invert(),ca.copy(e.ray).applyMatrix4(la),null===n.boundingBox||!1!==ca.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var o=n.index,s=n.attributes.position,u=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,h=n.attributes.uv2,d=n.groups,f=n.drawRange;if(null!==o)if(Array.isArray(i))for(var p=0,m=d.length;p<m;p++)for(var v=d[p],g=i[v.materialIndex],y=Math.max(v.start,f.start),b=Math.min(v.start+v.count,f.start+f.count);y<b;y+=3){var _=o.getX(y),x=o.getX(y+1),w=o.getX(y+2);(r=Aa(this,g,e,ca,s,u,l,c,h,_,x,w))&&(r.faceIndex=Math.floor(y/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(var T=Math.max(0,f.start),S=Math.min(o.count,f.start+f.count);T<S;T+=3){var E=o.getX(T),M=o.getX(T+1),P=o.getX(T+2);(r=Aa(this,i,e,ca,s,u,l,c,h,E,M,P))&&(r.faceIndex=Math.floor(T/3),t.push(r))}else if(void 0!==s)if(Array.isArray(i))for(var A=0,C=d.length;A<C;A++)for(var O=d[A],k=i[O.materialIndex],R=Math.max(O.start,f.start),L=Math.min(O.start+O.count,f.start+f.count);R<L;R+=3){(r=Aa(this,k,e,ca,s,u,l,c,h,R,R+1,R+2))&&(r.faceIndex=Math.floor(R/3),r.face.materialIndex=O.materialIndex,t.push(r))}else for(var I=Math.max(0,f.start),D=Math.min(s.count,f.start+f.count);I<D;I+=3){(r=Aa(this,i,e,ca,s,u,l,c,h,I,I+1,I+2))&&(r.faceIndex=Math.floor(I/3),t.push(r))}}else if(n.isGeometry){var N,F=Array.isArray(i),z=n.vertices,B=n.faces,U=n.faceVertexUvs[0];U.length>0&&(N=U);for(var j=0,H=B.length;j<H;j++){var G=B[j],V=F?i[G.materialIndex]:i;if(void 0!==V){var W=z[G.a],X=z[G.b],Y=z[G.c];if(r=Pa(this,V,e,ca,W,X,Y,Sa)){if(N&&N[j]){var q=N[j];xa.copy(q[0]),wa.copy(q[1]),Ta.copy(q[2]),r.uv=Mi.getUV(Sa,W,X,Y,xa,wa,Ta,new tn)}r.face=G,r.faceIndex=j,t.push(r)}}}}}});var Ca=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Object(p.a)(this,r),(e=t.call(this)).type="BoxBufferGeometry",e.parameters={width:n,height:a,depth:o,widthSegments:s,heightSegments:u,depthSegments:l};var c=i(e);s=Math.floor(s),u=Math.floor(u),l=Math.floor(l);var h=[],d=[],f=[],m=[],v=0,g=0;function y(e,t,r,n,i,a,o,s,u,l,p){for(var y=a/u,b=o/l,_=a/2,x=o/2,w=s/2,T=u+1,S=l+1,E=0,M=0,P=new dn,A=0;A<S;A++)for(var C=A*b-x,O=0;O<T;O++){var k=O*y-_;P[e]=k*n,P[t]=C*i,P[r]=w,d.push(P.x,P.y,P.z),P[e]=0,P[t]=0,P[r]=s>0?1:-1,f.push(P.x,P.y,P.z),m.push(O/u),m.push(1-A/l),E+=1}for(var R=0;R<l;R++)for(var L=0;L<u;L++){var I=v+L+T*R,D=v+L+T*(R+1),N=v+(L+1)+T*(R+1),F=v+(L+1)+T*R;h.push(I,D,F),h.push(D,N,F),M+=6}c.addGroup(g,M,p),g+=M,v+=E}return y("z","y","x",-1,-1,o,a,n,l,u,0),y("z","y","x",1,-1,o,a,-n,l,u,1),y("x","z","y",1,1,n,o,a,s,l,2),y("x","z","y",1,-1,n,o,-a,s,l,3),y("x","y","z",1,-1,n,a,o,s,u,4),y("x","y","z",-1,-1,n,a,-o,s,u,5),e.setIndex(h),e.setAttribute("position",new Zi(d,3)),e.setAttribute("normal",new Zi(f,3)),e.setAttribute("uv",new Zi(m,2)),e}return r}(ua);function Oa(e){var t={};for(var r in e)for(var n in t[r]={},e[r]){var i=e[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[r][n]=i.clone():Array.isArray(i)?t[r][n]=i.slice():t[r][n]=i}return t}function ka(e){for(var t={},r=0;r<e.length;r++){var n=Oa(e[r]);for(var i in n)t[i]=n[i]}return t}var Ra={clone:Oa,merge:ka};function La(e){Ni.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Ia(){hi.call(this),this.type="Camera",this.matrixWorldInverse=new Un,this.projectionMatrix=new Un,this.projectionMatrixInverse=new Un}function Da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;Ia.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}La.prototype=Object.create(Ni.prototype),La.prototype.constructor=La,La.prototype.isShaderMaterial=!0,La.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Oa(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},La.prototype.toJSON=function(e){var t=Ni.prototype.toJSON.call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Ia.prototype=Object.assign(Object.create(hi.prototype),{constructor:Ia,isCamera:!0,copy:function(e,t){return hi.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new dn),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){hi.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){hi.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),Da.prototype=Object.assign(Object.create(Ia.prototype),{constructor:Da,isPerspectiveCamera:!0,copy:function(e,t){return Ia.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*en.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*en.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*en.RAD2DEG*Math.atan(Math.tan(.5*en.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,r,n,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*en.DEG2RAD*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*n/o,t-=a.offsetY*r/s,n*=a.width/o,r*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){var t=hi.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var Na=90;function Fa(e,t,r){if(hi.call(this),this.type="CubeCamera",!0===r.isWebGLCubeRenderTarget){this.renderTarget=r;var n=new Da(Na,1,e,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new dn(1,0,0)),this.add(n);var i=new Da(Na,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new dn(-1,0,0)),this.add(i);var a=new Da(Na,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new dn(0,1,0)),this.add(a);var o=new Da(Na,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new dn(0,-1,0)),this.add(o);var s=new Da(Na,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new dn(0,0,1)),this.add(s);var u=new Da(Na,1,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new dn(0,0,-1)),this.add(u),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var l=e.xr.enabled,c=e.getRenderTarget();e.xr.enabled=!1;var h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,n),e.setRenderTarget(r,1),e.render(t,i),e.setRenderTarget(r,2),e.render(t,a),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,s),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.xr.enabled=l}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function za(e,t,r,n,i,a,o,s,u,l){e=void 0!==e?e:[],t=void 0!==t?t:be,o=void 0!==o?o:Qe,on.call(this,e,t,r,n,i,a,o,s,u,l),this.flipY=!1,this._needsFlipEnvMap=!0}function Ba(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),ln.call(this,e,e,t),t=t||{},this.texture=new za(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture._needsFlipEnvMap=!1}function Ua(e,t,r,n,i,a,o,s,u,l,c,h){on.call(this,null,a,o,s,u,l,n,i,c,h),this.image={data:e||null,width:t||1,height:r||1},this.magFilter=void 0!==u?u:Ae,this.minFilter=void 0!==l?l:Ae,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Fa.prototype=Object.create(hi.prototype),Fa.prototype.constructor=Fa,za.prototype=Object.create(on.prototype),za.prototype.constructor=za,za.prototype.isCubeTexture=!0,Object.defineProperty(za.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Ba.prototype=Object.create(ln.prototype),Ba.prototype.constructor=Ba,Ba.prototype.isWebGLCubeRenderTarget=!0,Ba.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=Ke,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var r={tEquirect:{value:null}},n="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",i="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",a=new Ca(5,5,5),o=new La({name:"CubemapFromEquirect",uniforms:Oa(r),vertexShader:n,fragmentShader:i,side:C,blending:L});o.uniforms.tEquirect.value=t;var s=new Ma(a,o),u=t.minFilter;return t.minFilter===Ne&&(t.minFilter=Le),new Fa(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this},Ba.prototype.clear=function(e,t,r,n){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,r,n);e.setRenderTarget(i)},Ua.prototype=Object.create(on.prototype),Ua.prototype.constructor=Ua,Ua.prototype.isDataTexture=!0;var ja=new kn,Ha=new dn,Ga=function(){function e(t,r,n,i,a,o){Object(p.a)(this,e),this.planes=[void 0!==t?t:new mi,void 0!==r?r:new mi,void 0!==n?n:new mi,void 0!==i?i:new mi,void 0!==a?a:new mi,void 0!==o?o:new mi]}return v(e,[{key:"set",value:function(e,t,r,n,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(n),o[4].copy(i),o[5].copy(a),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){for(var t=this.planes,r=0;r<6;r++)t[r].copy(e.planes[r]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,r=e.elements,n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5],l=r[6],c=r[7],h=r[8],d=r[9],f=r[10],p=r[11],m=r[12],v=r[13],g=r[14],y=r[15];return t[0].setComponents(o-n,c-s,p-h,y-m).normalize(),t[1].setComponents(o+n,c+s,p+h,y+m).normalize(),t[2].setComponents(o+i,c+u,p+d,y+v).normalize(),t[3].setComponents(o-i,c-u,p-d,y-v).normalize(),t[4].setComponents(o-a,c-l,p-f,y-g).normalize(),t[5].setComponents(o+a,c+l,p+f,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ja.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ja)}},{key:"intersectsSprite",value:function(e){return ja.center.set(0,0,0),ja.radius=.7071067811865476,ja.applyMatrix4(e.matrixWorld),this.intersectsSphere(ja)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,r=e.center,n=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(r)<n)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,r=0;r<6;r++){var n=t[r];if(Ha.x=n.normal.x>0?e.max.x:e.min.x,Ha.y=n.normal.y>0?e.max.y:e.min.y,Ha.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(Ha)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}}]),e}();function Va(){var e=null,t=!1,r=null,n=null;function i(t,a){r(t,a),n=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==r&&(n=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(e){r=e},setContext:function(t){e=t}}}function Wa(e,t){var r=t.isWebGL2,n=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),n.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var r=n.get(t);r&&(e.deleteBuffer(r.buffer),n.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=n.get(t);(!a||a.version<t.version)&&n.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=n.get(t);void 0===o?n.set(t,function(t,n){var i=t.array,a=t.usage,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,i,a),t.onUploadCallback();var s=5126;return i instanceof Float32Array?s=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?t.isFloat16BufferAttribute?r?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:i instanceof Int16Array?s=5122:i instanceof Uint32Array?s=5125:i instanceof Int32Array?s=5124:i instanceof Int8Array?s=5120:i instanceof Uint8Array&&(s=5121),{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,n,i){var a=n.array,o=n.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(r?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,i),o.version=t.version)}}}}var Xa=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(p.a)(this,r),(e=t.call(this)).type="PlaneBufferGeometry",e.parameters={width:n,height:i,widthSegments:a,heightSegments:o};for(var s=n/2,u=i/2,l=Math.floor(a),c=Math.floor(o),h=l+1,d=c+1,f=n/l,m=i/c,v=[],g=[],y=[],b=[],_=0;_<d;_++)for(var x=_*m-u,w=0;w<h;w++){var T=w*f-s;g.push(T,-x,0),y.push(0,0,1),b.push(w/l),b.push(1-_/c)}for(var S=0;S<c;S++)for(var E=0;E<l;E++){var M=E+h*S,P=E+h*(S+1),A=E+1+h*(S+1),C=E+1+h*S;v.push(M,P,C),v.push(P,A,C)}return e.setIndex(v),e.setAttribute("position",new Zi(g,3)),e.setAttribute("normal",new Zi(y,3)),e.setAttribute("uv",new Zi(b,2)),e}return r}(ua),Ya={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},qa={common:{diffuse:{value:new Li(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new rn},uv2Transform:{value:new rn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new tn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Li(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Li(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new rn}},sprite:{diffuse:{value:new Li(15658734)},opacity:{value:1},center:{value:new tn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new rn}}},Za={basic:{uniforms:ka([qa.common,qa.specularmap,qa.envmap,qa.aomap,qa.lightmap,qa.fog]),vertexShader:Ya.meshbasic_vert,fragmentShader:Ya.meshbasic_frag},lambert:{uniforms:ka([qa.common,qa.specularmap,qa.envmap,qa.aomap,qa.lightmap,qa.emissivemap,qa.fog,qa.lights,{emissive:{value:new Li(0)}}]),vertexShader:Ya.meshlambert_vert,fragmentShader:Ya.meshlambert_frag},phong:{uniforms:ka([qa.common,qa.specularmap,qa.envmap,qa.aomap,qa.lightmap,qa.emissivemap,qa.bumpmap,qa.normalmap,qa.displacementmap,qa.fog,qa.lights,{emissive:{value:new Li(0)},specular:{value:new Li(1118481)},shininess:{value:30}}]),vertexShader:Ya.meshphong_vert,fragmentShader:Ya.meshphong_frag},standard:{uniforms:ka([qa.common,qa.envmap,qa.aomap,qa.lightmap,qa.emissivemap,qa.bumpmap,qa.normalmap,qa.displacementmap,qa.roughnessmap,qa.metalnessmap,qa.fog,qa.lights,{emissive:{value:new Li(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ya.meshphysical_vert,fragmentShader:Ya.meshphysical_frag},toon:{uniforms:ka([qa.common,qa.aomap,qa.lightmap,qa.emissivemap,qa.bumpmap,qa.normalmap,qa.displacementmap,qa.gradientmap,qa.fog,qa.lights,{emissive:{value:new Li(0)}}]),vertexShader:Ya.meshtoon_vert,fragmentShader:Ya.meshtoon_frag},matcap:{uniforms:ka([qa.common,qa.bumpmap,qa.normalmap,qa.displacementmap,qa.fog,{matcap:{value:null}}]),vertexShader:Ya.meshmatcap_vert,fragmentShader:Ya.meshmatcap_frag},points:{uniforms:ka([qa.points,qa.fog]),vertexShader:Ya.points_vert,fragmentShader:Ya.points_frag},dashed:{uniforms:ka([qa.common,qa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ya.linedashed_vert,fragmentShader:Ya.linedashed_frag},depth:{uniforms:ka([qa.common,qa.displacementmap]),vertexShader:Ya.depth_vert,fragmentShader:Ya.depth_frag},normal:{uniforms:ka([qa.common,qa.bumpmap,qa.normalmap,qa.displacementmap,{opacity:{value:1}}]),vertexShader:Ya.normal_vert,fragmentShader:Ya.normal_frag},sprite:{uniforms:ka([qa.sprite,qa.fog]),vertexShader:Ya.sprite_vert,fragmentShader:Ya.sprite_frag},background:{uniforms:{uvTransform:{value:new rn},t2D:{value:null}},vertexShader:Ya.background_vert,fragmentShader:Ya.background_frag},cube:{uniforms:ka([qa.envmap,{opacity:{value:1}}]),vertexShader:Ya.cube_vert,fragmentShader:Ya.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ya.equirect_vert,fragmentShader:Ya.equirect_frag},distanceRGBA:{uniforms:ka([qa.common,qa.displacementmap,{referencePosition:{value:new dn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ya.distanceRGBA_vert,fragmentShader:Ya.distanceRGBA_frag},shadow:{uniforms:ka([qa.lights,qa.fog,{color:{value:new Li(0)},opacity:{value:1}}]),vertexShader:Ya.shadow_vert,fragmentShader:Ya.shadow_frag}};function Ja(e,t,r,n,i){var a,o,s=new Li(0),u=0,l=null,c=0,h=null;function d(e,t){r.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return s},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),d(s,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){d(s,u=e)},render:function(r,i,f,p){var m=!0===i.isScene?i.background:null;m&&m.isTexture&&(m=t.get(m));var v=e.xr,g=v.getSession&&v.getSession();g&&"additive"===g.environmentBlendMode&&(m=null),null===m?d(s,u):m&&m.isColor&&(d(m,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.mapping===Te)?(void 0===o&&((o=new Ma(new Ca(1,1,1),new La({name:"BackgroundCubeMaterial",uniforms:Oa(Za.cube.uniforms),vertexShader:Za.cube.vertexShader,fragmentShader:Za.cube.fragmentShader,side:C,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(o)),m.isWebGLCubeRenderTarget&&(m=m.texture),o.material.uniforms.envMap.value=m,o.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m._needsFlipEnvMap?-1:1,l===m&&c===m.version&&h===e.toneMapping||(o.material.needsUpdate=!0,l=m,c=m.version,h=e.toneMapping),r.unshift(o,o.geometry,o.material,0,0,null)):m&&m.isTexture&&(void 0===a&&((a=new Ma(new Xa(2,2),new La({name:"BackgroundMaterial",uniforms:Oa(Za.background.uniforms),vertexShader:Za.background.vertexShader,fragmentShader:Za.background.fragmentShader,side:A,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(a)),a.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),a.material.uniforms.uvTransform.value.copy(m.matrix),l===m&&c===m.version&&h===e.toneMapping||(a.material.needsUpdate=!0,l=m,c=m.version,h=e.toneMapping),r.unshift(a,a.geometry,a.material,0,0,null))}}}function Qa(e,t,r,n){var i=e.getParameter(34921),a=n.isWebGL2?null:t.get("OES_vertex_array_object"),o=n.isWebGL2||null!==a,s={},u=d(null),l=u;function c(t){return n.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function h(t){return n.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function d(e){for(var t=[],r=[],n=[],a=0;a<i;a++)t[a]=0,r[a]=0,n[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:n,object:e,attributes:{},index:null}}function f(){for(var e=l.newAttributes,t=0,r=e.length;t<r;t++)e[t]=0}function p(e){m(e,0)}function m(r,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[r]=1,0===o[r]&&(e.enableVertexAttribArray(r),o[r]=1),s[r]!==i)&&((n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,i),s[r]=i)}function v(){for(var t=l.newAttributes,r=l.enabledAttributes,n=0,i=r.length;n<i;n++)r[n]!==t[n]&&(e.disableVertexAttribArray(n),r[n]=0)}function g(t,r,i,a,o,s){!0!==n.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,r,i,a,o,s):e.vertexAttribIPointer(t,r,i,o,s)}function y(){b(),l!==u&&c((l=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,h,y,b){var _=!1;if(o){var x=function(t,r,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[r.id];void 0===l&&(l={},u[r.id]=l);var c=l[o];void 0===c&&(c=d(n.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(y,h,u);l!==x&&c((l=x).object),(_=function(e,t){var r=l.attributes,n=e.attributes,i=0;for(var a in n){var o=r[a],s=n[a];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;i++}return l.attributesNum!==i||l.index!==t}(y,b))&&function(e,t){var r={},n=e.attributes,i=0;for(var a in n){var o=n[a],s={};s.attribute=o,o.data&&(s.data=o.data),r[a]=s,i++}l.attributes=r,l.attributesNum=i,l.index=t}(y,b)}else{var w=!0===u.wireframe;l.geometry===y.id&&l.program===h.id&&l.wireframe===w||(l.geometry=y.id,l.program=h.id,l.wireframe=w,_=!0)}!0===i.isInstancedMesh&&(_=!0),null!==b&&r.update(b,34963),_&&(!function(i,a,o,s){if(!1===n.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;f();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var h in l){var d=l[h];if(d>=0){var y=u[h];if(void 0!==y){var b=y.normalized,_=y.itemSize,x=r.get(y);if(void 0===x)continue;var w=x.buffer,T=x.type,S=x.bytesPerElement;if(y.isInterleavedBufferAttribute){var E=y.data,M=E.stride,P=y.offset;E&&E.isInstancedInterleavedBuffer?(m(d,E.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=E.meshPerAttribute*E.count)):p(d),e.bindBuffer(34962,w),g(d,_,T,b,M*S,P*S)}else y.isInstancedBufferAttribute?(m(d,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(d),e.bindBuffer(34962,w),g(d,_,T,b,0,0)}else if("instanceMatrix"===h){var A=r.get(i.instanceMatrix);if(void 0===A)continue;var C=A.buffer,O=A.type;m(d+0,1),m(d+1,1),m(d+2,1),m(d+3,1),e.bindBuffer(34962,C),e.vertexAttribPointer(d+0,4,O,!1,64,0),e.vertexAttribPointer(d+1,4,O,!1,64,16),e.vertexAttribPointer(d+2,4,O,!1,64,32),e.vertexAttribPointer(d+3,4,O,!1,64,48)}else if("instanceColor"===h){var k=r.get(i.instanceColor);if(void 0===k)continue;var R=k.buffer,L=k.type;m(d,1),e.bindBuffer(34962,R),e.vertexAttribPointer(d,3,L,!1,12,0)}else if(void 0!==c){var I=c[h];if(void 0!==I)switch(I.length){case 2:e.vertexAttrib2fv(d,I);break;case 3:e.vertexAttrib3fv(d,I);break;case 4:e.vertexAttrib4fv(d,I);break;default:e.vertexAttrib1fv(d,I)}}}}v()}(i,u,h,y),null!==b&&e.bindBuffer(34963,r.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var e in y(),s){var t=s[e];for(var r in t){var n=t[r];for(var i in n)h(n[i].object),delete n[i];delete t[r]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var r in t){var n=t[r];for(var i in n)h(n[i].object),delete n[i];delete t[r]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var r=s[t];if(void 0!==r[e.id]){var n=r[e.id];for(var i in n)h(n[i].object),delete n[i];delete r[e.id]}}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:v}}function Ka(e,t,r,n){var i,a=n.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,n){e.drawArrays(i,t,n),r.update(n,i,1)},this.renderInstances=function(n,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,n,o,s),r.update(o,i,s)}}}function $a(e,t,r){var n;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==r.precision?r.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=!0===r.logarithmicDepthBuffer,l=e.getParameter(34930),c=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),f=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=c>0,y=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==n)return n;var r=t.get("EXT_texture_filter_anisotropic");return n=null!==r?e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:c,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function eo(e){var t=this,r=null,n=0,i=!1,a=!1,o=new mi,s=new rn,u={value:null,needsUpdate:!1};function l(){u.value!==r&&(u.value=r,u.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function c(e,r,n,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=n+4*a,h=r.matrixWorldInverse;s.getNormalMatrix(h),(null===l||l.length<c)&&(l=new Float32Array(c));for(var d=0,f=n;d!==a;++d,f+=4)o.copy(e[d]).applyMatrix4(h,s),o.normal.toArray(l,f),l[f+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==n||i;return i=t,r=c(e,a,0),n=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,l()},this.setState=function(t,o,s){var h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===h||0===h.length||a&&!f)a?c(null):l();else{var m=a?0:n,v=4*m,g=p.clippingState||null;u.value=g,g=c(h,o,v,s);for(var y=0;y!==v;++y)g[y]=r[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=m}}}function to(e){var t=new WeakMap;function r(e,t){return t===xe?e.mapping=be:t===we&&(e.mapping=_e),e}function n(e){var r=e.target;r.removeEventListener("dispose",n);var i=t.get(r);void 0!==i&&(t.delete(r),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping;if(a===xe||a===we){if(t.has(i))return r(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=e.getRenderList(),u=e.getRenderTarget(),l=e.getRenderState(),c=new Ba(o.height/2);return c.fromEquirectangularTexture(e,i),t.set(i,c),e.setRenderTarget(u),e.setRenderList(s),e.setRenderState(l),i.addEventListener("dispose",n),r(c.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}function ro(e){var t={};return{has:function(r){if(void 0!==t[r])return null!==t[r];var n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return t[r]=n,null!==n},get:function(e){return this.has(e)||console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t[e]}}}function no(e,t,r,n){var i=new WeakMap,a=new WeakMap;function o(e){var s=e.target,u=i.get(s);for(var l in null!==u.index&&t.remove(u.index),u.attributes)t.remove(u.attributes[l]);s.removeEventListener("dispose",o),i.delete(s);var c=a.get(u);c&&(t.remove(c),a.delete(u)),n.releaseStatesOfGeometry(u),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,r.memory.geometries--}function s(e){var r=[],n=e.index,i=e.attributes.position,o=0;if(null!==n){var s=n.array;o=n.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],h=s[u+1],d=s[u+2];r.push(c,h,h,d,d,c)}}else{var f=i.array;o=i.version;for(var p=0,m=f.length/3-1;p<m;p+=3){var v=p+0,g=p+1,y=p+2;r.push(v,g,g,y,y,v)}}var b=new(Ki(r)>65535?Yi:Wi)(r,1);b.version=o;var _=a.get(e);_&&t.remove(_),a.set(e,b)}return{get:function(e,t){var n=i.get(t);return n||(t.addEventListener("dispose",o),t.isBufferGeometry?n=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new ua).setFromObject(e)),n=t._bufferGeometry),i.set(t,n),r.memory.geometries++,n)},update:function(e){var r=e.attributes;for(var n in r)t.update(r[n],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var r=e.index;null!==r&&t.version<r.version&&s(e)}else s(e);return a.get(e)}}}function io(e,t,r,n){var i,a,o,s=n.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,n){e.drawElements(i,n,a,t*o),r.update(n,i,1)},this.renderInstances=function(n,u,l){if(0!==l){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,u,a,n*o,l),r.update(u,i,l)}}}function ao(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(t.calls++,r){case 4:t.triangles+=n*(e/3);break;case 1:t.lines+=n*(e/2);break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function oo(e,t){return e[0]-t[0]}function so(e,t){return Math.abs(t[1])-Math.abs(e[1])}function uo(e){for(var t={},r=new Float32Array(8),n=[],i=0;i<8;i++)n[i]=[i,0];return{update:function(i,a,o,s){var u=i.morphTargetInfluences,l=void 0===u?0:u.length,c=t[a.id];if(void 0===c){c=[];for(var h=0;h<l;h++)c[h]=[h,0];t[a.id]=c}for(var d=0;d<l;d++){var f=c[d];f[0]=d,f[1]=u[d]}c.sort(so);for(var p=0;p<8;p++)p<l&&c[p][1]?(n[p][0]=c[p][0],n[p][1]=c[p][1]):(n[p][0]=Number.MAX_SAFE_INTEGER,n[p][1]=0);n.sort(oo);for(var m=o.morphTargets&&a.morphAttributes.position,v=o.morphNormals&&a.morphAttributes.normal,g=0,y=0;y<8;y++){var b=n[y],_=b[0],x=b[1];_!==Number.MAX_SAFE_INTEGER&&x?(m&&a.getAttribute("morphTarget"+y)!==m[_]&&a.setAttribute("morphTarget"+y,m[_]),v&&a.getAttribute("morphNormal"+y)!==v[_]&&a.setAttribute("morphNormal"+y,v[_]),r[y]=x,g+=x):(m&&!0===a.hasAttribute("morphTarget"+y)&&a.deleteAttribute("morphTarget"+y),v&&!0===a.hasAttribute("morphNormal"+y)&&a.deleteAttribute("morphNormal"+y),r[y]=0)}var w=a.morphTargetsRelative?1:1-g;s.getUniforms().setValue(e,"morphTargetBaseInfluence",w),s.getUniforms().setValue(e,"morphTargetInfluences",r)}}}function lo(e,t,r,n){var i=new WeakMap;return{update:function(e){var a=n.render.frame,o=e.geometry,s=t.get(e,o);return i.get(s)!==a&&(o.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,a)),e.isInstancedMesh&&(r.update(e.instanceMatrix,34962),null!==e.instanceColor&&r.update(e.instanceColor,34962)),s},dispose:function(){i=new WeakMap}}}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;on.call(this,null),this.image={data:e,width:t,height:r,depth:n},this.magFilter=Ae,this.minFilter=Ae,this.wrapR=Me,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;on.call(this,null),this.image={data:e,width:t,height:r,depth:n},this.magFilter=Ae,this.minFilter=Ae,this.wrapR=Me,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Za.physical={uniforms:ka([Za.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new tn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Li(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Ya.meshphysical_vert,fragmentShader:Ya.meshphysical_frag},co.prototype=Object.create(on.prototype),co.prototype.constructor=co,co.prototype.isDataTexture2DArray=!0,ho.prototype=Object.create(on.prototype),ho.prototype.constructor=ho,ho.prototype.isDataTexture3D=!0;var fo=new on,po=new co,mo=new ho,vo=new za,go=[],yo=[],bo=new Float32Array(16),_o=new Float32Array(9),xo=new Float32Array(4);function wo(e,t,r){var n=e[0];if(n<=0||n>0)return e;var i=t*r,a=go[i];if(void 0===a&&(a=new Float32Array(i),go[i]=a),0!==t){n.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=r,e[o].toArray(a,s)}return a}function To(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function So(e,t){for(var r=0,n=t.length;r<n;r++)e[r]=t[r]}function Eo(e,t){var r=yo[t];void 0===r&&(r=new Int32Array(t),yo[t]=r);for(var n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function Mo(e,t){var r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function Po(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(To(r,t))return;e.uniform2fv(this.addr,t),So(r,t)}}function Ao(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(void 0!==t.r)r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(To(r,t))return;e.uniform3fv(this.addr,t),So(r,t)}}function Co(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(To(r,t))return;e.uniform4fv(this.addr,t),So(r,t)}}function Oo(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(To(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),So(r,t)}else{if(To(r,n))return;xo.set(n),e.uniformMatrix2fv(this.addr,!1,xo),So(r,n)}}function ko(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(To(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),So(r,t)}else{if(To(r,n))return;_o.set(n),e.uniformMatrix3fv(this.addr,!1,_o),So(r,n)}}function Ro(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(To(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),So(r,t)}else{if(To(r,n))return;bo.set(n),e.uniformMatrix4fv(this.addr,!1,bo),So(r,n)}}function Lo(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTexture2D(t||fo,i)}function Io(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||po,i)}function Do(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||mo,i)}function No(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTextureCube(t||vo,i)}function Fo(e,t){var r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function zo(e,t){var r=this.cache;To(r,t)||(e.uniform2iv(this.addr,t),So(r,t))}function Bo(e,t){var r=this.cache;To(r,t)||(e.uniform3iv(this.addr,t),So(r,t))}function Uo(e,t){var r=this.cache;To(r,t)||(e.uniform4iv(this.addr,t),So(r,t))}function jo(e,t){var r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function Ho(e,t){e.uniform1fv(this.addr,t)}function Go(e,t){e.uniform1iv(this.addr,t)}function Vo(e,t){e.uniform2iv(this.addr,t)}function Wo(e,t){e.uniform3iv(this.addr,t)}function Xo(e,t){e.uniform4iv(this.addr,t)}function Yo(e,t){var r=wo(t,this.size,2);e.uniform2fv(this.addr,r)}function qo(e,t){var r=wo(t,this.size,3);e.uniform3fv(this.addr,r)}function Zo(e,t){var r=wo(t,this.size,4);e.uniform4fv(this.addr,r)}function Jo(e,t){var r=wo(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function Qo(e,t){var r=wo(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function Ko(e,t){var r=wo(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function $o(e,t,r){var n=t.length,i=Eo(r,n);e.uniform1iv(this.addr,i);for(var a=0;a!==n;++a)r.safeSetTexture2D(t[a]||fo,i[a])}function es(e,t,r){var n=t.length,i=Eo(r,n);e.uniform1iv(this.addr,i);for(var a=0;a!==n;++a)r.safeSetTextureCube(t[a]||vo,i[a])}function ts(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Mo;case 35664:return Po;case 35665:return Ao;case 35666:return Co;case 35674:return Oo;case 35675:return ko;case 35676:return Ro;case 5124:case 35670:return Fo;case 35667:case 35671:return zo;case 35668:case 35672:return Bo;case 35669:case 35673:return Uo;case 5125:return jo;case 35678:case 36198:case 36298:case 36306:case 35682:return Lo;case 35679:case 36299:case 36307:return Do;case 35680:case 36300:case 36308:case 36293:return No;case 36289:case 36303:case 36311:case 36292:return Io}}(t.type)}function rs(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Ho;case 35664:return Yo;case 35665:return qo;case 35666:return Zo;case 35674:return Jo;case 35675:return Qo;case 35676:return Ko;case 5124:case 35670:return Go;case 35667:case 35671:return Vo;case 35668:case 35672:return Wo;case 35669:case 35673:return Xo;case 35678:case 36198:case 36298:case 36306:case 35682:return $o;case 35680:case 36300:case 36308:case 36293:return es}}(t.type)}function ns(e){this.id=e,this.seq=[],this.map={}}rs.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),So(t,e)},ns.prototype.setValue=function(e,t,r){for(var n=this.seq,i=0,a=n.length;i!==a;++i){var o=n[i];o.setValue(e,t[o.id],r)}};var is=/([\w\d_]+)(\])?(\[|\.)?/g;function as(e,t){e.seq.push(t),e.map[t.id]=t}function os(e,t,r){var n=e.name,i=n.length;for(is.lastIndex=0;;){var a=is.exec(n),o=is.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){as(r,void 0===l?new ts(s,e,t):new rs(s,e,t));break}var c=r.map[s];void 0===c&&as(r,c=new ns(s)),r=c}}function ss(e,t){this.seq=[],this.map={};for(var r=e.getProgramParameter(t,35718),n=0;n<r;++n){var i=e.getActiveUniform(t,n);os(i,e.getUniformLocation(t,i.name),this)}}function us(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}ss.prototype.setValue=function(e,t,r,n){var i=this.map[t];void 0!==i&&i.setValue(e,r,n)},ss.prototype.setOptional=function(e,t,r){var n=t[r];void 0!==n&&this.setValue(e,r,n)},ss.upload=function(e,t,r,n){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=r[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,n)}},ss.seqWithValue=function(e,t){for(var r=[],n=0,i=e.length;n!==i;++n){var a=e[n];a.id in t&&r.push(a)}return r};var ls=0;function cs(e){switch(e){case cr:return["Linear","( value )"];case hr:return["sRGB","( value )"];case fr:return["RGBE","( value )"];case mr:return["RGBM","( value, 7.0 )"];case vr:return["RGBM","( value, 16.0 )"];case gr:return["RGBD","( value, 256.0 )"];case dr:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case pr:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function hs(e,t,r){var n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return n&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+r+"\n"+i+function(e){for(var t=e.split("\n"),r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join("\n")}(e.getShaderSource(t))}function ds(e,t){var r=cs(t);return"vec4 "+e+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function fs(e,t){var r=cs(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function ps(e,t){var r;switch(t){case fe:r="Linear";break;case pe:r="Reinhard";break;case me:r="OptimizedCineon";break;case ve:r="ACESFilmic";break;case ge:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function ms(e){return""!==e}function vs(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function gs(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var ys=/^[ \t]*#include +<([\w\d./]+)>/gm;function bs(e){return e.replace(ys,_s)}function _s(e,t){var r=Ya[t];if(void 0===r)throw new Error("Can not resolve #include <"+t+">");return bs(r)}var xs=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ws=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Ts(e){return e.replace(ws,Es).replace(xs,Ss)}function Ss(e,t,r,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Es(e,t,r,n)}function Es(e,t,r,n){for(var i="",a=parseInt(t);a<parseInt(r);a++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Ms(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Ps(e,t,r,n){var i,a,o=e.getContext(),s=r.defines,u=r.vertexShader,l=r.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===E?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===M?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===P&&(t="SHADOWMAP_TYPE_VSM"),t}(r),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case be:case _e:t="ENVMAP_TYPE_CUBE";break;case Te:case Se:t="ENVMAP_TYPE_CUBE_UV"}return t}(r),d=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case _e:case Se:t="ENVMAP_MODE_REFRACTION"}return t}(r),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case le:t="ENVMAP_BLENDING_MULTIPLY";break;case ce:t="ENVMAP_BLENDING_MIX";break;case he:t="ENVMAP_BLENDING_ADD"}return t}(r),p=e.gammaFactor>0?e.gammaFactor:1,m=r.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ms).join("\n")}(r),v=function(e){var t=[];for(var r in e){var n=e[r];!1!==n&&t.push("#define "+r+" "+n)}return t.join("\n")}(s),g=o.createProgram(),y=r.glslVersion?"#version "+r.glslVersion+"\n":"";r.isRawShaderMaterial?((i=[v].filter(ms).join("\n")).length>0&&(i+="\n"),(a=[m,v].filter(ms).join("\n")).length>0&&(a+="\n")):(i=[Ms(r),"#define SHADER_NAME "+r.shaderName,v,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+d:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ms).join("\n"),a=[m,Ms(r),"#define SHADER_NAME "+r.shaderName,v,r.alphaTest?"#define ALPHATEST "+r.alphaTest+(r.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.envMap?"#define "+d:"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.sheen?"#define USE_SHEEN":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==de?"#define TONE_MAPPING":"",r.toneMapping!==de?Ya.tonemapping_pars_fragment:"",r.toneMapping!==de?ps("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",Ya.encodings_pars_fragment,r.map?ds("mapTexelToLinear",r.mapEncoding):"",r.matcap?ds("matcapTexelToLinear",r.matcapEncoding):"",r.envMap?ds("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMap?ds("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.lightMap?ds("lightMapTexelToLinear",r.lightMapEncoding):"",fs("linearToOutputTexel",r.outputEncoding),r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(ms).join("\n")),u=gs(u=vs(u=bs(u),r),r),l=gs(l=vs(l=bs(l),r),r),u=Ts(u),l=Ts(l),r.isWebGL2&&!0!==r.isRawShaderMaterial&&(y="#version 300 es\n",i=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",r.glslVersion===qr?"":"out highp vec4 pc_fragColor;",r.glslVersion===qr?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,_,x=y+a+l,w=us(o,35633,y+i+u),T=us(o,35632,x);if(o.attachShader(g,w),o.attachShader(g,T),void 0!==r.index0AttributeName?o.bindAttribLocation(g,0,r.index0AttributeName):!0===r.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var S=o.getProgramInfoLog(g).trim(),A=o.getShaderInfoLog(w).trim(),C=o.getShaderInfoLog(T).trim(),O=!0,k=!0;if(!1===o.getProgramParameter(g,35714)){O=!1;var R=hs(o,w,"vertex"),L=hs(o,T,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(g,35715),"gl.getProgramInfoLog",S,R,L)}else""!==S?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",S):""!==A&&""!==C||(k=!1);k&&(this.diagnostics={runnable:O,programLog:S,vertexShader:{log:A,prefix:i},fragmentShader:{log:C,prefix:a}})}return o.deleteShader(w),o.deleteShader(T),this.getUniforms=function(){return void 0===b&&(b=new ss(o,g)),b},this.getAttributes=function(){return void 0===_&&(_=function(e,t){for(var r={},n=e.getProgramParameter(t,35721),i=0;i<n;i++){var a=e.getActiveAttrib(t,i).name;r[a]=e.getAttribLocation(t,a)}return r}(o,g)),_},this.destroy=function(){n.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=r.shaderName,this.id=ls++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=T,this}function As(e,t,r,n,i,a){var o=[],s=n.isWebGL2,u=n.logarithmicDepthBuffer,l=n.floatVertexTextures,c=n.maxVertexUniforms,h=n.vertexTextures,d=n.precision,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function m(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=cr,t}return{getParameters:function(i,o,p,v,g){var y,b,_=v.fog,x=i.isMeshStandardMaterial?v.environment:null,w=t.get(i.envMap||x),T=f[i.type],S=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(l)return 1024;var r=c,n=Math.floor((r-20)/4),i=Math.min(n,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(g):0;if(null!==i.precision&&(d=n.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead."),T){var E=Za[T];y=E.vertexShader,b=E.fragmentShader}else y=i.vertexShader,b=i.fragmentShader;var M=e.getRenderTarget();return{isWebGL2:s,shaderID:T,shaderName:i.type,vertexShader:y,fragmentShader:b,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:d,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:h,outputEncoding:null!==M?m(M.texture):e.outputEncoding,map:!!i.map,mapEncoding:m(i.map),matcap:!!i.matcap,matcapEncoding:m(i.matcap),envMap:!!w,envMapMode:w&&w.mapping,envMapEncoding:m(w),envMapCubeUV:!!w&&(w.mapping===Te||w.mapping===Se),lightMap:!!i.lightMap,lightMapEncoding:m(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:m(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===xr,tangentSpaceNormalMap:i.normalMapType===_r,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmissionMap:!!i.transmissionMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.displacementMap||!!i.transmissionMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap)&&!!i.displacementMap,fog:!!_,useFog:i.fog,fogExp2:_&&_.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:u,skinning:i.skinning&&S>0,maxBones:S,useVertexTexture:l,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:de,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===O,flipSided:i.side===C,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||r.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){var r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)r.push(n),r.push(t.defines[n]);if(!1===t.isRawShaderMaterial){for(var i=0;i<p.length;i++)r.push(t[p[i]]);r.push(e.outputEncoding),r.push(e.gammaFactor)}return r.push(t.customProgramCacheKey),r.join()},getUniforms:function(e){var t,r=f[e.type];if(r){var n=Za[r];t=Ra.clone(n.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,r){for(var n,a=0,s=o.length;a<s;a++){var u=o[a];if(u.cacheKey===r){++(n=u).usedTimes;break}}return void 0===n&&(n=new Ps(e,r,t,i),o.push(n)),n},releaseProgram:function(e){if(0===--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},programs:o}}function Cs(){var e=new WeakMap;return{get:function(t){var r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new WeakMap}}}function Os(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ks(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Rs(e){var t=[],r=0,n=[],i=[],a={id:-1};function o(n,i,o,s,u,l){var c=t[r],h=e.get(o);return void 0===c?(c={id:n.id,object:n,geometry:i,material:o,program:h.program||a,groupOrder:s,renderOrder:n.renderOrder,z:u,group:l},t[r]=c):(c.id=n.id,c.object=n,c.geometry=i,c.material=o,c.program=h.program||a,c.groupOrder=s,c.renderOrder=n.renderOrder,c.z=u,c.group=l),r++,c}return{opaque:n,transparent:i,init:function(){r=0,n.length=0,i.length=0},push:function(e,t,r,a,s,u){var l=o(e,t,r,a,s,u);(!0===r.transparent?i:n).push(l)},unshift:function(e,t,r,a,s,u){var l=o(e,t,r,a,s,u);(!0===r.transparent?i:n).unshift(l)},finish:function(){for(var e=r,n=t.length;e<n;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Os),i.length>1&&i.sort(t||ks)}}}function Ls(e){var t=new WeakMap;return{get:function(r,n){var i,a=t.get(r);return void 0===a?(i=new Rs(e),t.set(r,new WeakMap),t.get(r).set(n,i)):void 0===(i=a.get(n))&&(i=new Rs(e),a.set(n,i)),i},dispose:function(){t=new WeakMap}}}function Is(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":r={direction:new dn,color:new Li};break;case"SpotLight":r={position:new dn,direction:new dn,color:new Li,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new dn,color:new Li,distance:0,decay:0};break;case"HemisphereLight":r={direction:new dn,skyColor:new Li,groundColor:new Li};break;case"RectAreaLight":r={color:new Li,position:new dn,halfWidth:new dn,halfHeight:new dn}}return e[t.id]=r,r}}}var Ds=0;function Ns(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Fs(e,t){for(var r=new Is,n=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tn};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tn,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=r,r}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;a<9;a++)i.probe.push(new dn);var o=new dn,s=new Un,u=new Un;return{setup:function(a,l,c){for(var h=0,d=0,f=0,p=0;p<9;p++)i.probe[p].set(0,0,0);var m=0,v=0,g=0,y=0,b=0,_=0,x=0,w=0,T=c.matrixWorldInverse;a.sort(Ns);for(var S=0,E=a.length;S<E;S++){var M=a[S],P=M.color,A=M.intensity,C=M.distance,O=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)h+=P.r*A,d+=P.g*A,f+=P.b*A;else if(M.isLightProbe)for(var k=0;k<9;k++)i.probe[k].addScaledVector(M.sh.coefficients[k],A);else if(M.isDirectionalLight){var R=r.get(M);if(R.color.copy(M.color).multiplyScalar(M.intensity),R.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),R.direction.sub(o),R.direction.transformDirection(T),M.castShadow){var L=M.shadow,I=n.get(M);I.shadowBias=L.bias,I.shadowNormalBias=L.normalBias,I.shadowRadius=L.radius,I.shadowMapSize=L.mapSize,i.directionalShadow[m]=I,i.directionalShadowMap[m]=O,i.directionalShadowMatrix[m]=M.shadow.matrix,_++}i.directional[m]=R,m++}else if(M.isSpotLight){var D=r.get(M);if(D.position.setFromMatrixPosition(M.matrixWorld),D.position.applyMatrix4(T),D.color.copy(P).multiplyScalar(A),D.distance=C,D.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),D.direction.sub(o),D.direction.transformDirection(T),D.coneCos=Math.cos(M.angle),D.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),D.decay=M.decay,M.castShadow){var N=M.shadow,F=n.get(M);F.shadowBias=N.bias,F.shadowNormalBias=N.normalBias,F.shadowRadius=N.radius,F.shadowMapSize=N.mapSize,i.spotShadow[g]=F,i.spotShadowMap[g]=O,i.spotShadowMatrix[g]=M.shadow.matrix,w++}i.spot[g]=D,g++}else if(M.isRectAreaLight){var z=r.get(M);z.color.copy(P).multiplyScalar(A),z.position.setFromMatrixPosition(M.matrixWorld),z.position.applyMatrix4(T),u.identity(),s.copy(M.matrixWorld),s.premultiply(T),u.extractRotation(s),z.halfWidth.set(.5*M.width,0,0),z.halfHeight.set(0,.5*M.height,0),z.halfWidth.applyMatrix4(u),z.halfHeight.applyMatrix4(u),i.rectArea[y]=z,y++}else if(M.isPointLight){var B=r.get(M);if(B.position.setFromMatrixPosition(M.matrixWorld),B.position.applyMatrix4(T),B.color.copy(M.color).multiplyScalar(M.intensity),B.distance=M.distance,B.decay=M.decay,M.castShadow){var U=M.shadow,j=n.get(M);j.shadowBias=U.bias,j.shadowNormalBias=U.normalBias,j.shadowRadius=U.radius,j.shadowMapSize=U.mapSize,j.shadowCameraNear=U.camera.near,j.shadowCameraFar=U.camera.far,i.pointShadow[v]=j,i.pointShadowMap[v]=O,i.pointShadowMatrix[v]=M.shadow.matrix,x++}i.point[v]=B,v++}else if(M.isHemisphereLight){var H=r.get(M);H.direction.setFromMatrixPosition(M.matrixWorld),H.direction.transformDirection(T),H.direction.normalize(),H.skyColor.copy(M.color).multiplyScalar(A),H.groundColor.copy(M.groundColor).multiplyScalar(A),i.hemi[b]=H,b++}}y>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=qa.LTC_FLOAT_1,i.rectAreaLTC2=qa.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=qa.LTC_HALF_1,i.rectAreaLTC2=qa.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=d,i.ambient[2]=f;var G=i.hash;G.directionalLength===m&&G.pointLength===v&&G.spotLength===g&&G.rectAreaLength===y&&G.hemiLength===b&&G.numDirectionalShadows===_&&G.numPointShadows===x&&G.numSpotShadows===w||(i.directional.length=m,i.spot.length=g,i.rectArea.length=y,i.point.length=v,i.hemi.length=b,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=x,i.pointShadowMap.length=x,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=x,i.spotShadowMatrix.length=w,G.directionalLength=m,G.pointLength=v,G.spotLength=g,G.rectAreaLength=y,G.hemiLength=b,G.numDirectionalShadows=_,G.numPointShadows=x,G.numSpotShadows=w,i.version=Ds++)},state:i}}function zs(e,t){var r=new Fs(e,t),n=[],i=[];return{init:function(){n.length=0,i.length=0},state:{lightsArray:n,shadowsArray:i,lights:r},setupLights:function(e){r.setup(n,i,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function Bs(e,t){var r=new WeakMap;return{get:function(n,i){var a;return!1===r.has(n)?(a=new zs(e,t),r.set(n,new WeakMap),r.get(n).set(i,a)):!1===r.get(n).has(i)?(a=new zs(e,t),r.get(n).set(i,a)):a=r.get(n).get(i),a},dispose:function(){r=new WeakMap}}}function Us(e){Ni.call(this),this.type="MeshDepthMaterial",this.depthPacking=yr,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function js(e){Ni.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new dn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Us.prototype=Object.create(Ni.prototype),Us.prototype.constructor=Us,Us.prototype.isMeshDepthMaterial=!0,Us.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},js.prototype=Object.create(Ni.prototype),js.prototype.constructor=js,js.prototype.isMeshDistanceMaterial=!0,js.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function Hs(e,t,r){var n=new Ga,i=new tn,a=new tn,o=new un,s=[],u=[],l={},c={0:C,1:A,2:O},h=new La({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new tn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONAL_PASS=1;var f=new ua;f.setAttribute("position",new Ui(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var p=new Ma(f,h),m=this;function v(r,n){var i=t.update(p);h.uniforms.shadow_pass.value=r.map.texture,h.uniforms.resolution.value=r.mapSize,h.uniforms.radius.value=r.radius,e.setRenderTarget(r.mapPass),e.clear(),e.renderBufferDirect(n,null,i,h,p,null),d.uniforms.shadow_pass.value=r.mapPass.texture,d.uniforms.resolution.value=r.mapSize,d.uniforms.radius.value=r.radius,e.setRenderTarget(r.map),e.clear(),e.renderBufferDirect(n,null,i,d,p,null)}function g(e,t,r){var n=e<<0|t<<1|r<<2,i=s[n];return void 0===i&&(i=new Us({depthPacking:br,morphTargets:e,skinning:t}),s[n]=i),i}function y(e,t,r){var n=e<<0|t<<1|r<<2,i=u[n];return void 0===i&&(i=new js({morphTargets:e,skinning:t}),u[n]=i),i}function b(t,r,n,i,a,o,s){var u=null,h=g,d=t.customDepthMaterial;if(!0===i.isPointLight&&(h=y,d=t.customDistanceMaterial),void 0===d){var f=!1;!0===n.morphTargets&&(f=r.morphAttributes&&r.morphAttributes.position&&r.morphAttributes.position.length>0);var p=!1;!0===t.isSkinnedMesh&&(!0===n.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),u=h(f,p,!0===t.isInstancedMesh)}else u=d;if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var m=u.uuid,v=n.uuid,b=l[m];void 0===b&&(b={},l[m]=b);var _=b[v];void 0===_&&(_=u.clone(),b[v]=_),u=_}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=s===P?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:c[n.side],u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,!0===i.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(i.matrixWorld),u.nearDistance=a,u.farDistance=o),u}function _(r,i,a,o,s){if(!1!==r.visible){if(r.layers.test(i.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&s===P)&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,r.matrixWorld);var u=t.update(r),l=r.material;if(Array.isArray(l))for(var c=u.groups,h=0,d=c.length;h<d;h++){var f=c[h],p=l[f.materialIndex];if(p&&p.visible){var m=b(r,u,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,m,r,f)}}else if(l.visible){var v=b(r,u,l,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,v,r,null)}}for(var g=r.children,y=0,x=g.length;y<x;y++)_(g[y],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=E,this.render=function(t,s,u){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(L),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var g=t[f],y=g.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var b=y.getFrameExtents();if(i.multiply(b),a.copy(y.mapSize),(i.x>r||i.y>r)&&(i.x>r&&(a.x=Math.floor(r/b.x),i.x=a.x*b.x,y.mapSize.x=a.x),i.y>r&&(a.y=Math.floor(r/b.y),i.y=a.y*b.y,y.mapSize.y=a.y)),null===y.map&&!y.isPointLightShadow&&this.type===P){var x={minFilter:Le,magFilter:Le,format:Ke};y.map=new ln(i.x,i.y,x),y.map.texture.name=g.name+".shadowMap",y.mapPass=new ln(i.x,i.y,x),y.camera.updateProjectionMatrix()}if(null===y.map){var w={minFilter:Ae,magFilter:Ae,format:Ke};y.map=new ln(i.x,i.y,w),y.map.texture.name=g.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var T=y.getViewportCount(),S=0;S<T;S++){var E=y.getViewport(S);o.set(a.x*E.x,a.y*E.y,a.x*E.z,a.y*E.w),d.viewport(o),y.updateMatrices(g,S),n=y.getFrustum(),_(s,u,y.camera,g,this.type)}y.isPointLightShadow||this.type!==P||v(y,u),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(l,c,h)}}}function Gs(e,t,r){var n,i,a=r.isWebGL2;var o=new function(){var t=!1,r=new un,n=null,i=new un(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,a,o,s){!0===s&&(t*=o,n*=o,a*=o),r.set(t,n,a,o),!1===i.equals(r)&&(e.clearColor(t,n,a,o),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,r=null,n=null,i=null;return{setTest:function(e){e?ge(2929):ye(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case te:e.depthFunc(512);break;case re:e.depthFunc(519);break;case ne:e.depthFunc(513);break;case ie:e.depthFunc(515);break;case ae:e.depthFunc(514);break;case oe:e.depthFunc(518);break;case se:e.depthFunc(516);break;case ue:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,r=null,n=null,i=null}}},l=new function(){var t=!1,r=null,n=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){t||(e?ge(2960):ye(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,o){n===t&&i===r&&a===o||(e.stencilFunc(t,r,o),n=t,i=r,a=o)},setOp:function(t,r,n){o===t&&s===r&&u===n||(e.stencilOp(t,r,n),o=t,s=r,u=n)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,r=null,n=null,i=null,a=null,o=null,s=null,u=null,l=null}}},c={},h=null,d=null,f=null,p=null,m=null,v=null,g=null,y=null,b=null,T=!1,S=null,E=null,M=null,P=null,A=null,k=e.getParameter(35661),R=!1,le=0,ce=e.getParameter(7938);-1!==ce.indexOf("WebGL")?(le=parseFloat(/^WebGL\ ([0-9])/.exec(ce)[1]),R=le>=1):-1!==ce.indexOf("OpenGL ES")&&(le=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(ce)[1]),R=le>=2);var he=null,de={},fe=new un,pe=new un;function me(t,r,n){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<n;o++)e.texImage2D(r+o,0,6408,1,1,0,6408,5121,i);return a}var ve={};function ge(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function ye(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}ve[3553]=me(3553,3553,1),ve[34067]=me(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),ge(2929),s.setFunc(ie),Te(!1),Se(x),ge(2884),we(L);var be=(n={},Object(u.a)(n,B,32774),Object(u.a)(n,U,32778),Object(u.a)(n,j,32779),n);if(a)be[H]=32775,be[G]=32776;else{var _e=t.get("EXT_blend_minmax");null!==_e&&(be[H]=_e.MIN_EXT,be[G]=_e.MAX_EXT)}var xe=(i={},Object(u.a)(i,V,0),Object(u.a)(i,W,1),Object(u.a)(i,X,768),Object(u.a)(i,q,770),Object(u.a)(i,ee,776),Object(u.a)(i,K,774),Object(u.a)(i,J,772),Object(u.a)(i,Y,769),Object(u.a)(i,Z,771),Object(u.a)(i,$,775),Object(u.a)(i,Q,773),i);function we(t,r,n,i,a,o,s,u){if(t!==L){if(d||(ge(3042),d=!0),t===z)a=a||r,o=o||n,s=s||i,r===p&&a===g||(e.blendEquationSeparate(be[r],be[a]),p=r,g=a),n===m&&i===v&&o===y&&s===b||(e.blendFuncSeparate(xe[n],xe[i],xe[o],xe[s]),m=n,v=i,y=o,b=s),f=t,T=null;else if(t!==f||u!==T){if(p===B&&g===B||(e.blendEquation(32774),p=B,g=B),u)switch(t){case I:e.blendFuncSeparate(1,771,1,771);break;case D:e.blendFunc(1,1);break;case N:e.blendFuncSeparate(0,0,769,771);break;case F:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case I:e.blendFuncSeparate(770,771,1,771);break;case D:e.blendFunc(770,1);break;case N:e.blendFunc(0,769);break;case F:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}m=null,v=null,y=null,b=null,f=t,T=u}}else d&&(ye(3042),d=!1)}function Te(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function Se(t){t!==_?(ge(2884),t!==E&&(t===x?e.cullFace(1029):t===w?e.cullFace(1028):e.cullFace(1032))):ye(2884),E=t}function Ee(t,r,n){t?(ge(32823),P===r&&A===n||(e.polygonOffset(r,n),P=r,A=n)):ye(32823)}function Me(t){void 0===t&&(t=33984+k-1),he!==t&&(e.activeTexture(t),he=t)}return{buffers:{color:o,depth:s,stencil:l},enable:ge,disable:ye,useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:we,setMaterial:function(e,t){e.side===O?ye(2884):ge(2884);var r=e.side===C;t&&(r=!r),Te(r),e.blending===I&&!1===e.transparent?we(L):we(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var n=e.stencilWrite;l.setTest(n),n&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Ee(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Te,setCullFace:Se,setLineWidth:function(t){t!==M&&(R&&e.lineWidth(t),M=t)},setPolygonOffset:Ee,setScissorTest:function(e){e?ge(3089):ye(3089)},activeTexture:Me,bindTexture:function(t,r){null===he&&Me();var n=de[he];void 0===n&&(n={type:void 0,texture:void 0},de[he]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||ve[t]),n.type=t,n.texture=r)},unbindTexture:function(){var t=de[he];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===fe.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),fe.copy(t))},viewport:function(t){!1===pe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),pe.copy(t))},reset:function(){c={},he=null,de={},h=null,d=null,f=null,p=null,m=null,v=null,g=null,y=null,b=null,T=!1,S=null,E=null,M=null,P=null,A=null,o.reset(),s.reset(),l.reset()}}}function Vs(e,t,r,n,i,a,o){var s,l,c,h=i.isWebGL2,d=i.maxTextures,f=i.maxCubemapSize,p=i.maxTextureSize,m=i.maxSamples,v=new WeakMap,g=!1;try{g="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(j){}function y(e,t){return g?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(e,t,r,n){var i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?en.floorPowerOfTwo:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===c&&(c=y(o,s));var u=r?y(o,s):c;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function _(e){return en.isPowerOfTwo(e.width)&&en.isPowerOfTwo(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==Ae&&e.minFilter!==Le}function w(t,r,i,a){e.generateMipmap(t),n.get(r).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function T(r,n,i){if(!1===h)return n;if(null!==r){if(void 0!==e[r])return e[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}var a=n;return 6403===n&&(5126===i&&(a=33326),5131===i&&(a=33325),5121===i&&(a=33321)),6407===n&&(5126===i&&(a=34837),5131===i&&(a=34843),5121===i&&(a=32849)),6408===n&&(5126===i&&(a=34836),5131===i&&(a=34842),5121===i&&(a=32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||t.get("EXT_color_buffer_float"),a}function S(e){return e===Ae||e===Ce||e===ke?9728:9729}function E(t){var r=t.target;r.removeEventListener("dispose",E),function(t){var r=n.get(t);if(void 0===r.__webglInit)return;e.deleteTexture(r.__webglTexture),n.remove(t)}(r),r.isVideoTexture&&v.delete(r),o.memory.textures--}function M(t){var r=t.target;r.removeEventListener("dispose",M),function(t){var r=n.get(t),i=n.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)e.deleteFramebuffer(r.__webglFramebuffer[a]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[a]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&e.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer);n.remove(t.texture),n.remove(t)}(r),o.memory.textures--}var P=0;function A(e,t){var i=n.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void I(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeTexture(33984+t),r.bindTexture(3553,i.__webglTexture)}function C(t,i){var o=n.get(t);t.version>0&&o.__version!==t.version?function(t,n,i){if(6!==n.image.length)return;L(t,n),r.activeTexture(33984+i),r.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,n.flipY);for(var o=n&&(n.isCompressedTexture||n.image[0].isCompressedTexture),s=n.image[0]&&n.image[0].isDataTexture,u=[],l=0;l<6;l++)u[l]=o||s?s?n.image[l].image:n.image[l]:b(n.image[l],!1,!0,f);var c,d=u[0],p=_(d)||h,m=a.convert(n.format),v=a.convert(n.type),g=T(n.internalFormat,m,v);if(R(34067,n,p),o){for(var y=0;y<6;y++){c=u[y].mipmaps;for(var S=0;S<c.length;S++){var E=c[S];n.format!==Ke&&n.format!==Qe?null!==m?r.compressedTexImage2D(34069+y,S,g,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(34069+y,S,g,E.width,E.height,0,m,v,E.data)}}t.__maxMipLevel=c.length-1}else{c=n.mipmaps;for(var M=0;M<6;M++)if(s){r.texImage2D(34069+M,0,g,u[M].width,u[M].height,0,m,v,u[M].data);for(var P=0;P<c.length;P++){var A=c[P].image[M].image;r.texImage2D(34069+M,P+1,g,A.width,A.height,0,m,v,A.data)}}else{r.texImage2D(34069+M,0,g,m,v,u[M]);for(var C=0;C<c.length;C++){var O=c[C];r.texImage2D(34069+M,C+1,g,m,v,O.image[M])}}t.__maxMipLevel=c.length}x(n,p)&&w(34067,n,d.width,d.height);t.__version=n.version,n.onUpdate&&n.onUpdate(n)}(o,t,i):(r.activeTexture(33984+i),r.bindTexture(34067,o.__webglTexture))}var O=(s={},Object(u.a)(s,Ee,10497),Object(u.a)(s,Me,33071),Object(u.a)(s,Pe,33648),s),k=(l={},Object(u.a)(l,Ae,9728),Object(u.a)(l,Ce,9984),Object(u.a)(l,ke,9986),Object(u.a)(l,Le,9729),Object(u.a)(l,Ie,9985),Object(u.a)(l,Ne,9987),l);function R(r,a,o){o?(e.texParameteri(r,10242,O[a.wrapS]),e.texParameteri(r,10243,O[a.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,O[a.wrapR]),e.texParameteri(r,10240,k[a.magFilter]),e.texParameteri(r,10241,k[a.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),a.wrapS===Me&&a.wrapT===Me||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,S(a.magFilter)),e.texParameteri(r,10241,S(a.minFilter)),a.minFilter!==Ae&&a.minFilter!==Le&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(a.type===Ve&&null===t.get("OES_texture_float_linear"))return;if(a.type===We&&null===(h||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||n.get(a).__currentAnisotropy)&&(e.texParameterf(r,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),n.get(a).__currentAnisotropy=a.anisotropy)}}function L(t,r){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",E),t.__webglTexture=e.createTexture(),o.memory.textures++)}function I(t,n,i){var o=3553;n.isDataTexture2DArray&&(o=35866),n.isDataTexture3D&&(o=32879),L(t,n),r.activeTexture(33984+i),r.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment);var s,u=function(e){return!h&&(e.wrapS!==Me||e.wrapT!==Me||e.minFilter!==Ae&&e.minFilter!==Le)}(n)&&!1===_(n.image),l=b(n.image,u,!1,p),c=_(l)||h,d=a.convert(n.format),f=a.convert(n.type),m=T(n.internalFormat,d,f);R(o,n,c);var v=n.mipmaps;if(n.isDepthTexture)m=6402,h?m=n.type===Ve?36012:n.type===Ge?33190:n.type===Ze?35056:33189:n.type===Ve&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),n.format===rt&&6402===m&&n.type!==je&&n.type!==Ge&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=je,f=a.convert(n.type)),n.format===nt&&6402===m&&(m=34041,n.type!==Ze&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Ze,f=a.convert(n.type))),r.texImage2D(3553,0,m,l.width,l.height,0,d,f,null);else if(n.isDataTexture)if(v.length>0&&c){for(var g=0,y=v.length;g<y;g++)s=v[g],r.texImage2D(3553,g,m,s.width,s.height,0,d,f,s.data);n.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else r.texImage2D(3553,0,m,l.width,l.height,0,d,f,l.data),t.__maxMipLevel=0;else if(n.isCompressedTexture){for(var S=0,E=v.length;S<E;S++)s=v[S],n.format!==Ke&&n.format!==Qe?null!==d?r.compressedTexImage2D(3553,S,m,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,S,m,s.width,s.height,0,d,f,s.data);t.__maxMipLevel=v.length-1}else if(n.isDataTexture2DArray)r.texImage3D(35866,0,m,l.width,l.height,l.depth,0,d,f,l.data),t.__maxMipLevel=0;else if(n.isDataTexture3D)r.texImage3D(32879,0,m,l.width,l.height,l.depth,0,d,f,l.data),t.__maxMipLevel=0;else if(v.length>0&&c){for(var M=0,P=v.length;M<P;M++)s=v[M],r.texImage2D(3553,M,m,d,f,s);n.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else r.texImage2D(3553,0,m,d,f,l),t.__maxMipLevel=0;x(n,c)&&w(o,n,l.width,l.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function D(t,i,o,s){var u=a.convert(i.texture.format),l=a.convert(i.texture.type),c=T(i.texture.internalFormat,u,l);r.texImage2D(s,0,c,i.width,i.height,0,u,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,n.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function N(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){var i=33189;if(n){var o=r.depthTexture;o&&o.isDepthTexture&&(o.type===Ve?i=36012:o.type===Ge&&(i=33190));var s=z(r);e.renderbufferStorageMultisample(36161,s,i,r.width,r.height)}else e.renderbufferStorage(36161,i,r.width,r.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(r.depthBuffer&&r.stencilBuffer){if(n){var u=z(r);e.renderbufferStorageMultisample(36161,u,35056,r.width,r.height)}else e.renderbufferStorage(36161,34041,r.width,r.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var l=a.convert(r.texture.format),c=a.convert(r.texture.type),h=T(r.texture.internalFormat,l,c);if(n){var d=z(r);e.renderbufferStorageMultisample(36161,d,h,r.width,r.height)}else e.renderbufferStorage(36161,h,r.width,r.height)}e.bindRenderbuffer(36161,null)}function F(t){var r=n.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),A(r.depthTexture,0);var i=n.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===rt)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(r.depthTexture.format!==nt)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(r.__webglFramebuffer,t)}else if(i){r.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,r.__webglFramebuffer[a]),r.__webglDepthbuffer[a]=e.createRenderbuffer(),N(r.__webglDepthbuffer[a],t,!1)}else e.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),N(r.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function z(e){return h&&e.isWebGLMultisampleRenderTarget?Math.min(m,e.samples):0}var B=!1,U=!1;this.allocateTextureUnit=function(){var e=P;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=A,this.setTexture2DArray=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?I(i,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?I(i,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,i.__webglTexture))},this.setTextureCube=C,this.setupRenderTarget=function(t){var i=n.get(t),s=n.get(t.texture);t.addEventListener("dispose",M),s.__webglTexture=e.createTexture(),o.memory.textures++;var u=!0===t.isWebGLCubeRenderTarget,l=!0===t.isWebGLMultisampleRenderTarget,c=_(t)||h;if(!h||t.texture.format!==Qe||t.texture.type!==Ve&&t.texture.type!==We||(t.texture.format=Ke,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),u){i.__webglFramebuffer=[];for(var d=0;d<6;d++)i.__webglFramebuffer[d]=e.createFramebuffer()}else if(i.__webglFramebuffer=e.createFramebuffer(),l)if(h){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);var f=a.convert(t.texture.format),p=a.convert(t.texture.type),m=T(t.texture.internalFormat,f,p),v=z(t);e.renderbufferStorageMultisample(36161,v,m,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),N(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){r.bindTexture(34067,s.__webglTexture),R(34067,t.texture,c);for(var g=0;g<6;g++)D(i.__webglFramebuffer[g],t,36064,34069+g);x(t.texture,c)&&w(34067,t.texture,t.width,t.height),r.bindTexture(34067,null)}else r.bindTexture(3553,s.__webglTexture),R(3553,t.texture,c),D(i.__webglFramebuffer,t,36064,3553),x(t.texture,c)&&w(3553,t.texture,t.width,t.height),r.bindTexture(3553,null);t.depthBuffer&&F(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(x(t,_(e)||h)){var i=e.isWebGLCubeRenderTarget?34067:3553,a=n.get(t).__webglTexture;r.bindTexture(i,a),w(i,t,e.width,e.height),r.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(h){var r=n.get(t);e.bindFramebuffer(36008,r.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,r.__webglFramebuffer);var i=t.width,a=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728),e.bindFramebuffer(36160,r.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===B&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),B=!0),e=e.texture),A(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===U&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),U=!0),e=e.texture),C(e,t)}}function Ws(e,t,r){var n=r.isWebGL2;return{convert:function(e){var r;if(e===ze)return 5121;if(e===Xe)return 32819;if(e===Ye)return 32820;if(e===qe)return 33635;if(e===Be)return 5120;if(e===Ue)return 5122;if(e===je)return 5123;if(e===He)return 5124;if(e===Ge)return 5125;if(e===Ve)return 5126;if(e===We)return n?5131:null!==(r=t.get("OES_texture_half_float"))?r.HALF_FLOAT_OES:null;if(e===Je)return 6406;if(e===Qe)return 6407;if(e===Ke)return 6408;if(e===$e)return 6409;if(e===et)return 6410;if(e===rt)return 6402;if(e===nt)return 34041;if(e===it)return 6403;if(e===at)return 36244;if(e===ot)return 33319;if(e===st)return 33320;if(e===ut)return 36248;if(e===lt)return 36249;if(e===ct||e===ht||e===dt||e===ft){if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===ct)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===ht)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===dt)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===ft)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===pt||e===mt||e===vt||e===gt){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===pt)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===mt)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===vt)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===gt)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===yt)return null!==(r=t.get("WEBGL_compressed_texture_etc1"))?r.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===bt||e===_t)&&null!==(r=t.get("WEBGL_compressed_texture_etc"))){if(e===bt)return r.COMPRESSED_RGB8_ETC2;if(e===_t)return r.COMPRESSED_RGBA8_ETC2_EAC}return e===xt||e===wt||e===Tt||e===St||e===Et||e===Mt||e===Pt||e===At||e===Ct||e===Ot||e===kt||e===Rt||e===Lt||e===It||e===Nt||e===Ft||e===zt||e===Bt||e===Ut||e===jt||e===Ht||e===Gt||e===Vt||e===Wt||e===Xt||e===Yt||e===qt||e===Zt?null!==(r=t.get("WEBGL_compressed_texture_astc"))?e:null:e===Dt?null!==(r=t.get("EXT_texture_compression_bptc"))?e:null:e===Ze?n?34042:null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Xs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Da.call(this),this.cameras=e}function Ys(){hi.call(this),this.type="Group"}function qs(){this._targetRay=null,this._grip=null,this._hand=null}function Zs(e,t){var r=this,n=null,i=1,a=null,o="local-floor",s=null,u=[],l=new Map,c=new Da;c.layers.enable(1),c.viewport=new un;var h=new Da;h.layers.enable(2),h.viewport=new un;var d=[c,h],f=new Xs;f.layers.enable(1),f.layers.enable(2);var p=null,m=null;function v(e){var t=l.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function g(){l.forEach((function(e,t){e.disconnect(t)})),l.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),S.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}function y(e){a=e,S.setContext(n),S.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}function b(e){for(var t=n.inputSources,r=0;r<u.length;r++)l.set(t[r],u[r]);for(var i=0;i<e.removed.length;i++){var a=e.removed[i],o=l.get(a);o&&(o.dispatchEvent({type:"disconnected",data:a}),l.delete(a))}for(var s=0;s<e.added.length;s++){var c=e.added[s],h=l.get(c);h&&h.dispatchEvent({type:"connected",data:c})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=u[e];return void 0===t&&(t=new qs,u[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=u[e];return void 0===t&&(t=new qs,u[e]=t),t.getGripSpace()},this.getHand=function(e){var t=u[e];return void 0===t&&(t=new qs,u[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return n},this.setSession=function(e){if(null!==(n=e)){n.addEventListener("select",v),n.addEventListener("selectstart",v),n.addEventListener("selectend",v),n.addEventListener("squeeze",v),n.addEventListener("squeezestart",v),n.addEventListener("squeezeend",v),n.addEventListener("end",g);var r=t.getContextAttributes();!0!==r.xrCompatible&&t.makeXRCompatible();var a={antialias:r.antialias,alpha:r.alpha,depth:r.depth,stencil:r.stencil,framebufferScaleFactor:i},s=new XRWebGLLayer(n,t,a);n.updateRenderState({baseLayer:s}),n.requestReferenceSpace(o).then(y),n.addEventListener("inputsourceschange",b)}};var _=new dn,x=new dn;function w(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.getCamera=function(e){f.near=h.near=c.near=e.near,f.far=h.far=c.far=e.far,p===f.near&&m===f.far||(n.updateRenderState({depthNear:f.near,depthFar:f.far}),p=f.near,m=f.far);var t=e.parent,r=f.cameras;w(f,t);for(var i=0;i<r.length;i++)w(r[i],t);e.matrixWorld.copy(f.matrixWorld);for(var a=e.children,o=0,s=a.length;o<s;o++)a[o].updateMatrixWorld(!0);return 2===r.length?function(e,t,r){_.setFromMatrixPosition(t.matrixWorld),x.setFromMatrixPosition(r.matrixWorld);var n=_.distanceTo(x),i=t.projectionMatrix.elements,a=r.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*c,f=o*h,p=n/(-c+h),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=o+p,g=s+p,y=d-m,b=f+(n-m),w=u*s/g*v,T=l*s/g*v;e.projectionMatrix.makePerspective(y,b,w,T,v,g)}(f,c,h):f.projectionMatrix.copy(c.projectionMatrix),f};var T=null;var S=new Va;S.setAnimationLoop((function(t,r){if(null!==(s=r.getViewerPose(a))){var i=s.views,o=n.renderState.baseLayer;e.setFramebuffer(o.framebuffer);var l=!1;i.length!==f.cameras.length&&(f.cameras.length=0,l=!0);for(var c=0;c<i.length;c++){var h=i[c],p=o.getViewport(h),m=d[c];m.matrix.fromArray(h.transform.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(p.x,p.y,p.width,p.height),0===c&&f.matrix.copy(m.matrix),!0===l&&f.cameras.push(m)}}for(var v=n.inputSources,g=0;g<u.length;g++){var y=u[g],b=v[g];y.update(b,r,a)}T&&T(t,r)})),this.setAnimationLoop=function(e){T=e},this.dispose=function(){}}function Js(e){function t(t,r){t.opacity.value=r.opacity,r.color&&t.diffuse.value.copy(r.color),r.emissive&&t.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(t.map.value=r.map),r.alphaMap&&(t.alphaMap.value=r.alphaMap),r.specularMap&&(t.specularMap.value=r.specularMap);var n,i,a=e.get(r).envMap;if(a){t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture&&a._needsFlipEnvMap?-1:1,t.reflectivity.value=r.reflectivity,t.refractionRatio.value=r.refractionRatio;var o=e.get(a).__maxMipLevel;void 0!==o&&(t.maxMipLevel.value=o)}r.lightMap&&(t.lightMap.value=r.lightMap,t.lightMapIntensity.value=r.lightMapIntensity),r.aoMap&&(t.aoMap.value=r.aoMap,t.aoMapIntensity.value=r.aoMapIntensity),r.map?n=r.map:r.specularMap?n=r.specularMap:r.displacementMap?n=r.displacementMap:r.normalMap?n=r.normalMap:r.bumpMap?n=r.bumpMap:r.roughnessMap?n=r.roughnessMap:r.metalnessMap?n=r.metalnessMap:r.alphaMap?n=r.alphaMap:r.emissiveMap?n=r.emissiveMap:r.clearcoatMap?n=r.clearcoatMap:r.clearcoatNormalMap?n=r.clearcoatNormalMap:r.clearcoatRoughnessMap&&(n=r.clearcoatRoughnessMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix)),r.aoMap?i=r.aoMap:r.lightMap&&(i=r.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function r(t,r){t.roughness.value=r.roughness,t.metalness.value=r.metalness,r.roughnessMap&&(t.roughnessMap.value=r.roughnessMap),r.metalnessMap&&(t.metalnessMap.value=r.metalnessMap),r.emissiveMap&&(t.emissiveMap.value=r.emissiveMap),r.bumpMap&&(t.bumpMap.value=r.bumpMap,t.bumpScale.value=r.bumpScale,r.side===C&&(t.bumpScale.value*=-1)),r.normalMap&&(t.normalMap.value=r.normalMap,t.normalScale.value.copy(r.normalScale),r.side===C&&t.normalScale.value.negate()),r.displacementMap&&(t.displacementMap.value=r.displacementMap,t.displacementScale.value=r.displacementScale,t.displacementBias.value=r.displacementBias),e.get(r).envMap&&(t.envMapIntensity.value=r.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,n,i,a){n.isMeshBasicMaterial?t(e,n):n.isMeshLambertMaterial?(t(e,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,n)):n.isMeshToonMaterial?(t(e,n),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===C&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===C&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshPhongMaterial?(t(e,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===C&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===C&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshStandardMaterial?(t(e,n),n.isMeshPhysicalMaterial?function(e,t){r(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===C&&e.clearcoatNormalScale.value.negate());e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,n):r(e,n)):n.isMeshMatcapMaterial?(t(e,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===C&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===C&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDepthMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDistanceMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,n)):n.isMeshNormalMaterial?(t(e,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===C&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===C&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,n)):n.isPointsMaterial?function(e,t,r,n){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*n,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,n,i,a):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,n):n.isShadowMaterial?(e.color.value.copy(n.color),e.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function Qs(e){var t=void 0!==(e=e||{}).canvas?e.canvas:function(){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}(),r=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,h=null,d=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=cr,this.physicallyCorrectLights=!1,this.toneMapping=de,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f=this,p=!1,m=null,v=0,g=0,y=null,b=null,_=-1,x=null,w=null,T=new un,S=new un,E=null,M=t.width,P=t.height,A=1,C=null,O=null,k=new un(0,0,M,P),R=new un(0,0,M,P),L=!1,I=new Ga,D=!1,N=!1,F=new Un,z=new dn,B={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return null===y?A:1}var j,H,G,V,W,X,Y,q,Z,J,Q,K,$,ee,te,re,ne,ie,ae,oe,se,ue=r;function le(e,r){for(var n=0;n<e.length;n++){var i=e[n],a=t.getContext(i,r);if(null!==a)return a}return null}try{var ce={alpha:n,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:c};if(t.addEventListener("webglcontextlost",ve,!1),t.addEventListener("webglcontextrestored",ge,!1),null===ue){var he=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&he.shift(),null===(ue=le(he,ce)))throw le(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ue.getShaderPrecisionFormat&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Pe){throw console.error("THREE.WebGLRenderer: "+Pe.message),Pe}function fe(){j=new ro(ue),!1===(H=new $a(ue,j,e)).isWebGL2&&(j.get("WEBGL_depth_texture"),j.get("OES_texture_float"),j.get("OES_texture_half_float"),j.get("OES_texture_half_float_linear"),j.get("OES_standard_derivatives"),j.get("OES_element_index_uint"),j.get("OES_vertex_array_object"),j.get("ANGLE_instanced_arrays")),j.get("OES_texture_float_linear"),oe=new Ws(ue,j,H),(G=new Gs(ue,j,H)).scissor(S.copy(R).multiplyScalar(A).floor()),G.viewport(T.copy(k).multiplyScalar(A).floor()),V=new ao(ue),W=new Cs,X=new Vs(ue,j,G,W,H,oe,V),Y=new to(f),q=new Wa(ue,H),se=new Qa(ue,j,q,H),Z=new no(ue,q,V,se),J=new lo(ue,Z,q,V),ne=new uo(ue),te=new eo(W),Q=new As(f,Y,j,H,se,te),K=new Js(W),$=new Ls(W),ee=new Bs(j,H),re=new Ja(f,Y,G,J,s),ie=new Ka(ue,j,V,H),ae=new io(ue,j,V,H),V.programs=Q.programs,f.capabilities=H,f.extensions=j,f.properties=W,f.renderLists=$,f.state=G,f.info=V}fe();var pe=new Zs(f,ue);this.xr=pe;var me=new Hs(f,J,H.maxTextureSize);function ve(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function ge(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1,fe()}function ye(e){var t=e.target;t.removeEventListener("dispose",ye),function(e){be(e),W.remove(e)}(t)}function be(e){var t=W.get(e).program;void 0!==t&&Q.releaseProgram(t)}this.shadowMap=me,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){var e=j.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=j.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return A},this.setPixelRatio=function(e){void 0!==e&&(A=e,this.setSize(M,P,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new tn),e.set(M,P)},this.setSize=function(e,r,n){pe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(M=e,P=r,t.width=Math.floor(e*A),t.height=Math.floor(r*A),!1!==n&&(t.style.width=e+"px",t.style.height=r+"px"),this.setViewport(0,0,e,r))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new tn),e.set(M*A,P*A).floor()},this.setDrawingBufferSize=function(e,r,n){M=e,P=r,A=n,t.width=Math.floor(e*n),t.height=Math.floor(r*n),this.setViewport(0,0,e,r)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new un),e.copy(T)},this.getViewport=function(e){return e.copy(k)},this.setViewport=function(e,t,r,n){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,r,n),G.viewport(T.copy(k).multiplyScalar(A).floor())},this.getScissor=function(e){return e.copy(R)},this.setScissor=function(e,t,r,n){e.isVector4?R.set(e.x,e.y,e.z,e.w):R.set(e,t,r,n),G.scissor(S.copy(R).multiplyScalar(A).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(e){G.setScissorTest(L=e)},this.setOpaqueSort=function(e){C=e},this.setTransparentSort=function(e){O=e},this.getClearColor=function(){return re.getClearColor()},this.setClearColor=function(){re.setClearColor.apply(re,arguments)},this.getClearAlpha=function(){return re.getClearAlpha()},this.setClearAlpha=function(){re.setClearAlpha.apply(re,arguments)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===r||r)&&(n|=1024),ue.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ve,!1),t.removeEventListener("webglcontextrestored",ge,!1),$.dispose(),ee.dispose(),W.dispose(),Y.dispose(),J.dispose(),se.dispose(),pe.dispose(),xe.stop()},this.renderBufferImmediate=function(e,t){se.initAttributes();var r=W.get(e);e.hasPositions&&!r.position&&(r.position=ue.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=ue.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=ue.createBuffer()),e.hasColors&&!r.color&&(r.color=ue.createBuffer());var n=t.getAttributes();e.hasPositions&&(ue.bindBuffer(34962,r.position),ue.bufferData(34962,e.positionArray,35048),se.enableAttribute(n.position),ue.vertexAttribPointer(n.position,3,5126,!1,0,0)),e.hasNormals&&(ue.bindBuffer(34962,r.normal),ue.bufferData(34962,e.normalArray,35048),se.enableAttribute(n.normal),ue.vertexAttribPointer(n.normal,3,5126,!1,0,0)),e.hasUvs&&(ue.bindBuffer(34962,r.uv),ue.bufferData(34962,e.uvArray,35048),se.enableAttribute(n.uv),ue.vertexAttribPointer(n.uv,2,5126,!1,0,0)),e.hasColors&&(ue.bindBuffer(34962,r.color),ue.bufferData(34962,e.colorArray,35048),se.enableAttribute(n.color),ue.vertexAttribPointer(n.color,3,5126,!1,0,0)),se.disableUnusedAttributes(),ue.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,r,n,i,a){null===t&&(t=B);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=Me(e,t,n,i);G.setMaterial(n,o);var u=r.index,l=r.attributes.position;if(null===u){if(void 0===l||0===l.count)return}else if(0===u.count)return;var c,h=1;!0===n.wireframe&&(u=Z.getWireframeAttribute(r),h=2),(n.morphTargets||n.morphNormals)&&ne.update(i,r,n,s),se.setup(i,n,s,r,u);var d=ie;null!==u&&(c=q.get(u),(d=ae).setIndex(c));var f=null!==u?u.count:l.count,p=r.drawRange.start*h,m=r.drawRange.count*h,v=null!==a?a.start*h:0,g=null!==a?a.count*h:1/0,y=Math.max(p,v),b=Math.min(f,p+m,v+g)-1,_=Math.max(0,b-y+1);if(0!==_){if(i.isMesh)!0===n.wireframe?(G.setLineWidth(n.wireframeLinewidth*U()),d.setMode(1)):d.setMode(4);else if(i.isLine){var x=n.linewidth;void 0===x&&(x=1),G.setLineWidth(x*U()),i.isLineSegments?d.setMode(1):i.isLineLoop?d.setMode(2):d.setMode(3)}else i.isPoints?d.setMode(0):i.isSprite&&d.setMode(4);if(i.isInstancedMesh)d.renderInstances(y,_,i.count);else if(r.isInstancedBufferGeometry){var w=Math.min(r.instanceCount,r._maxInstanceCount);d.renderInstances(y,_,w)}else d.render(y,_)}},this.compile=function(e,t){(d=ee.get(e,t)).init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(t);var r=new WeakMap;e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++){var a=n[i];!1===r.has(a)&&(Ee(a,e,t),r.set(a))}else!1===r.has(n)&&(Ee(n,e,t),r.set(n))}))};var _e=null;var xe=new Va;function we(e,t,r,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||I.intersectsSprite(e)){n&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);var i=J.update(e),a=e.material;a.visible&&h.push(e,i,a,r,z.z,null)}}else if(e.isImmediateRenderObject)n&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F),h.push(e,null,e.material,r,z.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==V.render.frame&&(e.skeleton.update(),e.skeleton.frame=V.render.frame),!e.frustumCulled||I.intersectsObject(e))){n&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);var o=J.update(e),s=e.material;if(Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var f=u[l],p=s[f.materialIndex];p&&p.visible&&h.push(e,o,p,r,z.z,f)}else s.visible&&h.push(e,o,s,r,z.z,null)}for(var m=e.children,v=0,g=m.length;v<g;v++)we(m[v],t,r,n)}}function Te(e,t,r){for(var n=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===n?o.material:n,c=o.group;if(r.isArrayCamera){w=r;for(var h=r.cameras,f=0,p=h.length;f<p;f++){var m=h[f];s.layers.test(m.layers)&&(G.viewport(T.copy(m.viewport)),d.setupLights(m),Se(s,t,m,u,l,c))}}else w=null,Se(s,t,r,u,l,c)}}function Se(e,t,r,n,i,a){if(e.onBeforeRender(f,t,r,n,i,a),d=ee.get(t,w||r),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Me(r,t,i,e);G.setMaterial(i),se.reset(),function(e,t){e.render((function(e){f.renderBufferImmediate(e,t)}))}(e,o)}else f.renderBufferDirect(r,t,n,i,e,a);e.onAfterRender(f,t,r,n,i,a),d=ee.get(t,w||r)}function Ee(e,t,r){!0!==t.isScene&&(t=B);var n=W.get(e),i=d.state.lights,a=d.state.shadowsArray,o=i.state.version,s=Q.getParameters(e,i.state,a,t,r),u=Q.getProgramCacheKey(s),l=n.program,c=!0;if(void 0===l)e.addEventListener("dispose",ye);else if(l.cacheKey!==u)be(e);else if(n.lightsStateVersion!==o)c=!1;else{if(void 0!==s.shaderID){var h=e.isMeshStandardMaterial?t.environment:null;return void(n.envMap=Y.get(e.envMap||h))}c=!1}c&&(s.uniforms=Q.getUniforms(e),e.onBeforeCompile(s,f),l=Q.acquireProgram(s,u),n.program=l,n.uniforms=s.uniforms,n.outputEncoding=s.outputEncoding);var p=n.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(n.numClippingPlanes=te.numPlanes,n.numIntersection=te.numIntersection,p.clippingPlanes=te.uniform),n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.envMap=Y.get(e.envMap||n.environment),n.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),n.lightsStateVersion=o,n.needsLights&&(p.ambientLightColor.value=i.state.ambient,p.lightProbe.value=i.state.probe,p.directionalLights.value=i.state.directional,p.directionalLightShadows.value=i.state.directionalShadow,p.spotLights.value=i.state.spot,p.spotLightShadows.value=i.state.spotShadow,p.rectAreaLights.value=i.state.rectArea,p.ltc_1.value=i.state.rectAreaLTC1,p.ltc_2.value=i.state.rectAreaLTC2,p.pointLights.value=i.state.point,p.pointLightShadows.value=i.state.pointShadow,p.hemisphereLights.value=i.state.hemi,p.directionalShadowMap.value=i.state.directionalShadowMap,p.directionalShadowMatrix.value=i.state.directionalShadowMatrix,p.spotShadowMap.value=i.state.spotShadowMap,p.spotShadowMatrix.value=i.state.spotShadowMatrix,p.pointShadowMap.value=i.state.pointShadowMap,p.pointShadowMatrix.value=i.state.pointShadowMatrix);var m=n.program.getUniforms(),v=ss.seqWithValue(m.seq,p);n.uniformsList=v}function Me(e,t,r,n){!0!==t.isScene&&(t=B),X.resetTextureUnits();var i=t.fog,a=r.isMeshStandardMaterial?t.environment:null,o=null===y?f.outputEncoding:y.texture.encoding,s=Y.get(r.envMap||a),u=W.get(r),l=d.state.lights;if(!0===D&&(!0===N||e!==x)){var c=e===x&&r.id===_;te.setState(r,e,c)}r.version===u.__version?r.fog&&u.fog!==i||u.environment!==a||u.needsLights&&u.lightsStateVersion!==l.state.version?Ee(r,t,n):void 0===u.numClippingPlanes||u.numClippingPlanes===te.numPlanes&&u.numIntersection===te.numIntersection?(u.outputEncoding!==o||u.envMap!==s)&&Ee(r,t,n):Ee(r,t,n):(Ee(r,t,n),u.__version=r.version);var h,p,m=!1,v=!1,g=!1,b=u.program,w=b.getUniforms(),T=u.uniforms;if(G.useProgram(b.program)&&(m=!0,v=!0,g=!0),r.id!==_&&(_=r.id,v=!0),m||x!==e){if(w.setValue(ue,"projectionMatrix",e.projectionMatrix),H.logarithmicDepthBuffer&&w.setValue(ue,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),x!==e&&(x=e,v=!0,g=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var S=w.map.cameraPosition;void 0!==S&&S.setValue(ue,z.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&w.setValue(ue,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||r.skinning)&&w.setValue(ue,"viewMatrix",e.matrixWorldInverse)}if(r.skinning){w.setOptional(ue,n,"bindMatrix"),w.setOptional(ue,n,"bindMatrixInverse");var E=n.skeleton;if(E){var M=E.bones;if(H.floatVertexTextures){if(null===E.boneTexture){var C=Math.sqrt(4*M.length);C=en.ceilPowerOfTwo(C),C=Math.max(C,4);var O=new Float32Array(C*C*4);O.set(E.boneMatrices);var k=new Ua(O,C,C,Ke,Ve);E.boneMatrices=O,E.boneTexture=k,E.boneTextureSize=C}w.setValue(ue,"boneTexture",E.boneTexture,X),w.setValue(ue,"boneTextureSize",E.boneTextureSize)}else w.setOptional(ue,E,"boneMatrices")}}return(v||u.receiveShadow!==n.receiveShadow)&&(u.receiveShadow=n.receiveShadow,w.setValue(ue,"receiveShadow",n.receiveShadow)),v&&(w.setValue(ue,"toneMappingExposure",f.toneMappingExposure),u.needsLights&&(p=g,(h=T).ambientLightColor.needsUpdate=p,h.lightProbe.needsUpdate=p,h.directionalLights.needsUpdate=p,h.directionalLightShadows.needsUpdate=p,h.pointLights.needsUpdate=p,h.pointLightShadows.needsUpdate=p,h.spotLights.needsUpdate=p,h.spotLightShadows.needsUpdate=p,h.rectAreaLights.needsUpdate=p,h.hemisphereLights.needsUpdate=p),i&&r.fog&&K.refreshFogUniforms(T,i),K.refreshMaterialUniforms(T,r,A,P),ss.upload(ue,u.uniformsList,T,X)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(ss.upload(ue,u.uniformsList,T,X),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&w.setValue(ue,"center",n.center),w.setValue(ue,"modelViewMatrix",n.modelViewMatrix),w.setValue(ue,"normalMatrix",n.normalMatrix),w.setValue(ue,"modelMatrix",n.matrixWorld),b}xe.setAnimationLoop((function(e){pe.isPresenting||_e&&_e(e)})),"undefined"!==typeof window&&xe.setContext(window),this.setAnimationLoop=function(e){_e=e,pe.setAnimationLoop(e),null===e?xe.stop():xe.start()},this.render=function(e,t){var r,n;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),r=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),void 0===t||!0===t.isCamera){if(!0!==p){se.resetDefaultState(),_=-1,x=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===pe.enabled&&!0===pe.isPresenting&&(t=pe.getCamera(t)),!0===e.isScene&&e.onBeforeRender(f,e,t,r||y),(d=ee.get(e,t)).init(),F.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),I.setFromProjectionMatrix(F),N=this.localClippingEnabled,D=te.init(this.clippingPlanes,N,t),(h=$.get(e,t)).init(),we(e,t,0,f.sortObjects),h.finish(),!0===f.sortObjects&&h.sort(C,O),!0===D&&te.beginShadows();var i=d.state.shadowsArray;me.render(i,e,t),d.setupLights(t),!0===D&&te.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==r&&this.setRenderTarget(r),re.render(h,e,t,n);var a=h.opaque,o=h.transparent;a.length>0&&Te(a,e,t),o.length>0&&Te(o,e,t),!0===e.isScene&&e.onAfterRender(f,e,t),null!==y&&(X.updateRenderTargetMipmap(y),X.updateMultisampleRenderTarget(y)),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),h=null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){m!==e&&null===y&&ue.bindFramebuffer(36160,e),m=e},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return g},this.getRenderList=function(){return h},this.setRenderList=function(e){h=e},this.getRenderState=function(){return d},this.setRenderState=function(e){d=e},this.getRenderTarget=function(){return y},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;y=e,v=t,g=r,e&&void 0===W.get(e).__webglFramebuffer&&X.setupRenderTarget(e);var n=m,i=!1;if(e){var a=W.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(n=a[t],i=!0):n=e.isWebGLMultisampleRenderTarget?W.get(e).__webglMultisampledFramebuffer:a,T.copy(e.viewport),S.copy(e.scissor),E=e.scissorTest}else T.copy(k).multiplyScalar(A).floor(),S.copy(R).multiplyScalar(A).floor(),E=L;if(b!==n&&(ue.bindFramebuffer(36160,n),b=n),G.viewport(T),G.scissor(S),G.setScissorTest(E),i){var o=W.get(e.texture);ue.framebufferTexture2D(36160,36064,34069+t,o.__webglTexture,r)}},this.readRenderTargetPixels=function(e,t,r,n,i,a,o){if(e&&e.isWebGLRenderTarget){var s=W.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var u=!1;s!==b&&(ue.bindFramebuffer(36160,s),u=!0);try{var l=e.texture,c=l.format,h=l.type;if(c!==Ke&&oe.convert(c)!==ue.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(h!==ze&&oe.convert(h)!==ue.getParameter(35738)&&(h!==Ve||!(H.isWebGL2||j.get("OES_texture_float")||j.get("WEBGL_color_buffer_float")))&&(h!==We||!(H.isWebGL2?j.get("EXT_color_buffer_float"):j.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ue.checkFramebufferStatus(36160)?t>=0&&t<=e.width-n&&r>=0&&r<=e.height-i&&ue.readPixels(t,r,n,i,oe.convert(c),oe.convert(h),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{u&&ue.bindFramebuffer(36160,b)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Math.pow(2,-r),i=Math.floor(t.image.width*n),a=Math.floor(t.image.height*n),o=oe.convert(t.format);X.setTexture2D(t,0),ue.copyTexImage2D(3553,r,o,e.x,e.y,i,a,0),G.unbindTexture()},this.copyTextureToTexture=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=oe.convert(r.format),s=oe.convert(r.type);X.setTexture2D(r,0),ue.pixelStorei(37440,r.flipY),ue.pixelStorei(37441,r.premultiplyAlpha),ue.pixelStorei(3317,r.unpackAlignment),t.isDataTexture?ue.texSubImage2D(3553,n,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?ue.compressedTexSubImage2D(3553,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ue.texSubImage2D(3553,n,e.x,e.y,o,s,t.image),0===n&&r.generateMipmaps&&ue.generateMipmap(3553),G.unbindTexture()},this.initTexture=function(e){X.setTexture2D(e,0),G.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Ks(e){Qs.call(this,e)}Xs.prototype=Object.assign(Object.create(Da.prototype),{constructor:Xs,isArrayCamera:!0}),Ys.prototype=Object.assign(Object.create(hi.prototype),{constructor:Ys,isGroup:!0}),Object.assign(qs.prototype,{constructor:qs,getHandSpace:function(){if(null===this._hand&&(this._hand=new Ys,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){var t=new Ys;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Ys,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Ys,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,r){var n=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(u&&e.hand){a=!0;for(var l=0;l<=window.XRHand.LITTLE_PHALANX_TIP;l++)if(e.hand[l]){var c=t.getJointPose(e.hand[l],r),h=u.joints[l];null!==c&&(h.matrix.fromArray(c.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=c.radius),h.visible=null!==c;var d=u.joints[window.XRHand.INDEX_PHALANX_TIP],f=u.joints[window.XRHand.THUMB_PHALANX_TIP],p=d.position.distanceTo(f.position);u.inputState.pinching&&p>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else null!==o&&null!==(n=t.getPose(e.targetRaySpace,r))&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,r))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==o&&(o.visible=null!==n),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}}),Object.assign(Zs.prototype,Zr.prototype),Ks.prototype=Object.assign(Object.create(Qs.prototype),{constructor:Ks,isWebGL1Renderer:!0});var $s=function(){function e(t,r){Object(p.a)(this,e),Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new Li(t),this.density=void 0!==r?r:25e-5}return v(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),eu=function(){function e(t,r,n){Object(p.a)(this,e),Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new Li(t),this.near=void 0!==r?r:1,this.far=void 0!==n?n:1e3}return v(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),tu=function(e){c(r,e);var t=d(r);function r(){var e;return Object(p.a)(this,r),e=t.call(this),Object.defineProperty(i(e),"isScene",{value:!0}),e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:i(e)})),e}return v(r,[{key:"copy",value:function(e,t){return s(o(r.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=s(o(r.prototype),"toJSON",this).call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),r}(hi);function ru(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=zr,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=en.generateUUID()}Object.defineProperty(ru.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ru.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(var n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=en.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new ru(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=en.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var nu,iu=new dn;function au(e,t,r,n){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===n}function ou(e){Ni.call(this),this.type="SpriteMaterial",this.color=new Li(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(au.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(au.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,r=this.data.count;t<r;t++)iu.x=this.getX(t),iu.y=this.getY(t),iu.z=this.getZ(t),iu.applyMatrix4(e),this.setXYZ(t,iu.x,iu.y,iu.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],r=0;r<this.count;r++)for(var n=r*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[n+i]);return new Ui(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new au(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],r=0;r<this.count;r++)for(var n=r*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[n+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),ou.prototype=Object.create(Ni.prototype),ou.prototype.constructor=ou,ou.prototype.isSpriteMaterial=!0,ou.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var su=new dn,uu=new dn,lu=new dn,cu=new tn,hu=new tn,du=new Un,fu=new dn,pu=new dn,mu=new dn,vu=new tn,gu=new tn,yu=new tn;function bu(e){if(hi.call(this),this.type="Sprite",void 0===nu){nu=new ua;var t=new ru(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);nu.setIndex([0,1,2,0,2,3]),nu.setAttribute("position",new au(t,3,0,!1)),nu.setAttribute("uv",new au(t,2,3,!1))}this.geometry=nu,this.material=void 0!==e?e:new ou,this.center=new tn(.5,.5)}function _u(e,t,r,n,i,a){cu.subVectors(e,r).addScalar(.5).multiply(n),void 0!==i?(hu.x=a*cu.x-i*cu.y,hu.y=i*cu.x+a*cu.y):hu.copy(cu),e.copy(t),e.x+=hu.x,e.y+=hu.y,e.applyMatrix4(du)}bu.prototype=Object.assign(Object.create(hi.prototype),{constructor:bu,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),uu.setFromMatrixScale(this.matrixWorld),du.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),lu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&uu.multiplyScalar(-lu.z);var r,n,i=this.material.rotation;0!==i&&(n=Math.cos(i),r=Math.sin(i));var a=this.center;_u(fu.set(-.5,-.5,0),lu,a,uu,r,n),_u(pu.set(.5,-.5,0),lu,a,uu,r,n),_u(mu.set(.5,.5,0),lu,a,uu,r,n),vu.set(0,0),gu.set(1,0),yu.set(1,1);var o=e.ray.intersectTriangle(fu,pu,mu,!1,su);if(null!==o||(_u(pu.set(-.5,.5,0),lu,a,uu,r,n),gu.set(0,1),null!==(o=e.ray.intersectTriangle(fu,mu,pu,!1,su)))){var s=e.ray.origin.distanceTo(su);s<e.near||s>e.far||t.push({distance:s,point:su.clone(),uv:Mi.getUV(su,fu,pu,mu,vu,gu,yu,new tn),face:null,object:this})}},copy:function(e){return hi.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});var xu=new dn,wu=new dn;function Tu(){hi.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Su(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Ma.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Un,this.bindMatrixInverse=new Un}function Eu(){hi.call(this),this.type="Bone"}Tu.prototype=Object.assign(Object.create(hi.prototype),{constructor:Tu,isLOD:!0,copy:function(e){hi.prototype.copy.call(this,e,!1);for(var t=e.levels,r=0,n=t.length;r<n;r++){var i=t[r];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var r,n=this.levels;for(r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){var r,n;for(r=1,n=t.length;r<n&&!(e<t[r].distance);r++);return t[r-1].object}return null},raycast:function(e,t){if(this.levels.length>0){xu.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(xu);this.getObjectForDistance(r).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){xu.setFromMatrixPosition(e.matrixWorld),wu.setFromMatrixPosition(this.matrixWorld);var r,n,i=xu.distanceTo(wu)/e.zoom;for(t[0].object.visible=!0,r=1,n=t.length;r<n&&i>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<n;r++)t[r].object.visible=!1}},toJSON:function(e){var t=hi.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,n=0,i=r.length;n<i;n++){var a=r[n];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),Su.prototype=Object.assign(Object.create(Ma.prototype),{constructor:Su,isSkinnedMesh:!0,copy:function(e){return Ma.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new un,t=this.geometry.attributes.skinWeight,r=0,n=t.count;r<n;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Ma.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){var e=new dn,t=new un,r=new un,n=new dn,i=new Un;return function(a,o){var s=this.skeleton,u=this.geometry;t.fromBufferAttribute(u.attributes.skinIndex,a),r.fromBufferAttribute(u.attributes.skinWeight,a),e.fromBufferAttribute(u.attributes.position,a).applyMatrix4(this.bindMatrix),o.set(0,0,0);for(var l=0;l<4;l++){var c=r.getComponent(l);if(0!==c){var h=t.getComponent(l);i.multiplyMatrices(s.bones[h].matrixWorld,s.boneInverses[h]),o.addScaledVector(n.copy(e).applyMatrix4(i),c)}}return o.applyMatrix4(this.bindMatrixInverse)}}()}),Eu.prototype=Object.assign(Object.create(hi.prototype),{constructor:Eu,isBone:!0});var Mu=new Un,Pu=new Un;function Au(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=en.generateUUID(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Au.prototype,{init:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new Un)}},calculateInverses:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var r=new Un;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}},pose:function(){for(var e=0,t=this.bones.length;e<t;e++){var r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(var n=0,i=this.bones.length;n<i;n++){var a=this.bones[n];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}},update:function(){for(var e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:Pu;Mu.multiplyMatrices(o,t[i]),Mu.toArray(r,16*i)}null!==n&&(n.needsUpdate=!0)},clone:function(){return new Au(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,r=this.bones.length;t<r;t++){var n=this.bones[t];if(n.name===e)return n}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(e,t){this.uuid=e.uuid;for(var r=0,n=e.bones.length;r<n;r++){var i=e.bones[r],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new Eu),this.bones.push(a),this.boneInverses.push((new Un).fromArray(e.boneInverses[r]))}return this.init(),this},toJSON:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,r=this.boneInverses,n=0,i=t.length;n<i;n++){var a=t[n];e.bones.push(a.uuid);var o=r[n];e.boneInverses.push(o.toArray())}return e}});var Cu=new Un,Ou=new Un,ku=[],Ru=new Ma;function Lu(e,t,r){Ma.call(this,e,t),this.instanceMatrix=new Ui(new Float32Array(16*r),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}function Iu(e){Ni.call(this),this.type="LineBasicMaterial",this.color=new Li(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Lu.prototype=Object.assign(Object.create(Ma.prototype),{constructor:Lu,isInstancedMesh:!0,copy:function(e){return Ma.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var r=this.matrixWorld,n=this.count;if(Ru.geometry=this.geometry,Ru.material=this.material,void 0!==Ru.material)for(var i=0;i<n;i++){this.getMatrixAt(i,Cu),Ou.multiplyMatrices(r,Cu),Ru.matrixWorld=Ou,Ru.raycast(e,ku);for(var a=0,o=ku.length;a<o;a++){var s=ku[a];s.instanceId=i,s.object=this,t.push(s)}ku.length=0}},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new Ui(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),Iu.prototype=Object.create(Ni.prototype),Iu.prototype.constructor=Iu,Iu.prototype.isLineBasicMaterial=!0,Iu.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var Du=new dn,Nu=new dn,Fu=new Un,zu=new Bn,Bu=new kn;function Uu(e,t,r){1===r&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),hi.call(this),this.type="Line",this.geometry=void 0!==e?e:new ua,this.material=void 0!==t?t:new Iu,this.updateMorphTargets()}Uu.prototype=Object.assign(Object.create(hi.prototype),{constructor:Uu,isLine:!0,copy:function(e){return hi.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[0],n=1,i=t.count;n<i;n++)Du.fromBufferAttribute(t,n-1),Nu.fromBufferAttribute(t,n),r[n]=r[n-1],r[n]+=Du.distanceTo(Nu);e.setAttribute("lineDistance",new Zi(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices,o=e.lineDistances;o[0]=0;for(var s=1,u=a.length;s<u;s++)o[s]=o[s-1],o[s]+=a[s-1].distanceTo(a[s])}return this},raycast:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Line.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),Bu.copy(r.boundingSphere),Bu.applyMatrix4(n),Bu.radius+=i,!1!==e.ray.intersectsSphere(Bu)){Fu.copy(n).invert(),zu.copy(e.ray).applyMatrix4(Fu);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new dn,u=new dn,l=new dn,c=new dn,h=this.isLineSegments?2:1;if(r.isBufferGeometry){var d=r.index,f=r.attributes.position;if(null!==d)for(var p=d.array,m=0,v=p.length-1;m<v;m+=h){var g=p[m],y=p[m+1];if(s.fromBufferAttribute(f,g),u.fromBufferAttribute(f,y),!(zu.distanceSqToSegment(s,u,c,l)>o)){c.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(c);b<e.near||b>e.far||t.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var _=0,x=f.count-1;_<x;_+=h){if(s.fromBufferAttribute(f,_),u.fromBufferAttribute(f,_+1),!(zu.distanceSqToSegment(s,u,c,l)>o)){c.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(c);w<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(r.isGeometry)for(var T=r.vertices,S=T.length,E=0;E<S-1;E+=h){if(!(zu.distanceSqToSegment(T[E],T[E+1],c,l)>o)){c.applyMatrix4(this.matrixWorld);var M=e.ray.origin.distanceTo(c);M<e.near||M>e.far||t.push({distance:M,point:l.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,r=Object.keys(t);if(r.length>0){var n=t[r[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=n.length;i<a;i++){var o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var ju=new dn,Hu=new dn;function Gu(e,t){Uu.call(this,e,t),this.type="LineSegments"}function Vu(e,t){Uu.call(this,e,t),this.type="LineLoop"}function Wu(e){Ni.call(this),this.type="PointsMaterial",this.color=new Li(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Gu.prototype=Object.assign(Object.create(Uu.prototype),{constructor:Gu,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[],n=0,i=t.count;n<i;n+=2)ju.fromBufferAttribute(t,n),Hu.fromBufferAttribute(t,n+1),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+ju.distanceTo(Hu);e.setAttribute("lineDistance",new Zi(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var a=e.vertices,o=e.lineDistances,s=0,u=a.length;s<u;s+=2)ju.copy(a[s]),Hu.copy(a[s+1]),o[s]=0===s?0:o[s-1],o[s+1]=o[s]+ju.distanceTo(Hu);return this}}),Vu.prototype=Object.assign(Object.create(Uu.prototype),{constructor:Vu,isLineLoop:!0}),Wu.prototype=Object.create(Ni.prototype),Wu.prototype.constructor=Wu,Wu.prototype.isPointsMaterial=!0,Wu.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Xu=new Un,Yu=new Bn,qu=new kn,Zu=new dn;function Ju(e,t){hi.call(this),this.type="Points",this.geometry=void 0!==e?e:new ua,this.material=void 0!==t?t:new Wu,this.updateMorphTargets()}function Qu(e,t,r,n,i,a,o){var s=Yu.distanceSqToPoint(e);if(s<r){var u=new dn;Yu.closestPointToPoint(e,u),u.applyMatrix4(n);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}function Ku(e,t,r,n,i,a,o,s,u){on.call(this,e,t,r,n,i,a,o,s,u),this.format=void 0!==o?o:Qe,this.minFilter=void 0!==a?a:Le,this.magFilter=void 0!==i?i:Le,this.generateMipmaps=!1;var l=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){l.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}function $u(e,t,r,n,i,a,o,s,u,l,c,h){on.call(this,null,a,o,s,u,l,n,i,c,h),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function el(e,t,r,n,i,a,o,s,u){on.call(this,e,t,r,n,i,a,o,s,u),this.needsUpdate=!0}function tl(e,t,r,n,i,a,o,s,u,l){if((l=void 0!==l?l:rt)!==rt&&l!==nt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&l===rt&&(r=je),void 0===r&&l===nt&&(r=Ze),on.call(this,null,n,i,a,o,s,l,r,u),this.image={width:e,height:t},this.magFilter=void 0!==o?o:Ae,this.minFilter=void 0!==s?s:Ae,this.flipY=!1,this.generateMipmaps=!1}Ju.prototype=Object.assign(Object.create(hi.prototype),{constructor:Ju,isPoints:!0,copy:function(e){return hi.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Points.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),qu.copy(r.boundingSphere),qu.applyMatrix4(n),qu.radius+=i,!1!==e.ray.intersectsSphere(qu)){Xu.copy(n).invert(),Yu.copy(e.ray).applyMatrix4(Xu);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(r.isBufferGeometry){var s=r.index,u=r.attributes.position;if(null!==s)for(var l=s.array,c=0,h=l.length;c<h;c++){var d=l[c];Zu.fromBufferAttribute(u,d),Qu(Zu,d,o,n,e,t,this)}else for(var f=0,p=u.count;f<p;f++)Zu.fromBufferAttribute(u,f),Qu(Zu,f,o,n,e,t,this)}else for(var m=r.vertices,v=0,g=m.length;v<g;v++)Qu(m[v],v,o,n,e,t,this)}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,r=Object.keys(t);if(r.length>0){var n=t[r[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=n.length;i<a;i++){var o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Ku.prototype=Object.assign(Object.create(on.prototype),{constructor:Ku,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),$u.prototype=Object.create(on.prototype),$u.prototype.constructor=$u,$u.prototype.isCompressedTexture=!0,el.prototype=Object.create(on.prototype),el.prototype.constructor=el,el.prototype.isCanvasTexture=!0,tl.prototype=Object.create(on.prototype),tl.prototype.constructor=tl,tl.prototype.isDepthTexture=!0;var rl=0,nl=new Un,il=new hi,al=new dn;function ol(){Object.defineProperty(this,"id",{value:rl+=2}),this.uuid=en.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}ol.prototype=Object.assign(Object.create(Zr.prototype),{constructor:ol,isGeometry:!0,applyMatrix4:function(e){for(var t=(new rn).getNormalMatrix(e),r=0,n=this.vertices.length;r<n;r++){this.vertices[r].applyMatrix4(e)}for(var i=0,a=this.faces.length;i<a;i++){var o=this.faces[i];o.normal.applyMatrix3(t).normalize();for(var s=0,u=o.vertexNormals.length;s<u;s++)o.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return nl.makeRotationX(e),this.applyMatrix4(nl),this},rotateY:function(e){return nl.makeRotationY(e),this.applyMatrix4(nl),this},rotateZ:function(e){return nl.makeRotationZ(e),this.applyMatrix4(nl),this},translate:function(e,t,r){return nl.makeTranslation(e,t,r),this.applyMatrix4(nl),this},scale:function(e,t,r){return nl.makeScale(e,t,r),this.applyMatrix4(nl),this},lookAt:function(e){return il.lookAt(e),il.updateMatrix(),this.applyMatrix4(il.matrix),this},fromBufferGeometry:function(e){var t=this,r=null!==e.index?e.index:void 0,n=e.attributes;if(void 0===n.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=n.position,a=n.normal,o=n.color,s=n.uv,u=n.uv2;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<i.count;l++)t.vertices.push((new dn).fromBufferAttribute(i,l)),void 0!==o&&t.colors.push((new Li).fromBufferAttribute(o,l));function c(e,r,n,i){var l=void 0===o?[]:[t.colors[e].clone(),t.colors[r].clone(),t.colors[n].clone()],c=void 0===a?[]:[(new dn).fromBufferAttribute(a,e),(new dn).fromBufferAttribute(a,r),(new dn).fromBufferAttribute(a,n)],h=new Ii(e,r,n,c,l,i);t.faces.push(h),void 0!==s&&t.faceVertexUvs[0].push([(new tn).fromBufferAttribute(s,e),(new tn).fromBufferAttribute(s,r),(new tn).fromBufferAttribute(s,n)]),void 0!==u&&t.faceVertexUvs[1].push([(new tn).fromBufferAttribute(u,e),(new tn).fromBufferAttribute(u,r),(new tn).fromBufferAttribute(u,n)])}var h=e.groups;if(h.length>0)for(var d=0;d<h.length;d++)for(var f=h[d],p=f.start,m=p,v=p+f.count;m<v;m+=3)void 0!==r?c(r.getX(m),r.getX(m+1),r.getX(m+2),f.materialIndex):c(m,m+1,m+2,f.materialIndex);else if(void 0!==r)for(var g=0;g<r.count;g+=3)c(r.getX(g),r.getX(g+1),r.getX(g+2));else for(var y=0;y<i.count;y+=3)c(y,y+1,y+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(al).negate(),this.translate(al.x,al.y,al.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,r=0===t?1:1/t,n=new Un;return n.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(n),this},computeFaceNormals:function(){for(var e=new dn,t=new dn,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=new Array(this.vertices.length),r=0,n=this.vertices.length;r<n;r++)t[r]=new dn;if(e)for(var i=new dn,a=new dn,o=0,s=this.faces.length;o<s;o++){var u=this.faces[o],l=this.vertices[u.a],c=this.vertices[u.b],h=this.vertices[u.c];i.subVectors(h,c),a.subVectors(l,c),i.cross(a),t[u.a].add(i),t[u.b].add(i),t[u.c].add(i)}else{this.computeFaceNormals();for(var d=0,f=this.faces.length;d<f;d++){var p=this.faces[d];t[p.a].add(p.normal),t[p.b].add(p.normal),t[p.c].add(p.normal)}}for(var m=0,v=this.vertices.length;m<v;m++)t[m].normalize();for(var g=0,y=this.faces.length;g<y;g++){var b=this.faces[g],_=b.vertexNormals;3===_.length?(_[0].copy(t[b.a]),_[1].copy(t[b.b]),_[2].copy(t[b.c])):(_[0]=t[b.a].clone(),_[1]=t[b.b].clone(),_[2]=t[b.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var e=0,t=this.faces.length;e<t;e++){var r=this.faces[e],n=r.vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var e=0,t=this.faces.length;e<t;e++){var r=this.faces[e];r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]);for(var n=0,i=r.vertexNormals.length;n<i;n++)r.__originalVertexNormals[n]?r.__originalVertexNormals[n].copy(r.vertexNormals[n]):r.__originalVertexNormals[n]=r.vertexNormals[n].clone()}var a=new ol;a.faces=this.faces;for(var o=0,s=this.morphTargets.length;o<s;o++){if(!this.morphNormals[o]){this.morphNormals[o]={},this.morphNormals[o].faceNormals=[],this.morphNormals[o].vertexNormals=[];for(var u=this.morphNormals[o].faceNormals,l=this.morphNormals[o].vertexNormals,c=0,h=this.faces.length;c<h;c++){var d=new dn,f={a:new dn,b:new dn,c:new dn};u.push(d),l.push(f)}}var p=this.morphNormals[o];a.vertices=this.morphTargets[o].vertices,a.computeFaceNormals(),a.computeVertexNormals();for(var m=0,v=this.faces.length;m<v;m++){var g=this.faces[m],y=p.faceNormals[m],b=p.vertexNormals[m];y.copy(g.normal),b.a.copy(g.vertexNormals[0]),b.b.copy(g.vertexNormals[1]),b.c.copy(g.vertexNormals[2])}}for(var _=0,x=this.faces.length;_<x;_++){var w=this.faces[_];w.normal=w.__originalFaceNormal,w.vertexNormals=w.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new mn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new kn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&e.isGeometry){var n,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,u=e.faces,l=this.colors,c=e.colors;void 0!==t&&(n=(new rn).getNormalMatrix(t));for(var h=0,d=o.length;h<d;h++){var f=o[h],p=f.clone();void 0!==t&&p.applyMatrix4(t),a.push(p)}for(var m=0,v=c.length;m<v;m++)l.push(c[m].clone());for(var g=0,y=u.length;g<y;g++){var b=u[g],_=void 0,x=void 0,w=b.vertexNormals,T=b.vertexColors,S=new Ii(b.a+i,b.b+i,b.c+i);S.normal.copy(b.normal),void 0!==n&&S.normal.applyMatrix3(n).normalize();for(var E=0,M=w.length;E<M;E++)_=w[E].clone(),void 0!==n&&_.applyMatrix3(n).normalize(),S.vertexNormals.push(_);S.color.copy(b.color);for(var P=0,A=T.length;P<A;P++)x=T[P],S.vertexColors.push(x.clone());S.materialIndex=b.materialIndex+r,s.push(S)}for(var C=0,O=e.faceVertexUvs.length;C<O;C++){var k=e.faceVertexUvs[C];void 0===this.faceVertexUvs[C]&&(this.faceVertexUvs[C]=[]);for(var R=0,L=k.length;R<L;R++){for(var I=k[R],D=[],N=0,F=I.length;N<F;N++)D.push(I[N].clone());this.faceVertexUvs[C].push(D)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t={},r=[],n=[],i=Math.pow(10,e),a=0,o=this.vertices.length;a<o;a++){var s=this.vertices[a],u=Math.round(s.x*i)+"_"+Math.round(s.y*i)+"_"+Math.round(s.z*i);void 0===t[u]?(t[u]=a,r.push(this.vertices[a]),n[a]=r.length-1):n[a]=n[t[u]]}for(var l=[],c=0,h=this.faces.length;c<h;c++){var d=this.faces[c];d.a=n[d.a],d.b=n[d.b],d.c=n[d.c];for(var f=[d.a,d.b,d.c],p=0;p<3;p++)if(f[p]===f[(p+1)%3]){l.push(c);break}}for(var m=l.length-1;m>=0;m--){var v=l[m];this.faces.splice(v,1);for(var g=0,y=this.faceVertexUvs.length;g<y;g++)this.faceVertexUvs[g].splice(v,1)}var b=this.vertices.length-r.length;return this.vertices=r,b},setFromPoints:function(e){this.vertices=[];for(var t=0,r=e.length;t<r;t++){var n=e[t];this.vertices.push(new dn(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,r=0;r<t;r++)e[r]._id=r;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var n,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(n=[]),o&&o.length===t&&(i=[]);for(var s=0;s<t;s++){var u=e[s]._id;n&&n.push(a[u]),i&&i.push(o[u])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}for(var n=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];n.push(a.x,a.y,a.z)}for(var o=[],s=[],u={},l=[],c={},h=[],d={},f=0;f<this.faces.length;f++){var p=this.faces[f],m=void 0!==this.faceVertexUvs[0][f],v=p.normal.length()>0,g=p.vertexNormals.length>0,y=1!==p.color.r||1!==p.color.g||1!==p.color.b,b=p.vertexColors.length>0,_=0;if(_=S(_,0,0),_=S(_,1,!0),_=S(_,2,!1),_=S(_,3,m),_=S(_,4,v),_=S(_,5,g),_=S(_,6,y),_=S(_,7,b),o.push(_),o.push(p.a,p.b,p.c),o.push(p.materialIndex),m){var x=this.faceVertexUvs[0][f];o.push(P(x[0]),P(x[1]),P(x[2]))}if(v&&o.push(E(p.normal)),g){var w=p.vertexNormals;o.push(E(w[0]),E(w[1]),E(w[2]))}if(y&&o.push(M(p.color)),b){var T=p.vertexColors;o.push(M(T[0]),M(T[1]),M(T[2]))}}function S(e,t,r){return r?e|1<<t:e&~(1<<t)}function E(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=s.length/3,s.push(e.x,e.y,e.z)),u[t]}function M(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]||(c[t]=l.length,l.push(e.getHex())),c[t]}function P(e){var t=e.x.toString()+e.y.toString();return void 0!==d[t]||(d[t]=h.length/2,h.push(e.x,e.y)),d[t]}return e.data={},e.data.vertices=n,e.data.normals=s,l.length>0&&(e.data.colors=l),h.length>0&&(e.data.uvs=[h]),e.data.faces=o,e},clone:function(){return(new ol).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var t=e.vertices,r=0,n=t.length;r<n;r++)this.vertices.push(t[r].clone());for(var i=e.colors,a=0,o=i.length;a<o;a++)this.colors.push(i[a].clone());for(var s=e.faces,u=0,l=s.length;u<l;u++)this.faces.push(s[u].clone());for(var c=0,h=e.faceVertexUvs.length;c<h;c++){var d=e.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var f=0,p=d.length;f<p;f++){for(var m=d[f],v=[],g=0,y=m.length;g<y;g++){var b=m[g];v.push(b.clone())}this.faceVertexUvs[c].push(v)}}for(var _=e.morphTargets,x=0,w=_.length;x<w;x++){var T={};if(T.name=_[x].name,void 0!==_[x].vertices){T.vertices=[];for(var S=0,E=_[x].vertices.length;S<E;S++)T.vertices.push(_[x].vertices[S].clone())}if(void 0!==_[x].normals){T.normals=[];for(var M=0,P=_[x].normals.length;M<P;M++)T.normals.push(_[x].normals[M].clone())}this.morphTargets.push(T)}for(var A=e.morphNormals,C=0,O=A.length;C<O;C++){var k={};if(void 0!==A[C].vertexNormals){k.vertexNormals=[];for(var R=0,L=A[C].vertexNormals.length;R<L;R++){var I=A[C].vertexNormals[R],D={};D.a=I.a.clone(),D.b=I.b.clone(),D.c=I.c.clone(),k.vertexNormals.push(D)}}if(void 0!==A[C].faceNormals){k.faceNormals=[];for(var N=0,F=A[C].faceNormals.length;N<F;N++)k.faceNormals.push(A[C].faceNormals[N].clone())}this.morphNormals.push(k)}for(var z=e.skinWeights,B=0,U=z.length;B<U;B++)this.skinWeights.push(z[B].clone());for(var j=e.skinIndices,H=0,G=j.length;H<G;H++)this.skinIndices.push(j[H].clone());for(var V=e.lineDistances,W=0,X=V.length;W<X;W++)this.lineDistances.push(V[W]);var Y=e.boundingBox;null!==Y&&(this.boundingBox=Y.clone());var q=e.boundingSphere;return null!==q&&(this.boundingSphere=q.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var sl=function(e){c(r,e);var t=d(r);function r(e,n,i,a,o,s){var u;return Object(p.a)(this,r),(u=t.call(this)).type="BoxGeometry",u.parameters={width:e,height:n,depth:i,widthSegments:a,heightSegments:o,depthSegments:s},u.fromBufferGeometry(new Ca(e,n,i,a,o,s)),u.mergeVertices(),u}return r}(ol),ul=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;Object(p.a)(this,r),(e=t.call(this)).type="CircleBufferGeometry",e.parameters={radius:n,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],u=[],l=[],c=[],h=new dn,d=new tn;u.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var f=0,m=3;f<=i;f++,m+=3){var v=a+f/i*o;h.x=n*Math.cos(v),h.y=n*Math.sin(v),u.push(h.x,h.y,h.z),l.push(0,0,1),d.x=(u[m]/n+1)/2,d.y=(u[m+1]/n+1)/2,c.push(d.x,d.y)}for(var g=1;g<=i;g++)s.push(g,g+1,0);return e.setIndex(s),e.setAttribute("position",new Zi(u,3)),e.setAttribute("normal",new Zi(l,3)),e.setAttribute("uv",new Zi(c,2)),e}return r}(ua),ll=function(e){c(r,e);var t=d(r);function r(e,n,i,a){var o;return Object(p.a)(this,r),(o=t.call(this)).type="CircleGeometry",o.parameters={radius:e,segments:n,thetaStart:i,thetaLength:a},o.fromBufferGeometry(new ul(e,n,i,a)),o.mergeVertices(),o}return r}(ol),cl=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;Object(p.a)(this,r),(e=t.call(this)).type="CylinderBufferGeometry",e.parameters={radiusTop:n,radiusBottom:a,height:o,radialSegments:s,heightSegments:u,openEnded:l,thetaStart:c,thetaLength:h};var d=i(e);s=Math.floor(s),u=Math.floor(u);var f=[],m=[],v=[],g=[],y=0,b=[],_=o/2,x=0;function w(){for(var e=new dn,t=new dn,r=0,i=(a-n)/o,l=0;l<=u;l++){for(var p=[],w=l/u,T=w*(a-n)+n,S=0;S<=s;S++){var E=S/s,M=E*h+c,P=Math.sin(M),A=Math.cos(M);t.x=T*P,t.y=-w*o+_,t.z=T*A,m.push(t.x,t.y,t.z),e.set(P,i,A).normalize(),v.push(e.x,e.y,e.z),g.push(E,1-w),p.push(y++)}b.push(p)}for(var C=0;C<s;C++)for(var O=0;O<u;O++){var k=b[O][C],R=b[O+1][C],L=b[O+1][C+1],I=b[O][C+1];f.push(k,R,I),f.push(R,L,I),r+=6}d.addGroup(x,r,0),x+=r}function T(e){for(var t=y,r=new tn,i=new dn,o=0,u=!0===e?n:a,l=!0===e?1:-1,p=1;p<=s;p++)m.push(0,_*l,0),v.push(0,l,0),g.push(.5,.5),y++;for(var b=y,w=0;w<=s;w++){var T=w/s*h+c,S=Math.cos(T),E=Math.sin(T);i.x=u*E,i.y=_*l,i.z=u*S,m.push(i.x,i.y,i.z),v.push(0,l,0),r.x=.5*S+.5,r.y=.5*E*l+.5,g.push(r.x,r.y),y++}for(var M=0;M<s;M++){var P=t+M,A=b+M;!0===e?f.push(A,A+1,P):f.push(A+1,A,P),o+=3}d.addGroup(x,o,!0===e?1:2),x+=o}return w(),!1===l&&(n>0&&T(!0),a>0&&T(!1)),e.setIndex(f),e.setAttribute("position",new Zi(m,3)),e.setAttribute("normal",new Zi(v,3)),e.setAttribute("uv",new Zi(g,2)),e}return r}(ua),hl=function(e){c(r,e);var t=d(r);function r(e,n,i,a,o,s,u,l){var c;return Object(p.a)(this,r),(c=t.call(this)).type="CylinderGeometry",c.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},c.fromBufferGeometry(new cl(e,n,i,a,o,s,u,l)),c.mergeVertices(),c}return r}(ol),dl=function(e){c(r,e);var t=d(r);function r(e,n,i,a,o,s,u){var l;return Object(p.a)(this,r),(l=t.call(this,0,e,n,i,a,o,s,u)).type="ConeGeometry",l.parameters={radius:e,height:n,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:u},l}return r}(hl),fl=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return Object(p.a)(this,r),(e=t.call(this,0,n,i,a,o,s,u,l)).type="ConeBufferGeometry",e.parameters={radius:n,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},e}return r}(cl),pl=function(e){c(r,e);var t=d(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(p.a)(this,r),(i=t.call(this)).type="PolyhedronBufferGeometry",i.parameters={vertices:e,indices:n,radius:a,detail:o};var s=[],u=[];function l(e){for(var t=new dn,r=new dn,i=new dn,a=0;a<n.length;a+=3)v(n[a+0],t),v(n[a+1],r),v(n[a+2],i),c(t,r,i,e)}function c(e,t,r,n){for(var i=n+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(r,o/i),u=t.clone().lerp(r,o/i),l=i-o,c=0;c<=l;c++)a[o][c]=0===c&&o===i?s:s.clone().lerp(u,c/l)}for(var h=0;h<i;h++)for(var d=0;d<2*(i-h)-1;d++){var f=Math.floor(d/2);d%2===0?(m(a[h][f+1]),m(a[h+1][f]),m(a[h][f])):(m(a[h][f+1]),m(a[h+1][f+1]),m(a[h+1][f]))}}function h(e){for(var t=new dn,r=0;r<s.length;r+=3)t.x=s[r+0],t.y=s[r+1],t.z=s[r+2],t.normalize().multiplyScalar(e),s[r+0]=t.x,s[r+1]=t.y,s[r+2]=t.z}function d(){for(var e=new dn,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var r=b(e)/2/Math.PI+.5,n=_(e)/Math.PI+.5;u.push(r,1-n)}g(),f()}function f(){for(var e=0;e<u.length;e+=6){var t=u[e+0],r=u[e+2],n=u[e+4],i=Math.max(t,r,n),a=Math.min(t,r,n);i>.9&&a<.1&&(t<.2&&(u[e+0]+=1),r<.2&&(u[e+2]+=1),n<.2&&(u[e+4]+=1))}}function m(e){s.push(e.x,e.y,e.z)}function v(t,r){var n=3*t;r.x=e[n+0],r.y=e[n+1],r.z=e[n+2]}function g(){for(var e=new dn,t=new dn,r=new dn,n=new dn,i=new tn,a=new tn,o=new tn,l=0,c=0;l<s.length;l+=9,c+=6){e.set(s[l+0],s[l+1],s[l+2]),t.set(s[l+3],s[l+4],s[l+5]),r.set(s[l+6],s[l+7],s[l+8]),i.set(u[c+0],u[c+1]),a.set(u[c+2],u[c+3]),o.set(u[c+4],u[c+5]),n.copy(e).add(t).add(r).divideScalar(3);var h=b(n);y(i,c+0,e,h),y(a,c+2,t,h),y(o,c+4,r,h)}}function y(e,t,r,n){n<0&&1===e.x&&(u[t]=e.x-1),0===r.x&&0===r.z&&(u[t]=n/2/Math.PI+.5)}function b(e){return Math.atan2(e.z,-e.x)}function _(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return l(o),h(a),d(),i.setAttribute("position",new Zi(s,3)),i.setAttribute("normal",new Zi(s.slice(),3)),i.setAttribute("uv",new Zi(u,2)),0===o?i.computeVertexNormals():i.normalizeNormals(),i}return r}(ua),ml=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(p.a)(this,r);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o],u=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,u,n,i)).type="DodecahedronBufferGeometry",e.parameters={radius:n,detail:i},e}return r}(pl),vl=function(e){c(r,e);var t=d(r);function r(e,n){var i;return Object(p.a)(this,r),(i=t.call(this)).type="DodecahedronGeometry",i.parameters={radius:e,detail:n},i.fromBufferGeometry(new ml(e,n)),i.mergeVertices(),i}return r}(ol),gl=new dn,yl=new dn,bl=new dn,_l=new Mi,xl=function(e){c(r,e);var t=d(r);function r(e,n){var i;Object(p.a)(this,r),(i=t.call(this)).type="EdgesGeometry",i.parameters={thresholdAngle:n},n=void 0!==n?n:1,e.isGeometry&&(e=(new ua).fromGeometry(e));for(var a=Math.pow(10,4),o=Math.cos(en.DEG2RAD*n),s=e.getIndex(),u=e.getAttribute("position"),l=s?s.count:u.count,c=[0,0,0],h=["a","b","c"],d=new Array(3),f={},m=[],v=0;v<l;v+=3){s?(c[0]=s.getX(v),c[1]=s.getX(v+1),c[2]=s.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);var g=_l.a,y=_l.b,b=_l.c;if(g.fromBufferAttribute(u,c[0]),y.fromBufferAttribute(u,c[1]),b.fromBufferAttribute(u,c[2]),_l.getNormal(bl),d[0]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),d[1]="".concat(Math.round(y.x*a),",").concat(Math.round(y.y*a),",").concat(Math.round(y.z*a)),d[2]="".concat(Math.round(b.x*a),",").concat(Math.round(b.y*a),",").concat(Math.round(b.z*a)),d[0]!==d[1]&&d[1]!==d[2]&&d[2]!==d[0])for(var _=0;_<3;_++){var x=(_+1)%3,w=d[_],T=d[x],S=_l[h[_]],E=_l[h[x]],M="".concat(w,"_").concat(T),P="".concat(T,"_").concat(w);P in f&&f[P]?(bl.dot(f[P].normal)<=o&&(m.push(S.x,S.y,S.z),m.push(E.x,E.y,E.z)),f[P]=null):M in f||(f[M]={index0:c[_],index1:c[x],normal:bl.clone()})}}for(var A in f)if(f[A]){var C=f[A],O=C.index0,k=C.index1;gl.fromBufferAttribute(u,O),yl.fromBufferAttribute(u,k),m.push(gl.x,gl.y,gl.z),m.push(yl.x,yl.y,yl.z)}return i.setAttribute("position",new Zi(m,3)),i}return r}(ua),wl=function(e,t,r){r=r||2;var n,i,a,o,s,u,l,c=t&&t.length,h=c?t[0]*r:e.length,d=Tl(e,0,h,r,!0),f=[];if(!d||d.next===d.prev)return f;if(c&&(d=function(e,t,r,n){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=Tl(e,t[i]*n,i<a-1?t[i+1]*n:e.length,n,!1))===o.next&&(o.steiner=!0),s.push(Il(o));for(s.sort(Ol),i=0;i<s.length;i++)kl(s[i],r),r=Sl(r,r.next);return r}(e,t,d,r)),e.length>80*r){n=a=e[0],i=o=e[1];for(var p=r;p<h;p+=r)(s=e[p])<n&&(n=s),(u=e[p+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-n,o-i))?1/l:0}return El(d,f,r,n,i,l),f};function Tl(e,t,r,n,i){var a,o;if(i===function(e,t,r,n){for(var i=0,a=t,o=r-n;a<r;a+=n)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,r,n)>0)for(a=t;a<r;a+=n)o=Vl(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=Vl(a,e[a],e[a+1],o);return o&&zl(o,o.next)&&(Wl(o),o=o.next),o}function Sl(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!zl(n,n.next)&&0!==Fl(n.prev,n,n.next))n=n.next;else{if(Wl(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function El(e,t,r,n,i,a,o){if(e){!o&&a&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=Ll(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,a,o,s,u,l=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1)}(i)}(e,n,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?Pl(e,n,i,a):Ml(e))t.push(s.i/r),t.push(e.i/r),t.push(u.i/r),Wl(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?El(e=Al(Sl(e),t,r),t,r,n,i,a,2):2===o&&Cl(e,t,r,n,i,a):El(Sl(e),t,r,n,i,a,1);break}}}function Ml(e){var t=e.prev,r=e,n=e.next;if(Fl(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Dl(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Fl(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Pl(e,t,r,n){var i=e.prev,a=e,o=e.next;if(Fl(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,h=Ll(s,u,t,r,n),d=Ll(l,c,t,r,n),f=e.prevZ,p=e.nextZ;f&&f.z>=h&&p&&p.z<=d;){if(f!==e.prev&&f!==e.next&&Dl(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Fl(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&Dl(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Fl(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&Dl(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Fl(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&Dl(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Fl(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Al(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!zl(i,a)&&Bl(i,n,n.next,a)&&Hl(i,a)&&Hl(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),Wl(n),Wl(n.next),n=e=a),n=n.next}while(n!==e);return Sl(n)}function Cl(e,t,r,n,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Nl(o,s)){var u=Gl(o,s);return o=Sl(o,o.next),u=Sl(u,u.next),El(o,t,r,n,i,a),void El(u,t,r,n,i,a)}s=s.next}o=o.next}while(o!==e)}function Ol(e,t){return e.x-t.x}function kl(e,t){if(t=function(e,t){var r,n=t,i=e.x,a=e.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>o){if(o=s,s===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===o)return r;var u,l=r,c=r.x,h=r.y,d=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&Dl(a<h?i:o,a,c,h,a<h?o:i,a,n.x,n.y)&&(u=Math.abs(a-n.y)/(i-n.x),Hl(n,e)&&(u<d||u===d&&(n.x>r.x||n.x===r.x&&Rl(r,n)))&&(r=n,d=u)),n=n.next}while(n!==l);return r}(e,t)){var r=Gl(t,e);Sl(t,t.next),Sl(r,r.next)}}function Rl(e,t){return Fl(e.prev,e,t.prev)<0&&Fl(t.next,e,e.next)<0}function Ll(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Il(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function Dl(e,t,r,n,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0}function Nl(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Bl(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(Hl(e,t)&&Hl(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!==r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(Fl(e.prev,e,t.prev)||Fl(e,t.prev,t))||zl(e,t)&&Fl(e.prev,e,e.next)>0&&Fl(t.prev,t,t.next)>0)}function Fl(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function zl(e,t){return e.x===t.x&&e.y===t.y}function Bl(e,t,r,n){var i=jl(Fl(e,t,r)),a=jl(Fl(e,t,n)),o=jl(Fl(r,n,e)),s=jl(Fl(r,n,t));return i!==a&&o!==s||(!(0!==i||!Ul(e,r,t))||(!(0!==a||!Ul(e,n,t))||(!(0!==o||!Ul(r,e,n))||!(0!==s||!Ul(r,t,n)))))}function Ul(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function jl(e){return e>0?1:e<0?-1:0}function Hl(e,t){return Fl(e.prev,e,e.next)<0?Fl(e,t,e.next)>=0&&Fl(e,e.prev,t)>=0:Fl(e,t,e.prev)<0||Fl(e,e.next,t)<0}function Gl(e,t){var r=new Xl(e.i,e.x,e.y),n=new Xl(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function Vl(e,t,r,n){var i=new Xl(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Wl(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Xl(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Yl={area:function(e){for(var t=e.length,r=0,n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r},isClockWise:function(e){return Yl.area(e)<0},triangulateShape:function(e,t){var r=[],n=[],i=[];ql(e),Zl(r,e);var a=e.length;t.forEach(ql);for(var o=0;o<t.length;o++)n.push(a),a+=t[o].length,Zl(r,t[o]);for(var s=wl(r,n),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}};function ql(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Zl(e,t){for(var r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}var Jl=function(e){c(r,e);var t=d(r);function r(e,n){var a;Object(p.a)(this,r),(a=t.call(this)).type="ExtrudeBufferGeometry",a.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];for(var o=i(a),s=[],u=[],l=0,c=e.length;l<c;l++){h(e[l])}function h(e){var t=[],r=void 0!==n.curveSegments?n.curveSegments:12,i=void 0!==n.steps?n.steps:1,a=void 0!==n.depth?n.depth:100,l=void 0===n.bevelEnabled||n.bevelEnabled,c=void 0!==n.bevelThickness?n.bevelThickness:6,h=void 0!==n.bevelSize?n.bevelSize:c-2,d=void 0!==n.bevelOffset?n.bevelOffset:0,f=void 0!==n.bevelSegments?n.bevelSegments:3,p=n.extrudePath,m=void 0!==n.UVGenerator?n.UVGenerator:Ql;void 0!==n.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),a=n.amount);var v,g,y,b,_,x=!1;p&&(v=p.getSpacedPoints(i),x=!0,l=!1,g=p.computeFrenetFrames(i,!1),y=new dn,b=new dn,_=new dn),l||(f=0,c=0,h=0,d=0);var w=e.extractPoints(r),T=w.shape,S=w.holes;if(!Yl.isClockWise(T)){T=T.reverse();for(var E=0,M=S.length;E<M;E++){var P=S[E];Yl.isClockWise(P)&&(S[E]=P.reverse())}}for(var A=Yl.triangulateShape(T,S),C=T,O=0,k=S.length;O<k;O++){var R=S[O];T=T.concat(R)}function L(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}var I=T.length,D=A.length;function N(e,t,r){var n,i,a,o=e.x-t.x,s=e.y-t.y,u=r.x-e.x,l=r.y-e.y,c=o*o+s*s,h=o*l-s*u;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(c),f=Math.sqrt(u*u+l*l),p=t.x-s/d,m=t.y+o/d,v=((r.x-l/f-p)*l-(r.y+u/f-m)*u)/(o*l-s*u),g=(n=p+o*v-e.x)*n+(i=m+s*v-e.y)*i;if(g<=2)return new tn(n,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(n=-s,i=o,a=Math.sqrt(c)):(n=o,i=s,a=Math.sqrt(c/2))}return new tn(n/a,i/a)}for(var F=[],z=0,B=C.length,U=B-1,j=z+1;z<B;z++,U++,j++)U===B&&(U=0),j===B&&(j=0),F[z]=N(C[z],C[U],C[j]);for(var H,G=[],V=F.concat(),W=0,X=S.length;W<X;W++){var Y=S[W];H=[];for(var q=0,Z=Y.length,J=Z-1,Q=q+1;q<Z;q++,J++,Q++)J===Z&&(J=0),Q===Z&&(Q=0),H[q]=N(Y[q],Y[J],Y[Q]);G.push(H),V=V.concat(H)}for(var K=0;K<f;K++){for(var $=K/f,ee=c*Math.cos($*Math.PI/2),te=h*Math.sin($*Math.PI/2)+d,re=0,ne=C.length;re<ne;re++){var ie=L(C[re],F[re],te);ke(ie.x,ie.y,-ee)}for(var ae=0,oe=S.length;ae<oe;ae++){var se=S[ae];H=G[ae];for(var ue=0,le=se.length;ue<le;ue++){var ce=L(se[ue],H[ue],te);ke(ce.x,ce.y,-ee)}}}for(var he=h+d,de=0;de<I;de++){var fe=l?L(T[de],V[de],he):T[de];x?(b.copy(g.normals[0]).multiplyScalar(fe.x),y.copy(g.binormals[0]).multiplyScalar(fe.y),_.copy(v[0]).add(b).add(y),ke(_.x,_.y,_.z)):ke(fe.x,fe.y,0)}for(var pe=1;pe<=i;pe++)for(var me=0;me<I;me++){var ve=l?L(T[me],V[me],he):T[me];x?(b.copy(g.normals[pe]).multiplyScalar(ve.x),y.copy(g.binormals[pe]).multiplyScalar(ve.y),_.copy(v[pe]).add(b).add(y),ke(_.x,_.y,_.z)):ke(ve.x,ve.y,a/i*pe)}for(var ge=f-1;ge>=0;ge--){for(var ye=ge/f,be=c*Math.cos(ye*Math.PI/2),_e=h*Math.sin(ye*Math.PI/2)+d,xe=0,we=C.length;xe<we;xe++){var Te=L(C[xe],F[xe],_e);ke(Te.x,Te.y,a+be)}for(var Se=0,Ee=S.length;Se<Ee;Se++){var Me=S[Se];H=G[Se];for(var Pe=0,Ae=Me.length;Pe<Ae;Pe++){var Ce=L(Me[Pe],H[Pe],_e);x?ke(Ce.x,Ce.y+v[i-1].y,v[i-1].x+be):ke(Ce.x,Ce.y,a+be)}}}function Oe(e,t){for(var r=e.length;--r>=0;){var n=r,a=r-1;a<0&&(a=e.length-1);for(var o=0,s=i+2*f;o<s;o++){var u=I*o,l=I*(o+1);Le(t+n+u,t+a+u,t+a+l,t+n+l)}}}function ke(e,r,n){t.push(e),t.push(r),t.push(n)}function Re(e,t,r){Ie(e),Ie(t),Ie(r);var n=s.length/3,i=m.generateTopUV(o,s,n-3,n-2,n-1);De(i[0]),De(i[1]),De(i[2])}function Le(e,t,r,n){Ie(e),Ie(t),Ie(n),Ie(t),Ie(r),Ie(n);var i=s.length/3,a=m.generateSideWallUV(o,s,i-6,i-3,i-2,i-1);De(a[0]),De(a[1]),De(a[3]),De(a[1]),De(a[2]),De(a[3])}function Ie(e){s.push(t[3*e+0]),s.push(t[3*e+1]),s.push(t[3*e+2])}function De(e){u.push(e.x),u.push(e.y)}!function(){var e=s.length/3;if(l){for(var t=0,r=I*t,n=0;n<D;n++){var a=A[n];Re(a[2]+r,a[1]+r,a[0]+r)}r=I*(t=i+2*f);for(var u=0;u<D;u++){var c=A[u];Re(c[0]+r,c[1]+r,c[2]+r)}}else{for(var h=0;h<D;h++){var d=A[h];Re(d[2],d[1],d[0])}for(var p=0;p<D;p++){var m=A[p];Re(m[0]+I*i,m[1]+I*i,m[2]+I*i)}}o.addGroup(e,s.length/3-e,0)}(),function(){var e=s.length/3,t=0;Oe(C,t),t+=C.length;for(var r=0,n=S.length;r<n;r++){var i=S[r];Oe(i,t),t+=i.length}o.addGroup(e,s.length/3-e,1)}()}return a.setAttribute("position",new Zi(s,3)),a.setAttribute("uv",new Zi(u,2)),a.computeVertexNormals(),a}return v(r,[{key:"toJSON",value:function(){var e=ua.prototype.toJSON.call(this);return function(e,t,r){if(r.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var a=e[n];r.shapes.push(a.uuid)}else r.shapes.push(e.uuid);void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON());return r}(this.parameters.shapes,this.parameters.options,e)}}]),r}(ua),Ql={generateTopUV:function(e,t,r,n,i){var a=t[3*r],o=t[3*r+1],s=t[3*n],u=t[3*n+1],l=t[3*i],c=t[3*i+1];return[new tn(a,o),new tn(s,u),new tn(l,c)]},generateSideWallUV:function(e,t,r,n,i,a){var o=t[3*r],s=t[3*r+1],u=t[3*r+2],l=t[3*n],c=t[3*n+1],h=t[3*n+2],d=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<.01?[new tn(o,1-u),new tn(l,1-h),new tn(d,1-p),new tn(m,1-g)]:[new tn(s,1-u),new tn(c,1-h),new tn(f,1-p),new tn(v,1-g)]}};var Kl=function(e){c(r,e);var t=d(r);function r(e,n){var i;return Object(p.a)(this,r),(i=t.call(this)).type="ExtrudeGeometry",i.parameters={shapes:e,options:n},i.fromBufferGeometry(new Jl(e,n)),i.mergeVertices(),i}return v(r,[{key:"toJSON",value:function(){var e=s(o(r.prototype),"toJSON",this).call(this);return function(e,t,r){if(r.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var a=e[n];r.shapes.push(a.uuid)}else r.shapes.push(e.uuid);void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON());return r}(this.parameters.shapes,this.parameters.options,e)}}]),r}(ol);var $l=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(p.a)(this,r);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,o,s,n,i)).type="IcosahedronBufferGeometry",e.parameters={radius:n,detail:i},e}return r}(pl),ec=function(e){c(r,e);var t=d(r);function r(e,n){var i;return Object(p.a)(this,r),(i=t.call(this)).type="IcosahedronGeometry",i.parameters={radius:e,detail:n},i.fromBufferGeometry(new $l(e,n)),i.mergeVertices(),i}return r}(ol),tc=function(e){c(r,e);var t=d(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;Object(p.a)(this,r),(n=t.call(this)).type="LatheBufferGeometry",n.parameters={points:e,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=en.clamp(o,0,2*Math.PI);for(var s=[],u=[],l=[],c=1/i,h=new dn,d=new tn,f=0;f<=i;f++)for(var m=a+f*c*o,v=Math.sin(m),g=Math.cos(m),y=0;y<=e.length-1;y++)h.x=e[y].x*v,h.y=e[y].y,h.z=e[y].x*g,u.push(h.x,h.y,h.z),d.x=f/i,d.y=y/(e.length-1),l.push(d.x,d.y);for(var b=0;b<i;b++)for(var _=0;_<e.length-1;_++){var x=_+b*e.length,w=x,T=x+e.length,S=x+e.length+1,E=x+1;s.push(w,T,E),s.push(T,S,E)}if(n.setIndex(s),n.setAttribute("position",new Zi(u,3)),n.setAttribute("uv",new Zi(l,2)),n.computeVertexNormals(),o===2*Math.PI)for(var M=n.attributes.normal.array,P=new dn,A=new dn,C=new dn,O=i*e.length*3,k=0,R=0;k<e.length;k++,R+=3)P.x=M[R+0],P.y=M[R+1],P.z=M[R+2],A.x=M[O+R+0],A.y=M[O+R+1],A.z=M[O+R+2],C.addVectors(P,A).normalize(),M[R+0]=M[O+R+0]=C.x,M[R+1]=M[O+R+1]=C.y,M[R+2]=M[O+R+2]=C.z;return n}return r}(ua),rc=function(e){c(r,e);var t=d(r);function r(e,n,i,a){var o;return Object(p.a)(this,r),(o=t.call(this)).type="LatheGeometry",o.parameters={points:e,segments:n,phiStart:i,phiLength:a},o.fromBufferGeometry(new tc(e,n,i,a)),o.mergeVertices(),o}return r}(ol),nc=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(p.a)(this,r);var a=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,a,o,n,i)).type="OctahedronBufferGeometry",e.parameters={radius:n,detail:i},e}return r}(pl),ic=function(e){c(r,e);var t=d(r);function r(e,n){var i;return Object(p.a)(this,r),(i=t.call(this)).type="OctahedronGeometry",i.parameters={radius:e,detail:n},i.fromBufferGeometry(new nc(e,n)),i.mergeVertices(),i}return r}(ol);function ac(e,t,r){ua.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:r};var n=[],i=[],a=[],o=[],s=1e-5,u=new dn,l=new dn,c=new dn,h=new dn,d=new dn;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var f=t+1,p=0;p<=r;p++)for(var m=p/r,v=0;v<=t;v++){var g=v/t;e(g,m,l),i.push(l.x,l.y,l.z),g-s>=0?(e(g-s,m,c),h.subVectors(l,c)):(e(g+s,m,c),h.subVectors(c,l)),m-s>=0?(e(g,m-s,c),d.subVectors(l,c)):(e(g,m+s,c),d.subVectors(c,l)),u.crossVectors(h,d).normalize(),a.push(u.x,u.y,u.z),o.push(g,m)}for(var y=0;y<r;y++)for(var b=0;b<t;b++){var _=y*f+b,x=y*f+b+1,w=(y+1)*f+b+1,T=(y+1)*f+b;n.push(_,x,T),n.push(x,w,T)}this.setIndex(n),this.setAttribute("position",new Zi(i,3)),this.setAttribute("normal",new Zi(a,3)),this.setAttribute("uv",new Zi(o,2))}function oc(e,t,r){ol.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:r},this.fromBufferGeometry(new ac(e,t,r)),this.mergeVertices()}ac.prototype=Object.create(ua.prototype),ac.prototype.constructor=ac,oc.prototype=Object.create(ol.prototype),oc.prototype.constructor=oc;var sc=function(e){c(r,e);var t=d(r);function r(e,n,i,a){var o;return Object(p.a)(this,r),(o=t.call(this)).type="PlaneGeometry",o.parameters={width:e,height:n,widthSegments:i,heightSegments:a},o.fromBufferGeometry(new Xa(e,n,i,a)),o.mergeVertices(),o}return r}(ol),uc=function(e){c(r,e);var t=d(r);function r(e,n,i,a){var o;return Object(p.a)(this,r),(o=t.call(this)).type="PolyhedronGeometry",o.parameters={vertices:e,indices:n,radius:i,detail:a},o.fromBufferGeometry(new pl(e,n,i,a)),o.mergeVertices(),o}return r}(ol),lc=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;Object(p.a)(this,r),(e=t.call(this)).type="RingBufferGeometry",e.parameters={innerRadius:n,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:u},a=Math.max(3,a);for(var l=[],c=[],h=[],d=[],f=n,m=(i-n)/(o=Math.max(1,o)),v=new dn,g=new tn,y=0;y<=o;y++){for(var b=0;b<=a;b++){var _=s+b/a*u;v.x=f*Math.cos(_),v.y=f*Math.sin(_),c.push(v.x,v.y,v.z),h.push(0,0,1),g.x=(v.x/i+1)/2,g.y=(v.y/i+1)/2,d.push(g.x,g.y)}f+=m}for(var x=0;x<o;x++)for(var w=x*(a+1),T=0;T<a;T++){var S=T+w,E=S,M=S+a+1,P=S+a+2,A=S+1;l.push(E,M,A),l.push(M,P,A)}return e.setIndex(l),e.setAttribute("position",new Zi(c,3)),e.setAttribute("normal",new Zi(h,3)),e.setAttribute("uv",new Zi(d,2)),e}return r}(ua),cc=function(e){c(r,e);var t=d(r);function r(e,n,i,a,o,s){var u;return Object(p.a)(this,r),(u=t.call(this)).type="RingGeometry",u.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:a,thetaStart:o,thetaLength:s},u.fromBufferGeometry(new lc(e,n,i,a,o,s)),u.mergeVertices(),u}return r}(ol),hc=function(e){c(r,e);var t=d(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;Object(p.a)(this,r),(n=t.call(this)).type="ShapeBufferGeometry",n.parameters={shapes:e,curveSegments:i};var a=[],o=[],s=[],u=[],l=0,c=0;if(!1===Array.isArray(e))d(e);else for(var h=0;h<e.length;h++)d(e[h]),n.addGroup(l,c,h),l+=c,c=0;function d(e){var t=o.length/3,r=e.extractPoints(i),n=r.shape,l=r.holes;!1===Yl.isClockWise(n)&&(n=n.reverse());for(var h=0,d=l.length;h<d;h++){var f=l[h];!0===Yl.isClockWise(f)&&(l[h]=f.reverse())}for(var p=Yl.triangulateShape(n,l),m=0,v=l.length;m<v;m++){var g=l[m];n=n.concat(g)}for(var y=0,b=n.length;y<b;y++){var _=n[y];o.push(_.x,_.y,0),s.push(0,0,1),u.push(_.x,_.y)}for(var x=0,w=p.length;x<w;x++){var T=p[x],S=T[0]+t,E=T[1]+t,M=T[2]+t;a.push(S,E,M),c+=3}}return n.setIndex(a),n.setAttribute("position",new Zi(o,3)),n.setAttribute("normal",new Zi(s,3)),n.setAttribute("uv",new Zi(u,2)),n}return v(r,[{key:"toJSON",value:function(){var e=ua.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var r=0,n=e.length;r<n;r++){var i=e[r];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}]),r}(ua);var dc=function(e){c(r,e);var t=d(r);function r(e,n){var i;return Object(p.a)(this,r),(i=t.call(this)).type="ShapeGeometry","object"===typeof n&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),n=n.curveSegments),i.parameters={shapes:e,curveSegments:n},i.fromBufferGeometry(new hc(e,n)),i.mergeVertices(),i}return v(r,[{key:"toJSON",value:function(){var e=ol.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var r=0,n=e.length;r<n;r++){var i=e[r];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}]),r}(ol);var fc=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;Object(p.a)(this,r),(e=t.call(this)).type="SphereBufferGeometry",e.parameters={radius:n,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:u,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(u+l,Math.PI),h=0,d=[],f=new dn,m=new dn,v=[],g=[],y=[],b=[],_=0;_<=a;_++){var x=[],w=_/a,T=0;0==_&&0==u?T=.5/i:_==a&&c==Math.PI&&(T=-.5/i);for(var S=0;S<=i;S++){var E=S/i;f.x=-n*Math.cos(o+E*s)*Math.sin(u+w*l),f.y=n*Math.cos(u+w*l),f.z=n*Math.sin(o+E*s)*Math.sin(u+w*l),g.push(f.x,f.y,f.z),m.copy(f).normalize(),y.push(m.x,m.y,m.z),b.push(E+T,1-w),x.push(h++)}d.push(x)}for(var M=0;M<a;M++)for(var P=0;P<i;P++){var A=d[M][P+1],C=d[M][P],O=d[M+1][P],k=d[M+1][P+1];(0!==M||u>0)&&v.push(A,C,k),(M!==a-1||c<Math.PI)&&v.push(C,O,k)}return e.setIndex(v),e.setAttribute("position",new Zi(g,3)),e.setAttribute("normal",new Zi(y,3)),e.setAttribute("uv",new Zi(b,2)),e}return r}(ua),pc=function(e){c(r,e);var t=d(r);function r(e,n,i,a,o,s,u){var l;return Object(p.a)(this,r),(l=t.call(this)).type="SphereGeometry",l.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:a,phiLength:o,thetaStart:s,thetaLength:u},l.fromBufferGeometry(new fc(e,n,i,a,o,s,u)),l.mergeVertices(),l}return r}(ol),mc=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(p.a)(this,r);var a=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,a,o,n,i)).type="TetrahedronBufferGeometry",e.parameters={radius:n,detail:i},e}return r}(pl),vc=function(e){c(r,e);var t=d(r);function r(e,n){var i;return Object(p.a)(this,r),(i=t.call(this)).type="TetrahedronGeometry",i.parameters={radius:e,detail:n},i.fromBufferGeometry(new mc(e,n)),i.mergeVertices(),i}return r}(ol),gc=function(e){c(r,e);var t=d(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(p.a)(this,r);var o=i.font;if(!o||!o.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),a(n,new ua);var s=o.generateShapes(e,i.size);return i.depth=void 0!==i.height?i.height:50,void 0===i.bevelThickness&&(i.bevelThickness=10),void 0===i.bevelSize&&(i.bevelSize=8),void 0===i.bevelEnabled&&(i.bevelEnabled=!1),(n=t.call(this,s,i)).type="TextBufferGeometry",n}return r}(Jl),yc=function(e){c(r,e);var t=d(r);function r(e,n){var i;return Object(p.a)(this,r),(i=t.call(this)).type="TextGeometry",i.parameters={text:e,parameters:n},i.fromBufferGeometry(new gc(e,n)),i.mergeVertices(),i}return r}(ol),bc=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;Object(p.a)(this,r),(e=t.call(this)).type="TorusBufferGeometry",e.parameters={radius:n,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var u=[],l=[],c=[],h=[],d=new dn,f=new dn,m=new dn,v=0;v<=a;v++)for(var g=0;g<=o;g++){var y=g/o*s,b=v/a*Math.PI*2;f.x=(n+i*Math.cos(b))*Math.cos(y),f.y=(n+i*Math.cos(b))*Math.sin(y),f.z=i*Math.sin(b),l.push(f.x,f.y,f.z),d.x=n*Math.cos(y),d.y=n*Math.sin(y),m.subVectors(f,d).normalize(),c.push(m.x,m.y,m.z),h.push(g/o),h.push(v/a)}for(var _=1;_<=a;_++)for(var x=1;x<=o;x++){var w=(o+1)*_+x-1,T=(o+1)*(_-1)+x-1,S=(o+1)*(_-1)+x,E=(o+1)*_+x;u.push(w,T,E),u.push(T,S,E)}return e.setIndex(u),e.setAttribute("position",new Zi(l,3)),e.setAttribute("normal",new Zi(c,3)),e.setAttribute("uv",new Zi(h,2)),e}return r}(ua),_c=function(e){c(r,e);var t=d(r);function r(e,n,i,a,o){var s;return Object(p.a)(this,r),(s=t.call(this)).type="TorusGeometry",s.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:a,arc:o},s.fromBufferGeometry(new bc(e,n,i,a,o)),s.mergeVertices(),s}return r}(ol),xc=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;Object(p.a)(this,r),(e=t.call(this)).type="TorusKnotBufferGeometry",e.parameters={radius:n,tube:i,tubularSegments:a,radialSegments:o,p:s,q:u},a=Math.floor(a),o=Math.floor(o);for(var l=[],c=[],h=[],d=[],f=new dn,m=new dn,v=new dn,g=new dn,y=new dn,b=new dn,_=new dn,x=0;x<=a;++x){var w=x/a*s*Math.PI*2;L(w,s,u,n,v),L(w+.01,s,u,n,g),b.subVectors(g,v),_.addVectors(g,v),y.crossVectors(b,_),_.crossVectors(y,b),y.normalize(),_.normalize();for(var T=0;T<=o;++T){var S=T/o*Math.PI*2,E=-i*Math.cos(S),M=i*Math.sin(S);f.x=v.x+(E*_.x+M*y.x),f.y=v.y+(E*_.y+M*y.y),f.z=v.z+(E*_.z+M*y.z),c.push(f.x,f.y,f.z),m.subVectors(f,v).normalize(),h.push(m.x,m.y,m.z),d.push(x/a),d.push(T/o)}}for(var P=1;P<=a;P++)for(var A=1;A<=o;A++){var C=(o+1)*(P-1)+(A-1),O=(o+1)*P+(A-1),k=(o+1)*P+A,R=(o+1)*(P-1)+A;l.push(C,O,R),l.push(O,k,R)}function L(e,t,r,n,i){var a=Math.cos(e),o=Math.sin(e),s=r/t*e,u=Math.cos(s);i.x=n*(2+u)*.5*a,i.y=n*(2+u)*o*.5,i.z=n*Math.sin(s)*.5}return e.setIndex(l),e.setAttribute("position",new Zi(c,3)),e.setAttribute("normal",new Zi(h,3)),e.setAttribute("uv",new Zi(d,2)),e}return r}(ua),wc=function(e){c(r,e);var t=d(r);function r(e,n,i,a,o,s,u){var l;return Object(p.a)(this,r),(l=t.call(this)).type="TorusKnotGeometry",l.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:a,p:o,q:s},void 0!==u&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),l.fromBufferGeometry(new xc(e,n,i,a,o,s)),l.mergeVertices(),l}return r}(ol),Tc=function(e){c(r,e);var t=d(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(p.a)(this,r),(n=t.call(this)).type="TubeBufferGeometry",n.parameters={path:e,tubularSegments:i,radius:a,radialSegments:o,closed:s};var u=e.computeFrenetFrames(i,s);n.tangents=u.tangents,n.normals=u.normals,n.binormals=u.binormals;var l=new dn,c=new dn,h=new tn,d=new dn,f=[],m=[],v=[],g=[];function y(){for(var e=0;e<i;e++)b(e);b(!1===s?i:0),x(),_()}function b(t){d=e.getPointAt(t/i,d);for(var r=u.normals[t],n=u.binormals[t],s=0;s<=o;s++){var h=s/o*Math.PI*2,p=Math.sin(h),v=-Math.cos(h);c.x=v*r.x+p*n.x,c.y=v*r.y+p*n.y,c.z=v*r.z+p*n.z,c.normalize(),m.push(c.x,c.y,c.z),l.x=d.x+a*c.x,l.y=d.y+a*c.y,l.z=d.z+a*c.z,f.push(l.x,l.y,l.z)}}function _(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var r=(o+1)*(e-1)+(t-1),n=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;g.push(r,n,s),g.push(n,a,s)}}function x(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)h.x=e/i,h.y=t/o,v.push(h.x,h.y)}return y(),n.setIndex(g),n.setAttribute("position",new Zi(f,3)),n.setAttribute("normal",new Zi(m,3)),n.setAttribute("uv",new Zi(v,2)),n}return v(r,[{key:"toJSON",value:function(){var e=ua.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}]),r}(ua),Sc=function(e){c(r,e);var t=d(r);function r(e,n,i,a,o,s){var u;Object(p.a)(this,r),(u=t.call(this)).type="TubeGeometry",u.parameters={path:e,tubularSegments:n,radius:i,radialSegments:a,closed:o},void 0!==s&&console.warn("THREE.TubeGeometry: taper has been removed.");var l=new Tc(e,n,i,a,o);return u.tangents=l.tangents,u.normals=l.normals,u.binormals=l.binormals,u.fromBufferGeometry(l),u.mergeVertices(),u}return r}(ol),Ec=function(e){c(r,e);var t=d(r);function r(e){var n;Object(p.a)(this,r),(n=t.call(this)).type="WireframeGeometry";var i=[],a=[0,0],o={},s=["a","b","c"];if(e&&e.isGeometry){for(var u=e.faces,l=0,c=u.length;l<c;l++)for(var h=u[l],d=0;d<3;d++){var f=h[s[d]],m=h[s[(d+1)%3]];a[0]=Math.min(f,m),a[1]=Math.max(f,m);var v=a[0]+","+a[1];void 0===o[v]&&(o[v]={index1:a[0],index2:a[1]})}for(var g in o){var y=o[g],b=e.vertices[y.index1];i.push(b.x,b.y,b.z),b=e.vertices[y.index2],i.push(b.x,b.y,b.z)}}else if(e&&e.isBufferGeometry){var _=new dn;if(null!==e.index){var x=e.attributes.position,w=e.index,T=e.groups;0===T.length&&(T=[{start:0,count:w.count,materialIndex:0}]);for(var S=0,E=T.length;S<E;++S)for(var M=T[S],P=M.start,A=P,C=P+M.count;A<C;A+=3)for(var O=0;O<3;O++){var k=w.getX(A+O),R=w.getX(A+(O+1)%3);a[0]=Math.min(k,R),a[1]=Math.max(k,R);var L=a[0]+","+a[1];void 0===o[L]&&(o[L]={index1:a[0],index2:a[1]})}for(var I in o){var D=o[I];_.fromBufferAttribute(x,D.index1),i.push(_.x,_.y,_.z),_.fromBufferAttribute(x,D.index2),i.push(_.x,_.y,_.z)}}else for(var N=e.attributes.position,F=0,z=N.count/3;F<z;F++)for(var B=0;B<3;B++){var U=3*F+B;_.fromBufferAttribute(N,U),i.push(_.x,_.y,_.z);var j=3*F+(B+1)%3;_.fromBufferAttribute(N,j),i.push(_.x,_.y,_.z)}}return n.setAttribute("position",new Zi(i,3)),n}return r}(ua),Mc=Object.freeze({__proto__:null,BoxGeometry:sl,BoxBufferGeometry:Ca,CircleGeometry:ll,CircleBufferGeometry:ul,ConeGeometry:dl,ConeBufferGeometry:fl,CylinderGeometry:hl,CylinderBufferGeometry:cl,DodecahedronGeometry:vl,DodecahedronBufferGeometry:ml,EdgesGeometry:xl,ExtrudeGeometry:Kl,ExtrudeBufferGeometry:Jl,IcosahedronGeometry:ec,IcosahedronBufferGeometry:$l,LatheGeometry:rc,LatheBufferGeometry:tc,OctahedronGeometry:ic,OctahedronBufferGeometry:nc,ParametricGeometry:oc,ParametricBufferGeometry:ac,PlaneGeometry:sc,PlaneBufferGeometry:Xa,PolyhedronGeometry:uc,PolyhedronBufferGeometry:pl,RingGeometry:cc,RingBufferGeometry:lc,ShapeGeometry:dc,ShapeBufferGeometry:hc,SphereGeometry:pc,SphereBufferGeometry:fc,TetrahedronGeometry:vc,TetrahedronBufferGeometry:mc,TextGeometry:yc,TextBufferGeometry:gc,TorusGeometry:_c,TorusBufferGeometry:bc,TorusKnotGeometry:wc,TorusKnotBufferGeometry:xc,TubeGeometry:Sc,TubeBufferGeometry:Tc,WireframeGeometry:Ec});function Pc(e){Ni.call(this),this.type="ShadowMaterial",this.color=new Li(0),this.transparent=!0,this.setValues(e)}function Ac(e){La.call(this,e),this.type="RawShaderMaterial"}function Cc(e){Ni.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Li(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Li(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_r,this.normalScale=new tn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function Oc(e){Cc.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new tn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=en.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function kc(e){Ni.call(this),this.type="MeshPhongMaterial",this.color=new Li(16777215),this.specular=new Li(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Li(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_r,this.normalScale=new tn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=le,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Rc(e){Ni.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Li(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Li(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_r,this.normalScale=new tn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Lc(e){Ni.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_r,this.normalScale=new tn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ic(e){Ni.call(this),this.type="MeshLambertMaterial",this.color=new Li(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Li(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=le,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Dc(e){Ni.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Li(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_r,this.normalScale=new tn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Nc(e){Iu.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Pc.prototype=Object.create(Ni.prototype),Pc.prototype.constructor=Pc,Pc.prototype.isShadowMaterial=!0,Pc.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.color.copy(e.color),this},Ac.prototype=Object.create(La.prototype),Ac.prototype.constructor=Ac,Ac.prototype.isRawShaderMaterial=!0,Cc.prototype=Object.create(Ni.prototype),Cc.prototype.constructor=Cc,Cc.prototype.isMeshStandardMaterial=!0,Cc.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},Oc.prototype=Object.create(Cc.prototype),Oc.prototype.constructor=Oc,Oc.prototype.isMeshPhysicalMaterial=!0,Oc.prototype.copy=function(e){return Cc.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Li).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},kc.prototype=Object.create(Ni.prototype),kc.prototype.constructor=kc,kc.prototype.isMeshPhongMaterial=!0,kc.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Rc.prototype=Object.create(Ni.prototype),Rc.prototype.constructor=Rc,Rc.prototype.isMeshToonMaterial=!0,Rc.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Lc.prototype=Object.create(Ni.prototype),Lc.prototype.constructor=Lc,Lc.prototype.isMeshNormalMaterial=!0,Lc.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ic.prototype=Object.create(Ni.prototype),Ic.prototype.constructor=Ic,Ic.prototype.isMeshLambertMaterial=!0,Ic.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Dc.prototype=Object.create(Ni.prototype),Dc.prototype.constructor=Dc,Dc.prototype.isMeshMatcapMaterial=!0,Dc.prototype.copy=function(e){return Ni.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Nc.prototype=Object.create(Iu.prototype),Nc.prototype.constructor=Nc,Nc.prototype.isLineDashedMaterial=!0,Nc.prototype.copy=function(e){return Iu.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Fc=Object.freeze({__proto__:null,ShadowMaterial:Pc,SpriteMaterial:ou,RawShaderMaterial:Ac,ShaderMaterial:La,PointsMaterial:Wu,MeshPhysicalMaterial:Oc,MeshStandardMaterial:Cc,MeshPhongMaterial:kc,MeshToonMaterial:Rc,MeshNormalMaterial:Lc,MeshLambertMaterial:Ic,MeshDepthMaterial:Us,MeshDistanceMaterial:js,MeshBasicMaterial:Fi,MeshMatcapMaterial:Dc,LineDashedMaterial:Nc,LineBasicMaterial:Iu,Material:Ni}),zc={arraySlice:function(e,t,r){return zc.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,r=new Array(t),n=0;n!==t;++n)r[n]=n;return r.sort((function(t,r){return e[t]-e[r]})),r},sortedArray:function(e,t,r){for(var n=e.length,i=new e.constructor(n),a=0,o=0;o!==n;++a)for(var s=r[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i},flattenJSON:function(e,t,r,n){for(var i=1,a=e[0];void 0!==a&&void 0===a[n];)a=e[i++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[n])&&(t.push(a.time),r.push.apply(r,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[n])&&(t.push(a.time),o.toArray(r,r.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[n])&&(t.push(a.time),r.push(o)),a=e[i++]}while(void 0!==a)}},subclip:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],h=[],d=0;d<u.times.length;++d){var f=u.times[d]*i;if(!(f<r||f>=n)){c.push(u.times[d]);for(var p=0;p<l;++p)h.push(u.values[d*l+p])}}0!==c.length&&(u.times=zc.convertArray(c,u.times.constructor),u.values=zc.convertArray(h,u.values.constructor),o.push(u))}a.tracks=o;for(var m=1/0,v=0;v<a.tracks.length;++v)m>a.tracks[v].times[0]&&(m=a.tracks[v].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*m);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;n<=0&&(n=30);for(var i=r.tracks.length,a=t/n,o=function(t){var n=r.tracks[t],i=n.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===n.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,u=n.getValueSize();n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=u/3);var l=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var h=n.times.length-1,d=void 0;if(a<=n.times[0]){var f=s,p=u-s;d=zc.arraySlice(n.values,f,p)}else if(a>=n.times[h]){var m=h*u+s,v=m+u-s;d=zc.arraySlice(n.values,m,v)}else{var g=n.createInterpolant(),y=s,b=u-s;g.evaluate(a),d=zc.arraySlice(g.resultBuffer,y,b)}"quaternion"===i&&(new hn).fromArray(d).normalize().conjugate().toArray(d);for(var _=o.times.length,x=0;x<_;++x){var w=x*c+l;if("quaternion"===i)hn.multiplyQuaternionsFlat(o.values,w,d,0,o.values,w);else for(var T=c-2*l,S=0;S<T;++S)o.values[w+S]-=d[S]}},s=0;s<i;++s)o(s);return e.blendMode=or,e}};function Bc(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r}function Uc(e,t,r,n){Bc.call(this,e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function jc(e,t,r,n){Bc.call(this,e,t,r,n)}function Hc(e,t,r,n){Bc.call(this,e,t,r,n)}function Gc(e,t,r,n){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=zc.convertArray(t,this.TimeBufferType),this.values=zc.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function Vc(e,t,r){Gc.call(this,e,t,r)}function Wc(e,t,r,n){Gc.call(this,e,t,r,n)}function Xc(e,t,r,n){Gc.call(this,e,t,r,n)}function Yc(e,t,r,n){Bc.call(this,e,t,r,n)}function qc(e,t,r,n){Gc.call(this,e,t,r,n)}function Zc(e,t,r,n){Gc.call(this,e,t,r,n)}function Jc(e,t,r,n){Gc.call(this,e,t,r,n)}function Qc(e,t,r,n){this.name=e,this.tracks=r,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==n?n:ar,this.uuid=en.generateUUID(),this.duration<0&&this.resetDuration()}function Kc(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xc;case"vector":case"vector2":case"vector3":case"vector4":return Jc;case"color":return Wc;case"quaternion":return qc;case"bool":case"boolean":return Vc;case"string":return Zc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var r=[],n=[];zc.flattenJSON(e.keys,r,n,"value"),e.times=r,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Bc.prototype,{evaluate:function(e){var t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{var a;r:{n:if(!(e<n)){for(var o=r+2;;){if(void 0===n){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,i)}if(r===o)break;if(i=n,e<(n=t[++r]))break t}a=t.length;break r}if(e>=i)break e;var s=t[1];e<s&&(r=2,i=s);for(var u=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===u)break;if(n=i,e>=(i=t[--r-1]))break t}a=r,r=0}for(;r<a;){var l=r+a>>>1;e<t[l]?a=l:r=l+1}if(n=t[r],void 0===(i=t[r-1]))return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n,a=0;a!==n;++a)t[a]=r[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Bc.prototype,{beforeStart_:Bc.prototype.copySampleValue_,afterEnd_:Bc.prototype.copySampleValue_}),Uc.prototype=Object.assign(Object.create(Bc.prototype),{constructor:Uc,DefaultSettings_:{endingStart:rr,endingEnd:rr},intervalChanged_:function(e,t,r){var n=this.parameterPositions,i=e-2,a=e+1,o=n[i],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case nr:i=e,o=2*t-r;break;case ir:o=t+n[i=n.length-2]-n[i+1];break;default:i=e,o=r}if(void 0===s)switch(this.getSettings_().endingEnd){case nr:a=e,s=2*r-t;break;case ir:a=1,s=r+n[1]-n[0];break;default:a=e-1,s=t}var u=.5*(r-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-r),this._offsetPrev=i*l,this._offsetNext=a*l},interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(r-t)/(n-t),p=f*f,m=p*f,v=-h*m+2*h*p-h*f,g=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p,_=0;_!==o;++_)i[_]=v*a[l+_]+g*a[u+_]+y*a[s+_]+b*a[c+_];return i}}),jc.prototype=Object.assign(Object.create(Bc.prototype),{constructor:jc,interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(r-t)/(n-t),c=1-l,h=0;h!==o;++h)i[h]=a[u+h]*c+a[s+h]*l;return i}}),Hc.prototype=Object.assign(Object.create(Bc.prototype),{constructor:Hc,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Gc,{toJSON:function(e){var t,r=e.constructor;if(void 0!==r.toJSON)t=r.toJSON(e);else{t={name:e.name,times:zc.convertArray(e.times,Array),values:zc.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}}),Object.assign(Gc.prototype,{constructor:Gc,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:er,InterpolantFactoryMethodDiscrete:function(e){return new Hc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new jc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Uc(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case $t:t=this.InterpolantFactoryMethodDiscrete;break;case er:t=this.InterpolantFactoryMethodLinear;break;case tr:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $t;case this.InterpolantFactoryMethodLinear:return er;case this.InterpolantFactoryMethodSmooth:return tr}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]*=e;return this},trim:function(e,t){for(var r=this.times,n=r.length,i=0,a=n-1;i!==n&&r[i]<e;)++i;for(;-1!==a&&r[a]>t;)--a;if(++a,0!==i||a!==n){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=zc.arraySlice(r,i,a),this.values=zc.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=r[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==n&&zc.isTypedArray(n))for(var u=0,l=n.length;u!==l;++u){var c=n[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e},optimize:function(){for(var e=zc.arraySlice(this.times),t=zc.arraySlice(this.values),r=this.getValueSize(),n=this.getInterpolation()===tr,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==u[0]))if(n)s=!0;else for(var l=o*r,c=l-r,h=l+r,d=0;d!==r;++d){var f=t[l+d];if(f!==t[c+d]||f!==t[h+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*r,m=a*r,v=0;v!==r;++v)t[m+v]=t[p+v]}++a}}if(i>0){e[a]=e[i];for(var g=i*r,y=a*r,b=0;b!==r;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=zc.arraySlice(e,0,a),this.values=zc.arraySlice(t,0,a*r)):(this.times=e,this.values=t),this},clone:function(){var e=zc.arraySlice(this.times,0),t=zc.arraySlice(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}),Vc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Vc,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:$t,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Wc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Wc,ValueTypeName:"color"}),Xc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Xc,ValueTypeName:"number"}),Yc.prototype=Object.assign(Object.create(Bc.prototype),{constructor:Yc,interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(r-t)/(n-t),u=e*o,l=u+o;u!==l;u+=4)hn.slerpFlat(i,0,a,u-o,a,u,s);return i}}),qc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:qc,ValueTypeName:"quaternion",DefaultInterpolation:er,InterpolantFactoryMethodLinear:function(e){return new Yc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Zc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Zc,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:$t,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Jc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Jc,ValueTypeName:"vector"}),Object.assign(Qc,{parse:function(e){for(var t=[],r=e.tracks,n=1/(e.fps||1),i=0,a=r.length;i!==a;++i)t.push(Kc(r[i]).scale(n));var o=new Qc(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o},toJSON:function(e){for(var t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=r.length;i!==a;++i)t.push(Gc.toJSON(r[i]));return n},CreateFromMorphTargetSequence:function(e,t,r,n){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=zc.getKeyframeOrder(s);s=zc.sortedArray(s,1,l),u=zc.sortedArray(u,1,l),n||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new Xc(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/r))}return new Qc(e,-1,a)},findByName:function(e,t){var r=e;if(!Array.isArray(e)){var n=e;r=n.geometry&&n.geometry.animations||n.animations}for(var i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=n[l];c||(n[l]=c=[]),c.push(s)}}var h=[];for(var d in n)h.push(Qc.CreateFromMorphTargetSequence(d,n[d],t,r));return h},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var r=function(e,t,r,n,i){if(0!==r.length){var a=[],o=[];zc.flattenJSON(r,a,o,n),0!==a.length&&i.push(new e(t,a,o))}},n=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var f=0;f<c[d].morphTargets.length;f++)h[c[d].morphTargets[f]]=-1;for(var p in h){for(var m=[],v=[],g=0;g!==c[d].morphTargets.length;++g){var y=c[d];m.push(y.time),v.push(y.morphTarget===p?1:0)}n.push(new Xc(".morphTargetInfluence["+p+"]",m,v))}s=h.length*(a||1)}else{var b=".bones["+t[l].name+"]";r(Jc,b+".position",c,"pos",n),r(qc,b+".quaternion",c,"rot",n),r(Jc,b+".scale",c,"scl",n)}}return 0===n.length?null:new Qc(i,s,n,o)}}),Object.assign(Qc.prototype,{resetDuration:function(){for(var e=0,t=0,r=this.tracks.length;t!==r;++t){var n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Qc(this.name,this.duration,e,this.blendMode)},toJSON:function(){return Qc.toJSON(this)}});var $c={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function eh(e,t,r){var n=this,i=!1,a=0,o=0,s=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){o++,!1===i&&void 0!==n.onStart&&n.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==n.onProgress&&n.onProgress(e,a,o),a===o&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,r=u.length;t<r;t+=2){var n=u[t],i=u[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}var th=new eh;function rh(e){this.manager=void 0!==e?e:th,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(rh.prototype,{load:function(){},loadAsync:function(e,t){var r=this;return new Promise((function(n,i){r.load(e,n,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var nh={};function ih(e){rh.call(this,e)}function ah(e){rh.call(this,e)}function oh(e){rh.call(this,e)}function sh(e){rh.call(this,e)}function uh(e){rh.call(this,e)}function lh(e){rh.call(this,e)}function ch(e){rh.call(this,e)}function hh(){this.type="Curve",this.arcLengthDivisions=200}function dh(e,t,r,n,i,a,o,s){hh.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function fh(e,t,r,n,i,a){dh.call(this,e,t,r,r,n,i,a),this.type="ArcCurve"}function ph(){var e=0,t=0,r=0,n=0;function i(i,a,o,s){e=i,t=o,r=-3*i+3*a-2*o-s,n=2*i-2*a+o+s}return{initCatmullRom:function(e,t,r,n,a){i(t,r,a*(r-e),a*(n-t))},initNonuniformCatmullRom:function(e,t,r,n,a,o,s){var u=(t-e)/a-(r-e)/(a+o)+(r-t)/o,l=(r-t)/o-(n-t)/(o+s)+(n-r)/s;i(t,r,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+r*a+n*(a*i)}}}ih.prototype=Object.assign(Object.create(rh.prototype),{constructor:ih,load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=$c.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===nh[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var u=s[1],l=!!s[2],c=s[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var f=new Uint8Array(c.length),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);h="blob"===d?new Blob([f.buffer],{type:u}):f.buffer;break;case"document":var m=new DOMParser;h=m.parseFromString(c,u);break;case"json":h=JSON.parse(c);break;default:h=c}setTimeout((function(){t&&t(h),i.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){n&&n(g),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{for(var v in nh[e]=[],nh[e].push({onLoad:t,onProgress:r,onError:n}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",(function(t){var r=this.response,n=nh[e];if(delete nh[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),$c.add(e,r);for(var a=0,o=n.length;a<o;a++){var s=n[a];s.onLoad&&s.onLoad(r)}i.manager.itemEnd(e)}else{for(var u=0,l=n.length;u<l;u++){var c=n[u];c.onError&&c.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),o.addEventListener("progress",(function(t){for(var r=nh[e],n=0,i=r.length;n<i;n++){var a=r[n];a.onProgress&&a.onProgress(t)}}),!1),o.addEventListener("error",(function(t){var r=nh[e];delete nh[e];for(var n=0,a=r.length;n<a;n++){var o=r[n];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),o.addEventListener("abort",(function(t){var r=nh[e];delete nh[e];for(var n=0,a=r.length;n<a;n++){var o=r[n];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(v,this.requestHeader[v]);o.send(null)}return i.manager.itemStart(e),o}nh[e].push({onLoad:t,onProgress:r,onError:n})},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),ah.prototype=Object.assign(Object.create(rh.prototype),{constructor:ah,load:function(e,t,r,n){var i=this,a=new ih(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(a){n?n(a):console.error(a),i.manager.itemError(e)}}),r,n)},parse:function(e){for(var t=[],r=0;r<e.length;r++){var n=Qc.parse(e[r]);t.push(n)}return t}}),oh.prototype=Object.assign(Object.create(rh.prototype),{constructor:oh,load:function(e,t,r,n){var i=this,a=[],o=new $u;o.image=a;var s=new ih(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var u=0;function l(l){s.load(e[l],(function(e){var r=i.parse(e,!0);a[l]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},6===(u+=1)&&(1===r.mipmapCount&&(o.minFilter=Le),o.format=r.format,o.needsUpdate=!0,t&&t(o))}),r,n)}if(Array.isArray(e))for(var c=0,h=e.length;c<h;++c)l(c);else s.load(e,(function(e){var r=i.parse(e,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,s=0;s<n;s++){a[s]={mipmaps:[]};for(var u=0;u<r.mipmapCount;u++)a[s].mipmaps.push(r.mipmaps[s*r.mipmapCount+u]),a[s].format=r.format,a[s].width=r.width,a[s].height=r.height}else o.image.width=r.width,o.image.height=r.height,o.mipmaps=r.mipmaps;1===r.mipmapCount&&(o.minFilter=Le),o.format=r.format,o.needsUpdate=!0,t&&t(o)}),r,n);return o}}),sh.prototype=Object.assign(Object.create(rh.prototype),{constructor:sh,load:function(e,t,r,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=$c.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),$c.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}),uh.prototype=Object.assign(Object.create(rh.prototype),{constructor:uh,load:function(e,t,r,n){var i=new za,a=new sh(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(r){a.load(e[r],(function(e){i.images[r]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,n)}for(var u=0;u<e.length;++u)s(u);return i}}),lh.prototype=Object.assign(Object.create(rh.prototype),{constructor:lh,load:function(e,t,r,n){var i=this,a=new Ua,o=new ih(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var r=i.parse(e);r&&(void 0!==r.image?a.image=r.image:void 0!==r.data&&(a.image.width=r.width,a.image.height=r.height,a.image.data=r.data),a.wrapS=void 0!==r.wrapS?r.wrapS:Me,a.wrapT=void 0!==r.wrapT?r.wrapT:Me,a.magFilter=void 0!==r.magFilter?r.magFilter:Le,a.minFilter=void 0!==r.minFilter?r.minFilter:Le,a.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(a.format=r.format),void 0!==r.type&&(a.type=r.type),void 0!==r.mipmaps&&(a.mipmaps=r.mipmaps,a.minFilter=Ne),1===r.mipmapCount&&(a.minFilter=Le),a.needsUpdate=!0,t&&t(a,r))}),r,n),a}}),ch.prototype=Object.assign(Object.create(rh.prototype),{constructor:ch,load:function(e,t,r,n){var i=new on,a=new sh(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(r){i.image=r;var n=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=n?Qe:Ke,i.needsUpdate=!0,void 0!==t&&t(i)}),r,n),i}}),Object.assign(hh.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var r=this.getUtoTmapping(e);return this.getPoint(r,t)},getPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return t},getSpacedPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r=[],n=this.getPoint(0),i=0;r.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(n),r.push(i),n=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var r,n=this.getLengths(),i=0,a=n.length;r=t||e*n[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=n[i=Math.floor(s+(u-s)/2)]-r)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(n[i=u]===r)return i/(a-1);var l=n[i];return(i+(r-l)/(n[i+1]-l))/(a-1)},getTangent:function(e,t){var r=1e-4,n=e-r,i=e+r;n<0&&(n=0),i>1&&(i=1);var a=this.getPoint(n),o=this.getPoint(i),s=t||(a.isVector2?new tn:new dn);return s.copy(o).sub(a).normalize(),s},getTangentAt:function(e,t){var r=this.getUtoTmapping(e);return this.getTangent(r,t)},computeFrenetFrames:function(e,t){for(var r=new dn,n=[],i=[],a=[],o=new dn,s=new Un,u=0;u<=e;u++){var l=u/e;n[u]=this.getTangentAt(l,new dn),n[u].normalize()}i[0]=new dn,a[0]=new dn;var c=Number.MAX_VALUE,h=Math.abs(n[0].x),d=Math.abs(n[0].y),f=Math.abs(n[0].z);h<=c&&(c=h,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),o.crossVectors(n[0],r).normalize(),i[0].crossVectors(n[0],o),a[0].crossVectors(n[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(n[p-1],n[p]),o.length()>Number.EPSILON){o.normalize();var m=Math.acos(en.clamp(n[p-1].dot(n[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,m))}a[p].crossVectors(n[p],i[p])}if(!0===t){var v=Math.acos(en.clamp(i[0].dot(i[e]),-1,1));v/=e,n[0].dot(o.crossVectors(i[0],i[e]))>0&&(v=-v);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(n[g],v*g)),a[g].crossVectors(n[g],i[g])}return{tangents:n,normals:i,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),dh.prototype=Object.create(hh.prototype),dh.prototype.constructor=dh,dh.prototype.isEllipseCurve=!0,dh.prototype.getPoint=function(e,t){for(var r=t||new tn,n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=a?0:n),!0!==this.aClockwise||a||(i===n?i=-n:i-=n);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=u-this.aY;s=h*l-d*c+this.aX,u=h*c+d*l+this.aY}return r.set(s,u)},dh.prototype.copy=function(e){return hh.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},dh.prototype.toJSON=function(){var e=hh.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},dh.prototype.fromJSON=function(e){return hh.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},fh.prototype=Object.create(dh.prototype),fh.prototype.constructor=fh,fh.prototype.isArcCurve=!0;var mh=new dn,vh=new ph,gh=new ph,yh=new ph;function bh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;hh.call(this),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=n}function _h(e,t,r,n,i){var a=.5*(n-t),o=.5*(i-r),s=e*e;return(2*r-2*n+a+o)*(e*s)+(-3*r+3*n-2*a-o)*s+a*e+r}function xh(e,t,r,n){return function(e,t){var r=1-e;return r*r*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,r)+function(e,t){return e*e*t}(e,n)}function wh(e,t,r,n,i){return function(e,t){var r=1-e;return r*r*r*t}(e,t)+function(e,t){var r=1-e;return 3*r*r*e*t}(e,r)+function(e,t){return 3*(1-e)*e*e*t}(e,n)+function(e,t){return e*e*e*t}(e,i)}function Th(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tn,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new tn,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new tn;hh.call(this),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=n}function Sh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new dn,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new dn;hh.call(this),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=n}function Eh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tn;hh.call(this),this.type="LineCurve",this.v1=e,this.v2=t}function Mh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn;hh.call(this),this.type="LineCurve3",this.v1=e,this.v2=t}function Ph(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tn,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new tn;hh.call(this),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}function Ah(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new dn;hh.call(this),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}function Ch(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];hh.call(this),this.type="SplineCurve",this.points=e}bh.prototype=Object.create(hh.prototype),bh.prototype.constructor=bh,bh.prototype.isCatmullRomCurve3=!0,bh.prototype.getPoint=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,i=n,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,u=Math.floor(s),l=s-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:0===l&&u===o-1&&(u=o-2,l=1),this.closed||u>0?t=a[(u-1)%o]:(mh.subVectors(a[0],a[1]).add(a[0]),t=mh);var c=a[u%o],h=a[(u+1)%o];if(this.closed||u+2<o?r=a[(u+2)%o]:(mh.subVectors(a[o-1],a[o-2]).add(a[o-1]),r=mh),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(c),d),p=Math.pow(c.distanceToSquared(h),d),m=Math.pow(h.distanceToSquared(r),d);p<1e-4&&(p=1),f<1e-4&&(f=p),m<1e-4&&(m=p),vh.initNonuniformCatmullRom(t.x,c.x,h.x,r.x,f,p,m),gh.initNonuniformCatmullRom(t.y,c.y,h.y,r.y,f,p,m),yh.initNonuniformCatmullRom(t.z,c.z,h.z,r.z,f,p,m)}else"catmullrom"===this.curveType&&(vh.initCatmullRom(t.x,c.x,h.x,r.x,this.tension),gh.initCatmullRom(t.y,c.y,h.y,r.y,this.tension),yh.initCatmullRom(t.z,c.z,h.z,r.z,this.tension));return i.set(vh.calc(l),gh.calc(l),yh.calc(l)),i},bh.prototype.copy=function(e){hh.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},bh.prototype.toJSON=function(){var e=hh.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},bh.prototype.fromJSON=function(e){hh.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new dn).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Th.prototype=Object.create(hh.prototype),Th.prototype.constructor=Th,Th.prototype.isCubicBezierCurve=!0,Th.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tn,r=t,n=this.v0,i=this.v1,a=this.v2,o=this.v3;return r.set(wh(e,n.x,i.x,a.x,o.x),wh(e,n.y,i.y,a.y,o.y)),r},Th.prototype.copy=function(e){return hh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Th.prototype.toJSON=function(){var e=hh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Th.prototype.fromJSON=function(e){return hh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Sh.prototype=Object.create(hh.prototype),Sh.prototype.constructor=Sh,Sh.prototype.isCubicBezierCurve3=!0,Sh.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,r=t,n=this.v0,i=this.v1,a=this.v2,o=this.v3;return r.set(wh(e,n.x,i.x,a.x,o.x),wh(e,n.y,i.y,a.y,o.y),wh(e,n.z,i.z,a.z,o.z)),r},Sh.prototype.copy=function(e){return hh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Sh.prototype.toJSON=function(){var e=hh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Sh.prototype.fromJSON=function(e){return hh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Eh.prototype=Object.create(hh.prototype),Eh.prototype.constructor=Eh,Eh.prototype.isLineCurve=!0,Eh.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tn,r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Eh.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Eh.prototype.getTangent=function(e,t){var r=t||new tn;return r.copy(this.v2).sub(this.v1).normalize(),r},Eh.prototype.copy=function(e){return hh.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Eh.prototype.toJSON=function(){var e=hh.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Eh.prototype.fromJSON=function(e){return hh.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Mh.prototype=Object.create(hh.prototype),Mh.prototype.constructor=Mh,Mh.prototype.isLineCurve3=!0,Mh.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Mh.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Mh.prototype.copy=function(e){return hh.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Mh.prototype.toJSON=function(){var e=hh.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Mh.prototype.fromJSON=function(e){return hh.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ph.prototype=Object.create(hh.prototype),Ph.prototype.constructor=Ph,Ph.prototype.isQuadraticBezierCurve=!0,Ph.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tn,r=t,n=this.v0,i=this.v1,a=this.v2;return r.set(xh(e,n.x,i.x,a.x),xh(e,n.y,i.y,a.y)),r},Ph.prototype.copy=function(e){return hh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ph.prototype.toJSON=function(){var e=hh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ph.prototype.fromJSON=function(e){return hh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ah.prototype=Object.create(hh.prototype),Ah.prototype.constructor=Ah,Ah.prototype.isQuadraticBezierCurve3=!0,Ah.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dn,r=t,n=this.v0,i=this.v1,a=this.v2;return r.set(xh(e,n.x,i.x,a.x),xh(e,n.y,i.y,a.y),xh(e,n.z,i.z,a.z)),r},Ah.prototype.copy=function(e){return hh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ah.prototype.toJSON=function(){var e=hh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ah.prototype.fromJSON=function(e){return hh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ch.prototype=Object.create(hh.prototype),Ch.prototype.constructor=Ch,Ch.prototype.isSplineCurve=!0,Ch.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tn,r=t,n=this.points,i=(n.length-1)*e,a=Math.floor(i),o=i-a,s=n[0===a?a:a-1],u=n[a],l=n[a>n.length-2?n.length-1:a+1],c=n[a>n.length-3?n.length-1:a+2];return r.set(_h(o,s.x,u.x,l.x,c.x),_h(o,s.y,u.y,l.y,c.y)),r},Ch.prototype.copy=function(e){hh.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push(n.clone())}return this},Ch.prototype.toJSON=function(){var e=hh.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var n=this.points[t];e.points.push(n.toArray())}return e},Ch.prototype.fromJSON=function(e){hh.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new tn).fromArray(n))}return this};var Oh=Object.freeze({__proto__:null,ArcCurve:fh,CatmullRomCurve3:bh,CubicBezierCurve:Th,CubicBezierCurve3:Sh,EllipseCurve:dh,LineCurve:Eh,LineCurve3:Mh,QuadraticBezierCurve:Ph,QuadraticBezierCurve3:Ah,SplineCurve:Ch});function kh(){hh.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Rh(e){kh.call(this),this.type="Path",this.currentPoint=new tn,e&&this.setFromPoints(e)}function Lh(e){Rh.call(this,e),this.uuid=en.generateUUID(),this.type="Shape",this.holes=[]}function Ih(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;hi.call(this),this.type="Light",this.color=new Li(e),this.intensity=t}function Dh(e,t,r){Ih.call(this,e,r),this.type="HemisphereLight",this.position.copy(hi.DefaultUp),this.updateMatrix(),this.groundColor=new Li(t)}function Nh(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new tn(512,512),this.map=null,this.mapPass=null,this.matrix=new Un,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ga,this._frameExtents=new tn(1,1),this._viewportCount=1,this._viewports=[new un(0,0,1,1)]}function Fh(){Nh.call(this,new Da(50,1,.5,500)),this.focus=1}function zh(e,t,r,n,i,a){Ih.call(this,e,t),this.type="SpotLight",this.position.copy(hi.DefaultUp),this.updateMatrix(),this.target=new hi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new Fh}function Bh(){Nh.call(this,new Da(90,1,.5,500)),this._frameExtents=new tn(4,2),this._viewportCount=6,this._viewports=[new un(2,1,1,1),new un(0,1,1,1),new un(3,1,1,1),new un(1,1,1,1),new un(3,0,1,1),new un(1,0,1,1)],this._cubeDirections=[new dn(1,0,0),new dn(-1,0,0),new dn(0,0,1),new dn(0,0,-1),new dn(0,1,0),new dn(0,-1,0)],this._cubeUps=[new dn(0,1,0),new dn(0,1,0),new dn(0,1,0),new dn(0,1,0),new dn(0,0,1),new dn(0,0,-1)]}function Uh(e,t,r,n){Ih.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new Bh}function jh(e,t,r,n,i,a){Ia.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==r?r:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Hh(){Nh.call(this,new jh(-5,5,5,-5,.5,500))}function Gh(e,t){Ih.call(this,e,t),this.type="DirectionalLight",this.position.copy(hi.DefaultUp),this.updateMatrix(),this.target=new hi,this.shadow=new Hh}function Vh(e,t){Ih.call(this,e,t),this.type="AmbientLight"}function Wh(e,t,r,n){Ih.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==r?r:10,this.height=void 0!==n?n:10}kh.prototype=Object.assign(Object.create(hh.prototype),{constructor:kh,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Eh(t,e))},getPoint:function(e){for(var t=e*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=t){var i=r[n]-t,a=this.curves[n],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}n++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,r=[],n=0,i=this.curves;n<i.length;n++)for(var a=i[n],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(r.push(l),e=l)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(e){hh.prototype.copy.call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=hh.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){hh.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push((new Oh[n.type]).fromJSON(n))}return this}}),Rh.prototype=Object.assign(Object.create(kh.prototype),{constructor:Rh,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var r=new Eh(this.currentPoint.clone(),new tn(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,r,n){var i=new Ph(this.currentPoint.clone(),new tn(e,t),new tn(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this},bezierCurveTo:function(e,t,r,n,i,a){var o=new Th(this.currentPoint.clone(),new tn(e,t),new tn(r,n),new tn(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this},splineThru:function(e){var t=new Ch([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,r,n,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,r,n,i,a),this},absarc:function(e,t,r,n,i,a){return this.absellipse(e,t,r,r,n,i,a),this},ellipse:function(e,t,r,n,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,r,n,i,a,o,s),this},absellipse:function(e,t,r,n,i,a,o,s){var u=new dh(e,t,r,n,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return kh.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=kh.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return kh.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Lh.prototype=Object.assign(Object.create(Rh.prototype),{constructor:Lh,getPointsHoles:function(e){for(var t=[],r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Rh.prototype.copy.call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){var e=Rh.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){Rh.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push((new Rh).fromJSON(n))}return this}}),Ih.prototype=Object.assign(Object.create(hi.prototype),{constructor:Ih,isLight:!0,copy:function(e){return hi.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=hi.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Dh.prototype=Object.assign(Object.create(Ih.prototype),{constructor:Dh,isHemisphereLight:!0,copy:function(e){return Ih.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Nh.prototype,{_projScreenMatrix:new Un,_lightPositionWorld:new dn,_lookTarget:new dn,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,r=this.matrix,n=this._projScreenMatrix,i=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),n.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Fh.prototype=Object.assign(Object.create(Nh.prototype),{constructor:Fh,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,r=2*en.RAD2DEG*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&n===t.aspect&&i===t.far||(t.fov=r,t.aspect=n,t.far=i,t.updateProjectionMatrix()),Nh.prototype.updateMatrices.call(this,e)}}),zh.prototype=Object.assign(Object.create(Ih.prototype),{constructor:zh,isSpotLight:!0,copy:function(e){return Ih.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Bh.prototype=Object.assign(Object.create(Nh.prototype),{constructor:Bh,isPointLightShadow:!0,updateMatrices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.camera,n=this.matrix,i=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),r.position.copy(i),a.copy(r.position),a.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(a),r.updateMatrixWorld(),n.makeTranslation(-i.x,-i.y,-i.z),o.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),Uh.prototype=Object.assign(Object.create(Ih.prototype),{constructor:Uh,isPointLight:!0,copy:function(e){return Ih.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),jh.prototype=Object.assign(Object.create(Ia.prototype),{constructor:jh,isOrthographicCamera:!0,copy:function(e,t){return Ia.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,r,n,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e,a=r+e,o=n+t,s=n-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){var t=hi.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Hh.prototype=Object.assign(Object.create(Nh.prototype),{constructor:Hh,isDirectionalLightShadow:!0,updateMatrices:function(e){Nh.prototype.updateMatrices.call(this,e)}}),Gh.prototype=Object.assign(Object.create(Ih.prototype),{constructor:Gh,isDirectionalLight:!0,copy:function(e){return Ih.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Vh.prototype=Object.assign(Object.create(Ih.prototype),{constructor:Vh,isAmbientLight:!0}),Wh.prototype=Object.assign(Object.create(Ih.prototype),{constructor:Wh,isRectAreaLight:!0,copy:function(e){return Ih.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Ih.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var Xh=function(){function e(){Object(p.a)(this,e),Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new dn)}return v(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var r=e.x,n=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*n),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*r),t.addScaledVector(a[4],r*n*1.092548),t.addScaledVector(a[5],n*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],r*i*1.092548),t.addScaledVector(a[8],.546274*(r*r-n*n)),t}},{key:"getIrradianceAt",value:function(e,t){var r=e.x,n=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*n),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*r),t.addScaledVector(a[4],.858086*r*n),t.addScaledVector(a[5],.858086*n*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*r*i),t.addScaledVector(a[8],.429043*(r*r-n*n)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.coefficients,n=0;n<9;n++)r[n].fromArray(e,t+3*n);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.coefficients,n=0;n<9;n++)r[n].toArray(e,t+3*n);return e}}],[{key:"getBasisAt",value:function(e,t){var r=e.x,n=e.y,i=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*i,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*r*i,t[8]=.546274*(r*r-n*n)}}]),e}();function Yh(e,t){Ih.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Xh}function qh(e){rh.call(this,e),this.textures={}}Yh.prototype=Object.assign(Object.create(Ih.prototype),{constructor:Yh,isLightProbe:!0,copy:function(e){return Ih.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=Ih.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),qh.prototype=Object.assign(Object.create(rh.prototype),{constructor:qh,load:function(e,t,r,n){var i=this,a=new ih(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(a){n?n(a):console.error(a),i.manager.itemError(e)}}),r,n)},parse:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var n=new Fc[e.type];if(void 0!==e.uuid&&(n.uuid=e.uuid),void 0!==e.name&&(n.name=e.name),void 0!==e.color&&void 0!==n.color&&n.color.setHex(e.color),void 0!==e.roughness&&(n.roughness=e.roughness),void 0!==e.metalness&&(n.metalness=e.metalness),void 0!==e.sheen&&(n.sheen=(new Li).setHex(e.sheen)),void 0!==e.emissive&&void 0!==n.emissive&&n.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==n.specular&&n.specular.setHex(e.specular),void 0!==e.shininess&&(n.shininess=e.shininess),void 0!==e.clearcoat&&(n.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(n.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(n.fog=e.fog),void 0!==e.flatShading&&(n.flatShading=e.flatShading),void 0!==e.blending&&(n.blending=e.blending),void 0!==e.combine&&(n.combine=e.combine),void 0!==e.side&&(n.side=e.side),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.transparent&&(n.transparent=e.transparent),void 0!==e.alphaTest&&(n.alphaTest=e.alphaTest),void 0!==e.depthTest&&(n.depthTest=e.depthTest),void 0!==e.depthWrite&&(n.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(n.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(n.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(n.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(n.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(n.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(n.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(n.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(n.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(n.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(n.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(n.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(n.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(n.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(n.rotation=e.rotation),1!==e.linewidth&&(n.linewidth=e.linewidth),void 0!==e.dashSize&&(n.dashSize=e.dashSize),void 0!==e.gapSize&&(n.gapSize=e.gapSize),void 0!==e.scale&&(n.scale=e.scale),void 0!==e.polygonOffset&&(n.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(n.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(n.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(n.skinning=e.skinning),void 0!==e.morphTargets&&(n.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(n.morphNormals=e.morphNormals),void 0!==e.dithering&&(n.dithering=e.dithering),void 0!==e.vertexTangents&&(n.vertexTangents=e.vertexTangents),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.toneMapped&&(n.toneMapped=e.toneMapped),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?n.vertexColors=e.vertexColors>0:n.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(n.uniforms[i]={},a.type){case"t":n.uniforms[i].value=r(a.value);break;case"c":n.uniforms[i].value=(new Li).setHex(a.value);break;case"v2":n.uniforms[i].value=(new tn).fromArray(a.value);break;case"v3":n.uniforms[i].value=(new dn).fromArray(a.value);break;case"v4":n.uniforms[i].value=(new un).fromArray(a.value);break;case"m3":n.uniforms[i].value=(new rn).fromArray(a.value);break;case"m4":n.uniforms[i].value=(new Un).fromArray(a.value);break;default:n.uniforms[i].value=a.value}}if(void 0!==e.defines&&(n.defines=e.defines),void 0!==e.vertexShader&&(n.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(n.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)n.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(n.flatShading=1===e.shading),void 0!==e.size&&(n.size=e.size),void 0!==e.sizeAttenuation&&(n.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(n.map=r(e.map)),void 0!==e.matcap&&(n.matcap=r(e.matcap)),void 0!==e.alphaMap&&(n.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(n.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(n.bumpScale=e.bumpScale),void 0!==e.normalMap&&(n.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(n.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),n.normalScale=(new tn).fromArray(s)}return void 0!==e.displacementMap&&(n.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(n.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(n.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(n.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(n.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(n.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(n.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(n.specularMap=r(e.specularMap)),void 0!==e.envMap&&(n.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(n.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(n.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(n.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(n.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(n.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(n.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(n.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(n.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(n.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(n.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(n.clearcoatNormalScale=(new tn).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(n.transmission=e.transmission),void 0!==e.transmissionMap&&(n.transmissionMap=r(e.transmissionMap)),n},setTextures:function(e){return this.textures=e,this}});var Zh={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(i){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Jh(){ua.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Qh(e,t,r,n){"number"===typeof r&&(n=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ui.call(this,e,t,r),this.meshPerAttribute=n||1}function Kh(e){rh.call(this,e)}Jh.prototype=Object.assign(Object.create(ua.prototype),{constructor:Jh,isInstancedBufferGeometry:!0,copy:function(e){return ua.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=ua.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Qh.prototype=Object.assign(Object.create(Ui.prototype),{constructor:Qh,isInstancedBufferAttribute:!0,copy:function(e){return Ui.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Ui.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Kh.prototype=Object.assign(Object.create(rh.prototype),{constructor:Kh,load:function(e,t,r,n){var i=this,a=new ih(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(a){n?n(a):console.error(a),i.manager.itemError(e)}}),r,n)},parse:function(e){var t={},r={};function n(e,n){if(void 0!==t[n])return t[n];var i=e.interleavedBuffers[n],a=function(e,t){if(void 0!==r[t])return r[t];var n=e.arrayBuffers[t],i=new Uint32Array(n).buffer;return r[t]=i,i}(e,i.buffer),o=new ru(ea(i.type,a),i.stride);return o.uuid=i.uuid,t[n]=o,o}var i=e.isInstancedBufferGeometry?new Jh:new ua,a=e.data.index;if(void 0!==a){var o=ea(a.type,a.array);i.setIndex(new Ui(o,1))}var s=e.data.attributes;for(var u in s){var l=s[u],c=void 0;if(l.isInterleavedBufferAttribute){c=new au(n(e.data,l.data),l.itemSize,l.offset,l.normalized)}else{var h=ea(l.type,l.array);c=new(l.isInstancedBufferAttribute?Qh:Ui)(h,l.itemSize,l.normalized)}void 0!==l.name&&(c.name=l.name),i.setAttribute(u,c)}var d=e.data.morphAttributes;if(d)for(var f in d){for(var p=d[f],m=[],v=0,g=p.length;v<g;v++){var y=p[v],b=void 0;if(y.isInterleavedBufferAttribute)b=new au(n(e.data,y.data),y.itemSize,y.offset,y.normalized);else b=new Ui(ea(y.type,y.array),y.itemSize,y.normalized);void 0!==y.name&&(b.name=y.name),m.push(b)}i.morphAttributes[f]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var _=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==_)for(var x=0,w=_.length;x!==w;++x){var T=_[x];i.addGroup(T.start,T.count,T.materialIndex)}var S=e.data.boundingSphere;if(void 0!==S){var E=new dn;void 0!==S.center&&E.fromArray(S.center),i.boundingSphere=new kn(E,S.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}});var $h,ed=function(e){c(r,e);var t=d(r);function r(e){return Object(p.a)(this,r),t.call(this,e)}return v(r,[{key:"load",value:function(e,t,r,n){var i=this,a=""===this.path?Zh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new ih(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(r){var a=null;try{a=JSON.parse(r)}catch(s){return void 0!==n&&n(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),r,n)}},{key:"parse",value:function(e,t){var r=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),a=this.parseImages(e.images,(function(){void 0!==t&&t(u)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,i,s,r),l=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,l),void 0!==t){var c=!1;for(var h in a)if(a[h]instanceof HTMLImageElement){c=!0;break}!1===c&&t(u)}return u}},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var r=0,n=e.length;r<n;r++){var i=(new Lh).fromJSON(e[r]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var r={},n={};if(t.traverse((function(e){e.isBone&&(n[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new Au).fromJSON(e[i],n);r[o.uuid]=o}return r}},{key:"parseGeometries",value:function(e,t){var r,n={};if(void 0!==e)for(var i=new Kh,a=0,o=e.length;a<o;a++){var s=void 0,u=e[a];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Mc[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new Mc[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Mc[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Mc[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Mc[u.type](u.radius,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Mc[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Mc[u.type](u.radius,u.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Mc[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Mc[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Mc[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new Mc[u.type]((new Oh[u.path.type]).fromJSON(u.path),u.tubularSegments,u.radius,u.radialSegments,u.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Mc[u.type](u.points,u.segments,u.phiStart,u.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Mc[u.type](u.vertices,u.indices,u.radius,u.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":r=[];for(var l=0,c=u.shapes.length;l<c;l++){var h=t[u.shapes[l]];r.push(h)}s=new Mc[u.type](r,u.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":r=[];for(var d=0,f=u.shapes.length;d<f;d++){var p=t[u.shapes[d]];r.push(p)}var m=u.options.extrudePath;void 0!==m&&(u.options.extrudePath=(new Oh[m.type]).fromJSON(m)),s=new Mc[u.type](r,u.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(u);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),!0===s.isBufferGeometry&&void 0!==u.userData&&(s.userData=u.userData),n[u.uuid]=s}return n}},{key:"parseMaterials",value:function(e,t){var r={},n={};if(void 0!==e){var i=new qh;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var c=s.materials[l];void 0===r[c.uuid]&&(r[c.uuid]=i.parse(c)),u.push(r[c.uuid])}n[s.uuid]=u}else void 0===r[s.uuid]&&(r[s.uuid]=i.parse(s)),n[s.uuid]=r[s.uuid]}}return n}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var r=0;r<e.length;r++){var n=e[r],i=Qc.parse(n);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var r,n=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return n.manager.itemStart(e),r.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:ea(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new eh(t);(r=new sh(o)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var l=e[s],c=l.url;if(Array.isArray(c)){i[l.uuid]=[];for(var h=0,d=c.length;h<d;h++){var f=a(c[h]);null!==f&&(f instanceof HTMLImageElement?i[l.uuid].push(f):i[l.uuid].push(new Ua(f.data,f.width,f.height)))}}else{var p=a(l.url);null!==p&&(i[l.uuid]=p)}}}return i}},{key:"parseTextures",value:function(e,t){function r(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var n={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=void 0,u=t[o.image];Array.isArray(u)?(s=new za(u),6===u.length&&(s.needsUpdate=!0)):(s=u&&u.data?new Ua(u.data,u.width,u.height):new on(u),u&&(s.needsUpdate=!0)),s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=r(o.mapping,td)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=r(o.wrap[0],rd),s.wrapT=r(o.wrap[1],rd)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=r(o.minFilter,nd)),void 0!==o.magFilter&&(s.magFilter=r(o.magFilter,nd)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),n[o.uuid]=s}return n}},{key:"parseObject",value:function(e,t,r,n){var i,a,o;function s(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++){var a=e[n];void 0===r[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(r[a])}return t}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}switch(e.type){case"Scene":i=new tu,void 0!==e.background&&Number.isInteger(e.background)&&(i.background=new Li(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?i.fog=new eu(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(i.fog=new $s(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new Da(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new jh(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new Vh(e.color,e.intensity);break;case"DirectionalLight":i=new Gh(e.color,e.intensity);break;case"PointLight":i=new Uh(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new Wh(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new zh(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new Dh(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=(new Yh).fromJSON(e);break;case"SkinnedMesh":i=new Su(a=s(e.geometry),o=u(e.material)),void 0!==e.bindMode&&(i.bindMode=e.bindMode),void 0!==e.bindMatrix&&i.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(i.skeleton=e.skeleton);break;case"Mesh":i=new Ma(a=s(e.geometry),o=u(e.material));break;case"InstancedMesh":a=s(e.geometry),o=u(e.material);var l=e.count,c=e.instanceMatrix;(i=new Lu(a,o,l)).instanceMatrix=new Ui(new Float32Array(c.array),16);break;case"LOD":i=new Tu;break;case"Line":i=new Uu(s(e.geometry),u(e.material),e.mode);break;case"LineLoop":i=new Vu(s(e.geometry),u(e.material));break;case"LineSegments":i=new Gu(s(e.geometry),u(e.material));break;case"PointCloud":case"Points":i=new Ju(s(e.geometry),u(e.material));break;case"Sprite":i=new bu(u(e.material));break;case"Group":i=new Ys;break;case"Bone":i=new Eu;break;default:i=new hi}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(i.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(i.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.frustumCulled&&(i.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(i.renderOrder=e.renderOrder),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.layers&&(i.layers.mask=e.layers),void 0!==e.children)for(var h=e.children,d=0;d<h.length;d++)i.add(this.parseObject(h[d],t,r,n));if(void 0!==e.animations)for(var f=e.animations,p=0;p<f.length;p++){var m=f[p];i.animations.push(n[m])}if("LOD"===e.type){void 0!==e.autoUpdate&&(i.autoUpdate=e.autoUpdate);for(var v=e.levels,g=0;g<v.length;g++){var y=v[g],b=i.getObjectByProperty("uuid",y.object);void 0!==b&&i.addLevel(b,y.distance)}}return i}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var r=t[e.skeleton];void 0===r?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(r,e.bindMatrix)}}))}},{key:"setTexturePath",value:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}]),r}(rh),td={UVMapping:ye,CubeReflectionMapping:be,CubeRefractionMapping:_e,EquirectangularReflectionMapping:xe,EquirectangularRefractionMapping:we,CubeUVReflectionMapping:Te,CubeUVRefractionMapping:Se},rd={RepeatWrapping:Ee,ClampToEdgeWrapping:Me,MirroredRepeatWrapping:Pe},nd={NearestFilter:Ae,NearestMipmapNearestFilter:Ce,NearestMipmapLinearFilter:ke,LinearFilter:Le,LinearMipmapNearestFilter:Ie,LinearMipmapLinearFilter:Ne};function id(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),rh.call(this,e),this.options={premultiplyAlpha:"none"}}function ad(){this.type="ShapePath",this.color=new Li,this.subPaths=[],this.currentPath=null}function od(e){this.type="Font",this.data=e}function sd(e,t,r){for(var n=Array.from?Array.from(e):String(e).split(""),i=t/r.resolution,a=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,o=[],s=0,u=0,l=0;l<n.length;l++){var c=n[l];if("\n"===c)s=0,u-=a;else{var h=ud(c,i,s,u,r);s+=h.offsetX,o.push(h.path)}}return o}function ud(e,t,r,n,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,u,l,c,h,d,f,p=new ad;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":o=m[v++]*t+r,s=m[v++]*t+n,p.moveTo(o,s);break;case"l":o=m[v++]*t+r,s=m[v++]*t+n,p.lineTo(o,s);break;case"q":u=m[v++]*t+r,l=m[v++]*t+n,c=m[v++]*t+r,h=m[v++]*t+n,p.quadraticCurveTo(c,h,u,l);break;case"b":u=m[v++]*t+r,l=m[v++]*t+n,c=m[v++]*t+r,h=m[v++]*t+n,d=m[v++]*t+r,f=m[v++]*t+n,p.bezierCurveTo(c,h,d,f,u,l)}}return{offsetX:a.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function ld(e){rh.call(this,e)}id.prototype=Object.assign(Object.create(rh.prototype),{constructor:id,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=$c.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(r){$c.add(e,r),t&&t(r),i.manager.itemEnd(e)})).catch((function(t){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(ad.prototype,{moveTo:function(e,t){return this.currentPath=new Rh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,r,n){return this.currentPath.quadraticCurveTo(e,t,r,n),this},bezierCurveTo:function(e,t,r,n,i,a){return this.currentPath.bezierCurveTo(e,t,r,n,i,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function r(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r],a=new Lh;a.curves=i.curves,t.push(a)}return t}function n(e,t){for(var r=t.length,n=!1,i=r-1,a=0;a<r;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;n=!n}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return n}var i,a,o,s=Yl.isClockWise,u=this.subPaths;if(0===u.length)return[];if(!0===t)return r(u);var l=[];if(1===u.length)return a=u[0],(o=new Lh).curves=a.curves,l.push(o),l;var c=!s(u[0].getPoints());c=e?!c:c;var h,d,f=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=u.length;g<y;g++)i=s(h=(a=u[g]).getPoints()),(i=e?!i:i)?(!c&&p[v]&&v++,p[v]={s:new Lh,p:h},p[v].s.curves=a.curves,c&&v++,m[v]=[]):m[v].push({h:a,p:h[0]});if(!p[0])return r(u);if(p.length>1){for(var b=!1,_=[],x=0,w=p.length;x<w;x++)f[x]=[];for(var T=0,S=p.length;T<S;T++)for(var E=m[T],M=0;M<E.length;M++){for(var P=E[M],A=!0,C=0;C<p.length;C++)n(P.p,p[C].p)&&(T!==C&&_.push({froms:T,tos:C,hole:M}),A?(A=!1,f[C].push(P)):b=!0);A&&f[T].push(P)}_.length>0&&(b||(m=f))}for(var O=0,k=p.length;O<k;O++){o=p[O].s,l.push(o);for(var R=0,L=(d=m[O]).length;R<L;R++)o.holes.push(d[R].h)}return l}}),Object.assign(od.prototype,{isFont:!0,generateShapes:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=[],n=sd(e,t,this.data),i=0,a=n.length;i<a;i++)Array.prototype.push.apply(r,n[i].toShapes());return r}}),ld.prototype=Object.assign(Object.create(rh.prototype),{constructor:ld,load:function(e,t,r,n){var i=this,a=new ih(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){var r;try{r=JSON.parse(e)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(e.substring(65,e.length-2))}var n=i.parse(r);t&&t(n)}),r,n)},parse:function(e){return new od(e)}});var cd={getContext:function(){return void 0===$h&&($h=new(window.AudioContext||window.webkitAudioContext)),$h},setContext:function(e){$h=e}};function hd(e){rh.call(this,e)}function dd(e,t,r){Yh.call(this,void 0,r);var n=(new Li).set(e),i=(new Li).set(t),a=new dn(n.r,n.g,n.b),o=new dn(i.r,i.g,i.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function fd(e,t){Yh.call(this,void 0,t);var r=(new Li).set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}hd.prototype=Object.assign(Object.create(rh.prototype),{constructor:hd,load:function(e,t,r,n){var i=this,a=new ih(i.manager);a.setResponseType("arraybuffer"),a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(r){try{var a=r.slice(0);cd.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(o){n?n(o):console.error(o),i.manager.itemError(e)}}),r,n)}}),dd.prototype=Object.assign(Object.create(Yh.prototype),{constructor:dd,isHemisphereLightProbe:!0,copy:function(e){return Yh.prototype.copy.call(this,e),this},toJSON:function(e){return Yh.prototype.toJSON.call(this,e)}}),fd.prototype=Object.assign(Object.create(Yh.prototype),{constructor:fd,isAmbientLightProbe:!0,copy:function(e){return Yh.prototype.copy.call(this,e),this},toJSON:function(e){return Yh.prototype.toJSON.call(this,e)}});var pd=new Un,md=new Un;function vd(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Da,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Da,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(vd.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var r,n,i=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan(en.DEG2RAD*t.fov*.5)/t.zoom;md.elements[12]=-a,pd.elements[12]=a,r=-s*t.aspect+o,n=s*t.aspect+o,i.elements[0]=2*t.near/(n-r),i.elements[8]=(n+r)/(n-r),this.cameraL.projectionMatrix.copy(i),r=-s*t.aspect-o,n=s*t.aspect-o,i.elements[0]=2*t.near/(n-r),i.elements[8]=(n+r)/(n-r),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(md),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(pd)}});var gd=function(){function e(t){Object(p.a)(this,e),this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return v(e,[{key:"start",value:function(){this.startTime=yd(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=yd();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function yd(){return("undefined"===typeof performance?Date:performance).now()}var bd=new dn,_d=new hn,xd=new dn,wd=new dn,Td=function(e){c(r,e);var t=d(r);function r(){var e;return Object(p.a)(this,r),(e=t.call(this)).type="AudioListener",e.context=cd.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new gd,e}return v(r,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){s(o(r.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(bd,_d,xd),wd.set(0,0,-1).applyQuaternion(_d),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(bd.x,i),t.positionY.linearRampToValueAtTime(bd.y,i),t.positionZ.linearRampToValueAtTime(bd.z,i),t.forwardX.linearRampToValueAtTime(wd.x,i),t.forwardY.linearRampToValueAtTime(wd.y,i),t.forwardZ.linearRampToValueAtTime(wd.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(bd.x,bd.y,bd.z),t.setOrientation(wd.x,wd.y,wd.z,n.x,n.y,n.z)}}]),r}(hi),Sd=function(e){c(r,e);var t=d(r);function r(e){var n;return Object(p.a)(this,r),(n=t.call(this)).type="Audio",n.listener=e,n.context=e.context,n.gain=n.context.createGain(),n.gain.connect(e.getInput()),n.autoplay=!1,n.buffer=null,n.detune=0,n.loop=!1,n.loopStart=0,n.loopEnd=0,n.offset=0,n.duration=void 0,n.playbackRate=1,n.isPlaying=!1,n.hasPlaybackControl=!0,n.source=null,n.sourceType="empty",n._startedAt=0,n._progress=0,n._connected=!1,n.filters=[],n}return v(r,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),r}(hi),Ed=new dn,Md=new hn,Pd=new dn,Ad=new dn,Cd=function(e){c(r,e);var t=d(r);function r(e){var n;return Object(p.a)(this,r),(n=t.call(this,e)).panner=n.context.createPanner(),n.panner.panningModel="HRTF",n.panner.connect(n.gain),n}return v(r,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}},{key:"updateMatrixWorld",value:function(e){if(s(o(r.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Ed,Md,Pd),Ad.set(0,0,1).applyQuaternion(Md);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ed.x,n),t.positionY.linearRampToValueAtTime(Ed.y,n),t.positionZ.linearRampToValueAtTime(Ed.z,n),t.orientationX.linearRampToValueAtTime(Ad.x,n),t.orientationY.linearRampToValueAtTime(Ad.y,n),t.orientationZ.linearRampToValueAtTime(Ad.z,n)}else t.setPosition(Ed.x,Ed.y,Ed.z),t.setOrientation(Ad.x,Ad.y,Ad.z)}}}]),r}(Sd),Od=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;Object(p.a)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=r,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return v(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),r=0;r<t.length;r++)e+=t[r];return e/t.length}}]),e}();function kd(e,t,r){var n,i,a;switch(this.binding=e,this.valueSize=r,t){case"quaternion":n=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":n=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:n=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(kd.prototype,{accumulate:function(e,t){var r=this.buffer,n=this.valueSize,i=e*n+n,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==n;++o)r[i+o]=r[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(r,i,0,s,n)}this.cumulativeWeight=a},accumulateAdditive:function(e){var t=this.buffer,r=this.valueSize,n=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,r=this.buffer,n=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(r,n,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(r,n,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(r[u]!==r[u+t]){o.setValue(r,n);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,r=this.valueSize,n=r*this._origIndex;e.getValue(t,n);for(var i=r,a=n;i!==a;++i)t[i]=t[n+i%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,r=e;r<t;r++)this.buffer[r]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]},_select:function(e,t,r,n,i){if(n>=.5)for(var a=0;a!==i;++a)e[t+a]=e[r+a]},_slerp:function(e,t,r,n){hn.slerpFlat(e,t,e,t,e,r,n)},_slerpAdditive:function(e,t,r,n,i){var a=this._workIndex*i;hn.multiplyQuaternionsFlat(e,a,e,t,e,r),hn.slerpFlat(e,t,e,t,e,a,n)},_lerp:function(e,t,r,n,i){for(var a=1-n,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[r+o]*n}},_lerpAdditive:function(e,t,r,n,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[r+a]*n}}});var Rd="\\[\\]\\.:\\/",Ld=new RegExp("[\\[\\]\\.:\\/]","g"),Id="[^\\[\\]\\.:\\/]",Dd="[^"+Rd.replace("\\.","")+"]",Nd=/((?:WC+[\/:])*)/.source.replace("WC",Id),Fd=/(WCOD+)?/.source.replace("WCOD",Dd),zd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Id),Bd=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Id),Ud=new RegExp("^"+Nd+Fd+zd+Bd+"$"),jd=["material","materials","bones"];function Hd(e,t,r){var n=r||Gd.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function Gd(e,t,r){this.path=t,this.parsedPath=r||Gd.parseTrackName(t),this.node=Gd.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Vd(){this.uuid=en.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}Object.assign(Hd.prototype,{getValue:function(e,t){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}),Object.assign(Gd,{Composite:Hd,create:function(e,t,r){return e&&e.isAnimationObjectGroup?new Gd.Composite(e,t,r):new Gd(e,t,r)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Ld,"")},parseTrackName:function(e){var t=Ud.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=r.nodeName.substring(n+1);-1!==jd.indexOf(i)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){var n=function e(r){for(var n=0;n<r.length;n++){var i=r[n];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(n)return n}return null}}),Object.assign(Gd.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)e[t++]=r[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,i=t.propertyIndex;if(e||(e=Gd.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(r){var a=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[n];if(void 0!==s){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else{var c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+n+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Gd.prototype,{_getValue_unbound:Gd.prototype.getValue,_setValue_unbound:Gd.prototype.setValue}),Object.assign(Vd.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=this._indicesByUUID,r=this._paths,n=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,u=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var h=arguments[l],d=h.uuid,f=t[d];if(void 0===f){f=s++,t[d]=f,e.push(h);for(var p=0,m=a;p!==m;++p)i[p].push(new Gd(h,r[p],n[p]))}else if(f<u){o=e[f];var v=--u,g=e[v];t[g.uuid]=f,e[f]=g,t[d]=v,e[v]=h;for(var y=0,b=a;y!==b;++y){var _=i[y],x=_[v],w=_[f];_[f]=x,void 0===w&&(w=new Gd(h,r[y],n[y])),_[v]=w}}else e[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u},remove:function(){for(var e=this._objects,t=this._indicesByUUID,r=this._bindings,n=r.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,h=e[c];t[h.uuid]=l,e[l]=h,t[u]=c,e[c]=s;for(var d=0,f=n;d!==f;++d){var p=r[d],m=p[c],v=p[l];p[l]=m,p[c]=v}}}this.nCachedObjects_=i},uncache:function(){for(var e=this._objects,t=this._indicesByUUID,r=this._bindings,n=r.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var h=--i,d=e[h],f=--a,p=e[f];t[d.uuid]=c,e[c]=d,t[p.uuid]=h,e[h]=p,e.pop();for(var m=0,v=n;m!==v;++m){var g=r[m],y=g[h],b=g[f];g[c]=y,g[h]=b,g.pop()}}else{var _=--a,x=e[_];_>0&&(t[x.uuid]=c),e[c]=x,e.pop();for(var w=0,T=n;w!==T;++w){var S=r[w];S[c]=S[_],S.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var r=this._bindingsIndicesByPath,n=r[e],i=this._bindings;if(void 0!==n)return i[n];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);n=i.length,r[e]=n,a.push(e),o.push(t),i.push(c);for(var h=l,d=s.length;h!==d;++h){var f=s[h];c[h]=new Gd(f,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){var n=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=r,a[r]=s,a.pop(),i[r]=i[o],i.pop(),n[r]=n[o],n.pop()}}});var Wd=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.blendMode;Object(p.a)(this,e),this._mixer=t,this._clip=r,this._localRoot=n,this.blendMode=i;for(var a=r.tracks,o=a.length,s=new Array(o),u={endingStart:rr,endingEnd:rr},l=0;l!==o;++l){var c=a[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Qt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return v(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){var n=this._clip.duration,i=e._clip.duration,a=i/n,o=n/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,r){return e.crossFadeFrom(this,t,r)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,r){var n=this._mixer,i=n.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+r,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,r,n){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*r;if(a<0||0===r)return;this._startTime=null,t=r*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case or:for(var c=0,h=u.length;c!==h;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);break;case ar:default:for(var d=0,f=u.length;d!==f;++d)u[d].evaluate(o),l[d].accumulate(n,s)}}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r)t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,r=this.loop,n=this.time+e,i=this._loopCount,a=r===Kt;if(0===e)return-1===i?n:a&&1===(1&i)?t-n:n;if(r===Jt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else{if(!(n<0)){this.time=n;break e}n=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),n>=t||n<0){var o=Math.floor(n/t);n-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=n;if(a&&1===(1&i))return t-n}return n}},{key:"_setEndings",value:function(e,t,r){var n=this._interpolantSettings;r?(n.endingStart=nr,n.endingEnd=nr):(n.endingStart=e?this.zeroSlopeAtStart?nr:rr:ir,n.endingEnd=t?this.zeroSlopeAtEnd?nr:rr:ir)}},{key:"_scheduleFading",value:function(e,t,r){var n=this._mixer,i=n.time,a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=r,this}}]),e}();function Xd(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Xd.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Xd,_bindAction:function(e,t){var r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,a=e._propertyBindings,o=e._interpolants,s=r.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var h=n[c],d=h.name,f=l[d];if(void 0!==f)a[c]=f;else{if(void 0!==(f=a[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(f=new kd(Gd.create(r,d,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),a[c]=f}o[c].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,r){var n=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=n.length,n.push(e),a.actionByRoot[r]=e},_removeInactiveAction:function(e){var t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackAction:function(e){var t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_addInactiveBinding:function(e,t,r){var n=this._bindingsByRootAndName,i=this._bindings,a=n[t];void 0===a&&(a={},n[t]=a),a[r]=e,e._cacheIndex=i.length,i.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,r=e.binding,n=r.rootNode.uuid,i=r.path,a=this._bindingsByRootAndName,o=a[n],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[n]},_lendBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return void 0===r&&((r=new jc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=r),r},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,r){var n=t||this._root,i=n.uuid,a="string"===typeof e?Qc.findByName(n,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===r&&(r=null!==a?a.blendMode:ar),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===r)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new Wd(this,a,t,r);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c},existingAction:function(e,t){var r=t||this._root,n=r.uuid,i="string"===typeof e?Qc.findByName(r,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[n]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;for(var t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==r;++o){t[o]._update(n,e,i,a)}for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(a);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,r=e.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete n[r]}},uncacheRoot:function(e){var t=e.uuid,r=this._actionsByClip;for(var n in r){var i=r[n].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}});var Yd=function(){function e(t){Object(p.a)(this,e),"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return v(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}();function qd(e,t,r){ru.call(this,e,t),this.meshPerAttribute=r||1}function Zd(e,t,r,n,i){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=n,this.count=i,this.version=0}function Jd(e,t,r,n){this.ray=new Bn(e,t),this.near=r||0,this.far=n||1/0,this.camera=null,this.layers=new Qn,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Qd(e,t){return e.distance-t.distance}function Kd(e,t,r,n){if(e.layers.test(t.layers)&&e.raycast(t,r),!0===n)for(var i=e.children,a=0,o=i.length;a<o;a++)Kd(i[a],t,r,!0)}qd.prototype=Object.assign(Object.create(ru.prototype),{constructor:qd,isInstancedInterleavedBuffer:!0,copy:function(e){return ru.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){var t=ru.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){var t=ru.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(Zd.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Zd.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(Jd.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,r){var n=r||[];return Kd(e,this,n,t),n.sort(Qd),n},intersectObjects:function(e,t,r){var n=r||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,a=e.length;i<a;i++)Kd(e[i],this,n,t);return n.sort(Qd),n}});var $d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(p.a)(this,e),this.radius=t,this.phi=r,this.theta=n,this}return v(e,[{key:"set",value:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(en.clamp(t/this.radius,-1,1))),this}}]),e}(),ef=function(){function e(t,r,n){return Object(p.a)(this,e),this.radius=void 0!==t?t:1,this.theta=void 0!==r?r:0,this.y=void 0!==n?n:0,this}return v(e,[{key:"set",value:function(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}}]),e}(),tf=new tn,rf=function(){function e(t,r){Object(p.a)(this,e),Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new tn(1/0,1/0),this.max=void 0!==r?r:new tn(-1/0,-1/0)}return v(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var r=tf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new tn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new tn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new tn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new tn),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return tf.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),nf=new dn,af=new dn,of=function(){function e(t,r){Object(p.a)(this,e),this.start=void 0!==t?t:new dn,this.end=void 0!==r?r:new dn}return v(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new dn),e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new dn),e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new dn),this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){nf.subVectors(e,this.start),af.subVectors(this.end,this.start);var r=af.dot(af),n=af.dot(nf)/r;return t&&(n=en.clamp(n,0,1)),n}},{key:"closestPointToPoint",value:function(e,t,r){var n=this.closestPointToPointParameter(e,t);return void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new dn),this.delta(r).multiplyScalar(n).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}]),e}();function sf(e){hi.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}sf.prototype=Object.create(hi.prototype),sf.prototype.constructor=sf,sf.prototype.isImmediateRenderObject=!0;var uf=new dn,lf=function(e){c(r,e);var t=d(r);function r(e,n){var i;Object(p.a)(this,r),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=n;for(var a=new ua,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var l=s/32*Math.PI*2,c=u/32*Math.PI*2;o.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new Zi(o,3));var h=new Iu({fog:!1,toneMapped:!1});return i.cone=new Gu(a,h),i.add(i.cone),i.update(),i}return v(r,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),uf.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(uf),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),r}(hi),cf=new dn,hf=new Un,df=new Un,ff=function(e){c(r,e);var t=d(r);function r(e){var n;Object(p.a)(this,r);for(var i=pf(e),a=new ua,o=[],s=[],u=new Li(0,0,1),l=new Li(0,1,0),c=0;c<i.length;c++){var h=i[c];h.parent&&h.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new Zi(o,3)),a.setAttribute("color",new Zi(s,3));var d=new Iu({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(n=t.call(this,a,d)).type="SkeletonHelper",n.isSkeletonHelper=!0,n.root=e,n.bones=i,n.matrix=e.matrixWorld,n.matrixAutoUpdate=!1,n}return v(r,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,n=this.geometry,i=n.getAttribute("position");df.copy(this.root.matrixWorld).invert();for(var a=0,u=0;a<t.length;a++){var l=t[a];l.parent&&l.parent.isBone&&(hf.multiplyMatrices(df,l.matrixWorld),cf.setFromMatrixPosition(hf),i.setXYZ(u,cf.x,cf.y,cf.z),hf.multiplyMatrices(df,l.parent.matrixWorld),cf.setFromMatrixPosition(hf),i.setXYZ(u+1,cf.x,cf.y,cf.z),u+=2)}n.getAttribute("position").needsUpdate=!0,s(o(r.prototype),"updateMatrixWorld",this).call(this,e)}}]),r}(Gu);function pf(e){var t=[];e&&e.isBone&&t.push(e);for(var r=0;r<e.children.length;r++)t.push.apply(t,pf(e.children[r]));return t}var mf=function(e){c(r,e);var t=d(r);function r(e,n,i){var a;Object(p.a)(this,r);var o=new fc(n,4,2),s=new Fi({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.light.updateMatrixWorld(),a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return v(r,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),r}(Ma),vf=new dn,gf=new Li,yf=new Li,bf=function(e){c(r,e);var t=d(r);function r(e,n,i){var a;Object(p.a)(this,r),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i;var o=new nc(n);o.rotateY(.5*Math.PI),a.material=new Fi({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new Ui(u,3)),a.add(new Ma(o,a.material)),a.update(),a}return v(r,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");gf.copy(this.light.color),yf.copy(this.light.groundColor);for(var r=0,n=t.count;r<n;r++){var i=r<n/2?gf:yf;t.setXYZ(r,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(vf.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),r}(hi),_f=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;Object(p.a)(this,r),a=new Li(a),o=new Li(o);for(var s=i/2,u=n/i,l=n/2,c=[],h=[],d=0,f=0,m=-l;d<=i;d++,m+=u){c.push(-l,0,m,l,0,m),c.push(m,0,-l,m,0,l);var v=d===s?a:o;v.toArray(h,f),f+=3,v.toArray(h,f),f+=3,v.toArray(h,f),f+=3,v.toArray(h,f),f+=3}var g=new ua;g.setAttribute("position",new Zi(c,3)),g.setAttribute("color",new Zi(h,3));var y=new Iu({vertexColors:!0,toneMapped:!1});return(e=t.call(this,g,y)).type="GridHelper",e}return r}(Gu),xf=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;Object(p.a)(this,r),s=new Li(s),u=new Li(u);for(var l=[],c=[],h=0;h<=i;h++){var d=h/i*(2*Math.PI),f=Math.sin(d)*n,m=Math.cos(d)*n;l.push(0,0,0),l.push(f,0,m);var v=1&h?s:u;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var g=0;g<=a;g++)for(var y=1&g?s:u,b=n-n/a*g,_=0;_<o;_++){var x=_/o*(2*Math.PI),w=Math.sin(x)*b,T=Math.cos(x)*b;l.push(w,0,T),c.push(y.r,y.g,y.b),x=(_+1)/o*(2*Math.PI),w=Math.sin(x)*b,T=Math.cos(x)*b,l.push(w,0,T),c.push(y.r,y.g,y.b)}var S=new ua;S.setAttribute("position",new Zi(l,3)),S.setAttribute("color",new Zi(c,3));var E=new Iu({vertexColors:!0,toneMapped:!1});return(e=t.call(this,S,E)).type="PolarGridHelper",e}return r}(Gu),wf=new dn,Tf=new dn,Sf=new dn,Ef=function(e){c(r,e);var t=d(r);function r(e,n,i){var a;Object(p.a)(this,r),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,void 0===n&&(n=1);var o=new ua;o.setAttribute("position",new Zi([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));var s=new Iu({fog:!1,toneMapped:!1});return a.lightPlane=new Uu(o,s),a.add(a.lightPlane),(o=new ua).setAttribute("position",new Zi([0,0,0,0,0,1],3)),a.targetLine=new Uu(o,s),a.add(a.targetLine),a.update(),a}return v(r,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){wf.setFromMatrixPosition(this.light.matrixWorld),Tf.setFromMatrixPosition(this.light.target.matrixWorld),Sf.subVectors(Tf,wf),this.lightPlane.lookAt(Tf),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Tf),this.targetLine.scale.z=Sf.length()}}]),r}(hi),Mf=new dn,Pf=new Ia,Af=function(e){c(r,e);var t=d(r);function r(e){var n;Object(p.a)(this,r);var i=new ua,a=new Iu({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={},l=new Li(16755200),c=new Li(16711680),h=new Li(43775),d=new Li(16777215),f=new Li(3355443);function m(e,t,r){v(e,r),v(t,r)}function v(e,t){o.push(0,0,0),s.push(t.r,t.g,t.b),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}return m("n1","n2",l),m("n2","n4",l),m("n4","n3",l),m("n3","n1",l),m("f1","f2",l),m("f2","f4",l),m("f4","f3",l),m("f3","f1",l),m("n1","f1",l),m("n2","f2",l),m("n3","f3",l),m("n4","f4",l),m("p","n1",c),m("p","n2",c),m("p","n3",c),m("p","n4",c),m("u1","u2",h),m("u2","u3",h),m("u3","u1",h),m("c","t",d),m("p","c",f),m("cn1","cn2",f),m("cn3","cn4",f),m("cf1","cf2",f),m("cf3","cf4",f),i.setAttribute("position",new Zi(o,3)),i.setAttribute("color",new Zi(s,3)),(n=t.call(this,i,a)).type="CameraHelper",n.camera=e,n.camera.updateProjectionMatrix&&n.camera.updateProjectionMatrix(),n.matrix=e.matrixWorld,n.matrixAutoUpdate=!1,n.pointMap=u,n.update(),n}return v(r,[{key:"update",value:function(){var e=this.geometry,t=this.pointMap;Pf.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Cf("c",t,e,Pf,0,0,-1),Cf("t",t,e,Pf,0,0,1),Cf("n1",t,e,Pf,-1,-1,-1),Cf("n2",t,e,Pf,1,-1,-1),Cf("n3",t,e,Pf,-1,1,-1),Cf("n4",t,e,Pf,1,1,-1),Cf("f1",t,e,Pf,-1,-1,1),Cf("f2",t,e,Pf,1,-1,1),Cf("f3",t,e,Pf,-1,1,1),Cf("f4",t,e,Pf,1,1,1),Cf("u1",t,e,Pf,.7,1.1,-1),Cf("u2",t,e,Pf,-.7,1.1,-1),Cf("u3",t,e,Pf,0,2,-1),Cf("cf1",t,e,Pf,-1,0,1),Cf("cf2",t,e,Pf,1,0,1),Cf("cf3",t,e,Pf,0,-1,1),Cf("cf4",t,e,Pf,0,1,1),Cf("cn1",t,e,Pf,-1,0,-1),Cf("cn2",t,e,Pf,1,0,-1),Cf("cn3",t,e,Pf,0,-1,-1),Cf("cn4",t,e,Pf,0,1,-1),e.getAttribute("position").needsUpdate=!0}}]),r}(Gu);function Cf(e,t,r,n,i,a,o){Mf.set(i,a,o).unproject(n);var s=t[e];if(void 0!==s)for(var u=r.getAttribute("position"),l=0,c=s.length;l<c;l++)u.setXYZ(s[l],Mf.x,Mf.y,Mf.z)}var Of,kf,Rf=new mn,Lf=function(e){c(r,e);var t=d(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;Object(p.a)(this,r);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new ua;return s.setIndex(new Ui(a,1)),s.setAttribute("position",new Ui(o,3)),(n=t.call(this,s,new Iu({color:i,toneMapped:!1}))).object=e,n.type="BoxHelper",n.matrixAutoUpdate=!1,n.update(),n}return v(r,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Rf.setFromObject(this.object),!Rf.isEmpty()){var t=Rf.min,r=Rf.max,n=this.geometry.attributes.position,i=n.array;i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=t.x,i[4]=r.y,i[5]=r.z,i[6]=t.x,i[7]=t.y,i[8]=r.z,i[9]=r.x,i[10]=t.y,i[11]=r.z,i[12]=r.x,i[13]=r.y,i[14]=t.z,i[15]=t.x,i[16]=r.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=r.x,i[22]=t.y,i[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e){return Gu.prototype.copy.call(this,e),this.object=e.object,this}}]),r}(Gu),If=function(e){c(r,e);var t=d(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;Object(p.a)(this,r);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ua;return s.setIndex(new Ui(a,1)),s.setAttribute("position",new Zi(o,3)),(n=t.call(this,s,new Iu({color:i,toneMapped:!1}))).box=e,n.type="Box3Helper",n.geometry.computeBoundingSphere(),n}return v(r,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),s(o(r.prototype),"updateMatrixWorld",this).call(this,e))}}]),r}(Gu),Df=function(e){c(r,e);var t=d(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;Object(p.a)(this,r);var o=a,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],u=new ua;u.setAttribute("position",new Zi(s,3)),u.computeBoundingSphere(),(n=t.call(this,u,new Iu({color:o,toneMapped:!1}))).type="PlaneHelper",n.plane=e,n.size=i;var l=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],c=new ua;return c.setAttribute("position",new Zi(l,3)),c.computeBoundingSphere(),n.add(new Ma(c,new Fi({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),n}return v(r,[{key:"updateMatrixWorld",value:function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?C:A,this.lookAt(this.plane.normal),s(o(r.prototype),"updateMatrixWorld",this).call(this,e)}}]),r}(Uu),Nf=new dn,Ff=function(e){c(r,e);var t=d(r);function r(e,n,i,a,o,s){var u;return Object(p.a)(this,r),(u=t.call(this)).type="ArrowHelper",void 0===e&&(e=new dn(0,0,1)),void 0===n&&(n=new dn(0,0,0)),void 0===i&&(i=1),void 0===a&&(a=16776960),void 0===o&&(o=.2*i),void 0===s&&(s=.2*o),void 0===Of&&((Of=new ua).setAttribute("position",new Zi([0,0,0,0,1,0],3)),(kf=new cl(0,.5,1,5,1)).translate(0,-.5,0)),u.position.copy(n),u.line=new Uu(Of,new Iu({color:a,toneMapped:!1})),u.line.matrixAutoUpdate=!1,u.add(u.line),u.cone=new Ma(kf,new Fi({color:a,toneMapped:!1})),u.cone.matrixAutoUpdate=!1,u.add(u.cone),u.setDirection(e),u.setLength(i,o,s),u}return v(r,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Nf.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Nf,t)}}},{key:"setLength",value:function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return s(o(r.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),r}(hi),zf=function(e){c(r,e);var t=d(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(p.a)(this,r);var i=[0,0,0,n,0,0,0,0,0,0,n,0,0,0,0,0,0,n],a=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new ua;o.setAttribute("position",new Zi(i,3)),o.setAttribute("color",new Zi(a,3));var s=new Iu({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,s)).type="AxesHelper",e}return r}(Gu),Bf=new Float32Array(1),Uf=new Int32Array(Bf.buffer),jf={toHalfFloat:function(e){Bf[0]=e;var t=Uf[0],r=t>>16&32768,n=t>>12&2047,i=t>>23&255;return i<103?r:i>142?(r|=31744,r|=(255==i?0:1)&&8388607&t):i<113?r|=((n|=2048)>>114-i)+(n>>113-i&1):(r|=i-112<<10|n>>1,r+=1&n)}},Hf=Math.pow(2,8),Gf=[.125,.215,.35,.446,.526,.582],Vf=5+Gf.length,Wf=20,Xf=(f={},Object(u.a)(f,cr,0),Object(u.a)(f,hr,1),Object(u.a)(f,fr,2),Object(u.a)(f,mr,3),Object(u.a)(f,vr,4),Object(u.a)(f,gr,5),Object(u.a)(f,dr,6),f),Yf=new jh,qf=ip(),Zf=qf._lodPlanes,Jf=qf._sizeLods,Qf=qf._sigmas,Kf=null,$f=(1+Math.sqrt(5))/2,ep=1/$f,tp=[new dn(1,1,1),new dn(-1,1,1),new dn(1,1,-1),new dn(-1,1,-1),new dn(0,$f,ep),new dn(0,$f,-ep),new dn(ep,0,$f),new dn(-ep,0,$f),new dn($f,ep,0),new dn(-$f,ep,0)],rp=function(){function e(t){Object(p.a)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(e){var t=new Float32Array(e),r=new dn(0,1,0);return new Ac({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r},inputEncoding:{value:Xf[cr]},outputEncoding:{value:Xf[cr]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:L,depthTest:!1,depthWrite:!1})}(Wf),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return v(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Kf=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,r,n,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=up(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=sp(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<Zf.length;e++)Zf[e].dispose()}},{key:"_cleanup",value:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Kf),e.scissorTest=!1,op(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e){Kf=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(e){var t={magFilter:Ae,minFilter:Ae,generateMipmaps:!1,type:ze,format:tt,encoding:np(e)?e.encoding:fr,depthBuffer:!1},r=ap(t);return r.depthBuffer=!e,this._pingPongRenderTarget=ap(t),r}},{key:"_compileMaterial",value:function(e){var t=new Ma(Zf[0],e);this._renderer.compile(t,Yf)}},{key:"_sceneToCubeUV",value:function(e,t,r,n){var i=new Da(90,1,t,r),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.outputEncoding,l=s.toneMapping,c=s.getClearColor(),h=s.getClearAlpha();s.toneMapping=de,s.outputEncoding=cr;var d=e.background;if(d&&d.isColor){d.convertSRGBToLinear();var f=Math.max(d.r,d.g,d.b),p=Math.min(Math.max(Math.ceil(Math.log2(f)),-128),127);d=d.multiplyScalar(Math.pow(2,-p));var m=(p+128)/255;s.setClearColor(d,m),e.background=null}for(var v=0;v<6;v++){var g=v%3;0==g?(i.up.set(0,a[v],0),i.lookAt(o[v],0,0)):1==g?(i.up.set(0,0,a[v]),i.lookAt(0,o[v],0)):(i.up.set(0,a[v],0),i.lookAt(0,0,o[v])),op(n,g*Hf,v>2?Hf:0,Hf,Hf),s.setRenderTarget(n),s.render(e,i)}s.toneMapping=l,s.outputEncoding=u,s.setClearColor(c,h)}},{key:"_textureToCubeUV",value:function(e,t){var r=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=up()):null==this._equirectShader&&(this._equirectShader=sp());var n=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new Ma(Zf[0],n),a=n.uniforms;a.envMap.value=e,e.isCubeTexture||a.texelSize.value.set(1/e.image.width,1/e.image.height),a.inputEncoding.value=Xf[e.encoding],a.outputEncoding.value=Xf[t.texture.encoding],op(t,0,0,3*Hf,2*Hf),r.setRenderTarget(t),r.render(i,Yf)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,r=t.autoClear;t.autoClear=!1;for(var n=1;n<Vf;n++){var i=Math.sqrt(Qf[n]*Qf[n]-Qf[n-1]*Qf[n-1]),a=tp[(n-1)%tp.length];this._blur(e,n-1,n,i,a)}t.autoClear=r}},{key:"_blur",value:function(e,t,r,n,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,n,"latitudinal",i),this._halfBlur(a,e,r,r,n,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,r,n,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new Ma(Zf[n],u),c=u.uniforms,h=Jf[r]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):Wf;p>Wf&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Wf));for(var m=[],v=0,g=0;g<Wf;++g){var y=g/f,b=Math.exp(-y*y/2);m.push(b),0==g?v+=b:g<p&&(v+=2*b)}for(var _=0;_<m.length;_++)m[_]=m[_]/v;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o),c.dTheta.value=d,c.mipInt.value=8-r,c.inputEncoding.value=Xf[e.texture.encoding],c.outputEncoding.value=Xf[e.texture.encoding];var x=Jf[n];op(t,3*Math.max(0,Hf-2*x),(0===n?0:2*Hf)+2*x*(n>4?n-8+4:0),3*x,2*x),s.setRenderTarget(t),s.render(l,Yf)}}]),e}();function np(e){return void 0!==e&&e.type===ze&&(e.encoding===cr||e.encoding===hr||e.encoding===dr)}function ip(){for(var e=[],t=[],r=[],n=8,i=0;i<Vf;i++){var a=Math.pow(2,n);t.push(a);var o=1/a;i>4?o=Gf[i-8+4-1]:0==i&&(o=0),r.push(o);for(var s=1/(a-1),u=-s/2,l=1+s/2,c=[u,u,l,u,l,l,u,u,l,l,u,l],h=new Float32Array(108),d=new Float32Array(72),f=new Float32Array(36),p=0;p<6;p++){var m=p%3*2/3-1,v=p>2?0:-1,g=[m,v,0,m+2/3,v,0,m+2/3,v+1,0,m,v,0,m+2/3,v+1,0,m,v+1,0];h.set(g,18*p),d.set(c,12*p);var y=[p,p,p,p,p,p];f.set(y,6*p)}var b=new ua;b.setAttribute("position",new Ui(h,3)),b.setAttribute("uv",new Ui(d,2)),b.setAttribute("faceIndex",new Ui(f,1)),e.push(b),n>4&&n--}return{_lodPlanes:e,_sizeLods:t,_sigmas:r}}function ap(e){var t=new ln(3*Hf,3*Hf,e);return t.texture.mapping=Te,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function op(e,t,r,n,i){e.viewport.set(t,r,n,i),e.scissor.set(t,r,n,i)}function sp(){return new Ac({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new tn(1,1)},inputEncoding:{value:Xf[cr]},outputEncoding:{value:Xf[cr]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:L,depthTest:!1,depthWrite:!1})}function up(){return new Ac({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Xf[cr]},outputEncoding:{value:Xf[cr]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:L,depthTest:!1,depthWrite:!1})}function lp(e,t,r,n,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Ii(e,t,r,i,a,o)}var cp=0,hp=1,dp=0,fp=1,pp=2;function mp(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function vp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function gp(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ju(e,t)}function yp(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new bu(e)}function bp(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ju(e,t)}function _p(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Wu(e)}function xp(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Wu(e)}function wp(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Wu(e)}function Tp(e,t,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new dn(e,t,r)}function Sp(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Ui(e,t).setUsage(Br)}function Ep(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ji(e,t)}function Mp(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Hi(e,t)}function Pp(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Gi(e,t)}function Ap(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Vi(e,t)}function Cp(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Wi(e,t)}function Op(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Xi(e,t)}function kp(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Yi(e,t)}function Rp(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Zi(e,t)}function Lp(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ji(e,t)}function Ip(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),bh.call(this,e),this.type="catmullrom",this.closed=!0}function Dp(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),bh.call(this,e),this.type="catmullrom"}function Np(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),bh.call(this,e),this.type="catmullrom"}function Fp(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new zf(e)}function zp(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Lf(e,t)}function Bp(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Gu(new xl(e.geometry),new Iu({color:void 0!==t?t:16777215}))}function Up(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Gu(new Ec(e.geometry),new Iu({color:void 0!==t?t:16777215}))}function jp(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ih(e)}function Hp(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new lh(e)}function Gp(e,t,r){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Ba(e,r)}hh.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(hh.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(kh.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new ol,r=0,n=e.length;r<n;r++){var i=e[r];t.vertices.push(new dn(i.x,i.y,i.z||0))}return t}}),Object.assign(Rh.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Ip.prototype=Object.create(bh.prototype),Dp.prototype=Object.create(bh.prototype),Np.prototype=Object.create(bh.prototype),Object.assign(Np.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),_f.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},ff.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(rh.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Zh.extractUrlBase(e)}}),rh.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(rf.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(mn.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(kn.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Ga.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},of.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(en,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),en.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),en.ceilPowerOfTwo(e)}}),Object.assign(rn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),Object.assign(Un.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new dn).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,r,n,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,i,a)},getInverse:function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),mi.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Object.assign(hn.prototype,{multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(Bn.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Mi.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Mi,{barycoordFromPoint:function(e,t,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Mi.getBarycoord(e,t,r,n,i)},normal:function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Mi.getNormal(e,t,r,n)}}),Object.assign(Lh.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Kl(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new dc(this,e)}}),Object.assign(tn.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(dn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(un.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ol.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(hi.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(hi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Ma.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Ma.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),sr},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Tu.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Au.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Su.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(hh.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Da.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Ih.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Ui.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Br},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Br)}}}),Object.assign(Ui.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Br:zr),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(ua.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Ui(arguments[1],arguments[2])))},addDrawCall:function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(ua.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Jh.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(Jd.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(ru.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Br},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(ru.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Br:zr),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Jl.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(tu.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Yd.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Ni.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Li}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===k}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(kc.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Oc.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(La.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Qs.prototype,{clearTarget:function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Qs.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?hr:cr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Hs.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ln.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Sd.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new hd).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Od.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Fa.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},Fa.prototype.clear=function(e,t,r,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,r,n)};var Vp={merge:function(e,t,r){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),n=t.matrix,t=t.geometry),e.merge(t,n,r)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function Wp(){console.error("THREE.CanvasRenderer has been removed")}function Xp(){console.error("THREE.JSONLoader has been removed.")}nn.crossOrigin=void 0,nn.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ch;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,r,void 0,n);return t&&(a.mapping=t),a},nn.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new uh;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,r,void 0,n);return t&&(a.mapping=t),a},nn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},nn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Yp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function qp(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:g}}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return a}));var n=r(2),i=r(23),a=n.w.registerPlugin(i.a)||n.w;a.core.Tween},function(e,t,r){"use strict";r.r(t),r.d(t,"utils",(function(){return n})),r.d(t,"AccessibilityManager",(function(){return pt})),r.d(t,"accessibleTarget",(function(){return dt})),r.d(t,"InteractionData",(function(){return yt})),r.d(t,"InteractionEvent",(function(){return _t})),r.d(t,"InteractionManager",(function(){return Et})),r.d(t,"InteractionTrackingData",(function(){return xt})),r.d(t,"interactiveTarget",(function(){return Tt})),r.d(t,"Application",(function(){return Bn})),r.d(t,"AbstractBatchRenderer",(function(){return Rn})),r.d(t,"AbstractRenderer",(function(){return Sn})),r.d(t,"Attribute",(function(){return tr})),r.d(t,"BaseRenderTexture",(function(){return qt})),r.d(t,"BaseTexture",(function(){return It})),r.d(t,"BatchDrawCall",(function(){return Cn})),r.d(t,"BatchGeometry",(function(){return In})),r.d(t,"BatchPluginFactory",(function(){return Fn})),r.d(t,"BatchRenderer",(function(){return zn})),r.d(t,"BatchShaderGenerator",(function(){return Ln})),r.d(t,"BatchTextureArray",(function(){return On})),r.d(t,"Buffer",(function(){return nr})),r.d(t,"Filter",(function(){return $r})),r.d(t,"FilterState",(function(){return pr})),r.d(t,"Framebuffer",(function(){return Yt})),r.d(t,"GLFramebuffer",(function(){return _r})),r.d(t,"GLProgram",(function(){return pn})),r.d(t,"GLTexture",(function(){return _n})),r.d(t,"Geometry",(function(){return lr})),r.d(t,"IGLUniformData",(function(){return fn})),r.d(t,"MaskData",(function(){return Mr})),r.d(t,"ObjectRenderer",(function(){return vr})),r.d(t,"Program",(function(){return Jr})),r.d(t,"Quad",(function(){return cr})),r.d(t,"QuadUv",(function(){return hr})),r.d(t,"RenderTexture",(function(){return $t})),r.d(t,"RenderTexturePool",(function(){return er})),r.d(t,"Renderer",(function(){return En})),r.d(t,"Shader",(function(){return Qr})),r.d(t,"SpriteMaskFilter",(function(){return rn})),r.d(t,"State",(function(){return Kr})),r.d(t,"System",(function(){return Wt})),r.d(t,"Texture",(function(){return Qt})),r.d(t,"TextureMatrix",(function(){return tn})),r.d(t,"TextureUvs",(function(){return Zt})),r.d(t,"UniformGroup",(function(){return fr})),r.d(t,"ViewableBuffer",(function(){return kn})),r.d(t,"autoDetectRenderer",(function(){return Mn})),r.d(t,"checkMaxIfStatementsInShader",(function(){return Yr})),r.d(t,"defaultFilterVertex",(function(){return An})),r.d(t,"defaultVertex",(function(){return Pn})),r.d(t,"resources",(function(){return Vt})),r.d(t,"systems",(function(){return wn})),r.d(t,"uniformParsers",(function(){return jr})),r.d(t,"Extract",(function(){return Hn})),r.d(t,"AppLoaderPlugin",(function(){return pi})),r.d(t,"Loader",(function(){return fi})),r.d(t,"LoaderResource",(function(){return ci})),r.d(t,"TextureLoader",(function(){return di})),r.d(t,"ParticleContainer",(function(){return bi})),r.d(t,"ParticleRenderer",(function(){return xi})),r.d(t,"BasePrepare",(function(){return Sa})),r.d(t,"CountLimiter",(function(){return va})),r.d(t,"Prepare",(function(){return Aa})),r.d(t,"TimeLimiter",(function(){return Ca})),r.d(t,"Spritesheet",(function(){return Oa})),r.d(t,"SpritesheetLoader",(function(){return ka})),r.d(t,"TilingSprite",(function(){return Da})),r.d(t,"TilingSpriteRenderer",(function(){return za})),r.d(t,"BitmapFont",(function(){return ro})),r.d(t,"BitmapFontData",(function(){return qa})),r.d(t,"BitmapFontLoader",(function(){return oo})),r.d(t,"BitmapText",(function(){return ao})),r.d(t,"Ticker",(function(){return vt})),r.d(t,"TickerPlugin",(function(){return gt})),r.d(t,"UPDATE_PRIORITY",(function(){return ft})),r.d(t,"ALPHA_MODES",(function(){return U})),r.d(t,"BLEND_MODES",(function(){return R})),r.d(t,"BUFFER_BITS",(function(){return k})),r.d(t,"CLEAR_MODES",(function(){return j})),r.d(t,"DRAW_MODES",(function(){return L})),r.d(t,"ENV",(function(){return C})),r.d(t,"FORMATS",(function(){return I})),r.d(t,"GC_MODES",(function(){return H})),r.d(t,"MASK_TYPES",(function(){return V})),r.d(t,"MIPMAP_MODES",(function(){return B})),r.d(t,"MSAA_QUALITY",(function(){return W})),r.d(t,"PRECISION",(function(){return G})),r.d(t,"RENDERER_TYPE",(function(){return O})),r.d(t,"SCALE_MODES",(function(){return F})),r.d(t,"TARGETS",(function(){return D})),r.d(t,"TYPES",(function(){return N})),r.d(t,"WRAP_MODES",(function(){return z})),r.d(t,"Bounds",(function(){return at})),r.d(t,"Container",(function(){return ht})),r.d(t,"DisplayObject",(function(){return ut})),r.d(t,"TemporaryDisplayObject",(function(){return lt})),r.d(t,"FillStyle",(function(){return Ti})),r.d(t,"GRAPHICS_CURVES",(function(){return wi})),r.d(t,"Graphics",(function(){return Ki})),r.d(t,"GraphicsData",(function(){return Wi})),r.d(t,"GraphicsGeometry",(function(){return qi})),r.d(t,"LINE_CAP",(function(){return yi})),r.d(t,"LINE_JOIN",(function(){return gi})),r.d(t,"LineStyle",(function(){return Zi})),r.d(t,"graphicsUtils",(function(){return Vi})),r.d(t,"Circle",(function(){return Ge})),r.d(t,"DEG_TO_RAD",(function(){return je})),r.d(t,"Ellipse",(function(){return Ve})),r.d(t,"Matrix",(function(){return Ze})),r.d(t,"ObservablePoint",(function(){return qe})),r.d(t,"PI_2",(function(){return Be})),r.d(t,"Point",(function(){return Ye})),r.d(t,"Polygon",(function(){return We})),r.d(t,"RAD_TO_DEG",(function(){return Ue})),r.d(t,"Rectangle",(function(){return He})),r.d(t,"RoundedRectangle",(function(){return Xe})),r.d(t,"SHAPES",(function(){return ze})),r.d(t,"Transform",(function(){return it})),r.d(t,"groupD8",(function(){return nt})),r.d(t,"Mesh",(function(){return Va})),r.d(t,"MeshBatchUvs",(function(){return ja})),r.d(t,"MeshGeometry",(function(){return Xa})),r.d(t,"MeshMaterial",(function(){return Wa})),r.d(t,"NineSlicePlane",(function(){return Jo})),r.d(t,"PlaneGeometry",(function(){return Wo})),r.d(t,"RopeGeometry",(function(){return Xo})),r.d(t,"SimpleMesh",(function(){return Zo})),r.d(t,"SimplePlane",(function(){return qo})),r.d(t,"SimpleRope",(function(){return Yo})),r.d(t,"Runner",(function(){return Mt})),r.d(t,"Sprite",(function(){return na})),r.d(t,"AnimatedSprite",(function(){return Ko})),r.d(t,"TEXT_GRADIENT",(function(){return ea})),r.d(t,"Text",(function(){return pa})),r.d(t,"TextMetrics",(function(){return ha})),r.d(t,"TextStyle",(function(){return sa})),r.d(t,"isMobile",(function(){return A})),r.d(t,"settings",(function(){return X})),r.d(t,"VERSION",(function(){return ns})),r.d(t,"filters",(function(){return is})),r.d(t,"useDeprecated",(function(){return rs}));var n={};r.r(n),r.d(n,"isMobile",(function(){return A})),r.d(n,"EventEmitter",(function(){return q.a})),r.d(n,"earcut",(function(){return J.a})),r.d(n,"url",(function(){return K.a})),r.d(n,"BaseTextureCache",(function(){return Ae})),r.d(n,"CanvasRenderTarget",(function(){return ke})),r.d(n,"DATA_URI",(function(){return Ie})),r.d(n,"ProgramCache",(function(){return Me})),r.d(n,"TextureCache",(function(){return Pe})),r.d(n,"clearTextureCache",(function(){return Oe})),r.d(n,"correctBlendMode",(function(){return le})),r.d(n,"createIndicesForQuads",(function(){return fe})),r.d(n,"decomposeDataUri",(function(){return De})),r.d(n,"deprecation",(function(){return Ee})),r.d(n,"destroyTextureCache",(function(){return Ce})),r.d(n,"determineCrossOrigin",(function(){return Ne})),r.d(n,"getBufferType",(function(){return pe})),r.d(n,"getResolutionOfUrl",(function(){return Fe})),r.d(n,"hex2rgb",(function(){return ie})),r.d(n,"hex2string",(function(){return ae})),r.d(n,"interleaveTypedArrays",(function(){return ve})),r.d(n,"isPow2",(function(){return ye})),r.d(n,"isWebGLSupported",(function(){return ne})),r.d(n,"log2",(function(){return be})),r.d(n,"nextPow2",(function(){return ge})),r.d(n,"premultiplyBlendMode",(function(){return ue})),r.d(n,"premultiplyRgba",(function(){return ce})),r.d(n,"premultiplyTint",(function(){return he})),r.d(n,"premultiplyTintToRgba",(function(){return de})),r.d(n,"removeItems",(function(){return _e})),r.d(n,"rgb2hex",(function(){return se})),r.d(n,"sayHello",(function(){return re})),r.d(n,"sign",(function(){return xe})),r.d(n,"skipHello",(function(){return te})),r.d(n,"string2hex",(function(){return oe})),r.d(n,"trimCanvas",(function(){return Re})),r.d(n,"uid",(function(){return Te}));var i=r(58),a=r(19),o=r.n(a);window.Promise||(window.Promise=i.Polyfill),Object.assign||(Object.assign=o.a);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var s=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-s}}for(var u=Date.now(),l=["ms","moz","webkit","o"],c=0;c<l.length&&!window.requestAnimationFrame;++c){var h=l[c];window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(e){if("function"!==typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),r=16+u-t;return r<0&&(r=0),u=t,window.setTimeout((function(){u=Date.now(),e(performance.now())}),r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var d=/iPhone/i,f=/iPod/i,p=/iPad/i,m=/\biOS-universal(?:.+)Mac\b/i,v=/\bAndroid(?:.+)Mobile\b/i,g=/Android/i,y=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,b=/Silk/i,_=/Windows Phone/i,x=/\bWindows(?:.+)ARM\b/i,w=/BlackBerry/i,T=/BB10/i,S=/Opera Mini/i,E=/\b(CriOS|Chrome)(?:.+)Mobile/i,M=/Mobile(?:.+)Firefox\b/i,P=function(e){return"undefined"!==typeof e&&"MacIntel"===e.platform&&"number"===typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"===typeof MSStream};var A=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"===typeof navigator?"string"===typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,n=r.split("[FBAN");"undefined"!==typeof n[1]&&(r=n[0]),"undefined"!==typeof(n=r.split("Twitter"))[1]&&(r=n[0]);var i=function(e){return function(t){return t.test(e)}}(r),a={apple:{phone:i(d)&&!i(_),ipod:i(f),tablet:!i(d)&&(i(p)||P(t))&&!i(_),universal:i(m),device:(i(d)||i(f)||i(p)||i(m)||P(t))&&!i(_)},amazon:{phone:i(y),tablet:!i(y)&&i(b),device:i(y)||i(b)},android:{phone:!i(_)&&i(y)||!i(_)&&i(v),tablet:!i(_)&&!i(y)&&!i(v)&&(i(b)||i(g)),device:!i(_)&&(i(y)||i(b)||i(v)||i(g))||i(/\bokhttp\b/i)},windows:{phone:i(_),tablet:i(x),device:i(_)||i(x)},other:{blackberry:i(w),blackberry10:i(T),opera:i(S),firefox:i(M),chrome:i(E),device:i(w)||i(T)||i(S)||i(M)||i(E)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}(window.navigator);var C,O,k,R,L,I,D,N,F,z,B,U,j,H,G,V,W,X={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(e){var t=!0;if(A.tablet||A.phone){var r;if(A.apple.device)if(r=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(r[1],10)<11&&(t=!1);if(A.android.device)if(r=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(r[1],10)<7&&(t=!1)}return t?e:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:A.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!A.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Y=r(49),q=r.n(Y),Z=r(50),J=r.n(Z),Q=r(20),K=r.n(Q);!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(C||(C={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(O||(O={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(k||(k={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(R||(R={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(L||(L={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(I||(I={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(D||(D={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(N||(N={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(F||(F={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(z||(z={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"}(B||(B={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(U||(U={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(j||(j={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(H||(H={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(G||(G={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(V||(V={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(W||(W={})),X.RETINA_PREFIX=/@([0-9\.]+)x/,X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var $,ee=!1;function te(){ee=!0}function re(e){var t;if(!ee){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 5.3.8 - \u2730 "+e+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=window.console).log.apply(t,r)}else window.console&&window.console.log("PixiJS 5.3.8 - "+e+" - http://www.pixijs.com/");ee=!0}}function ne(){return"undefined"===typeof $&&($=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(a){return!1}}()),$}function ie(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function ae(e){var t=e.toString(16);return"#"+(t="000000".substr(0,6-t.length)+t)}function oe(e){return"string"===typeof e&&"#"===e[0]&&(e=e.substr(1)),parseInt(e,16)}function se(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)}var ue=function(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[R.NORMAL_NPM]=R.NORMAL,e[R.ADD_NPM]=R.ADD,e[R.SCREEN_NPM]=R.SCREEN,t[R.NORMAL]=R.NORMAL_NPM,t[R.ADD]=R.ADD_NPM,t[R.SCREEN]=R.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n}();function le(e,t){return ue[t?1:0][e]}function ce(e,t,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function he(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=e>>16&255,n=e>>8&255,i=255&e;return(255*t<<24)+((r=r*t+.5|0)<<16)+((n=n*t+.5|0)<<8)+(i=i*t+.5|0)}function de(e,t,r,n){return(r=r||new Float32Array(4))[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(255&e)/255,(n||void 0===n)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function fe(e,t){void 0===t&&(t=null);var r=6*e;if((t=t||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function pe(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var me={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function ve(e,t){for(var r=0,n=0,i={},a=0;a<e.length;a++)n+=t[a],r+=e[a].length;var o=new ArrayBuffer(4*r),s=null,u=0;for(a=0;a<e.length;a++){var l=t[a],c=e[a],h=pe(c);i[h]||(i[h]=new me[h](o)),s=i[h];for(var d=0;d<c.length;d++){s[(d/l|0)*n+u+d%l]=c[d]}u+=l}return new Float32Array(o)}function ge(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function ye(e){return!(e&e-1)&&!!e}function be(e){var t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return t|=r,t|=r=((e>>>=r)>15?1:0)<<2,(t|=r=((e>>>=r)>3?1:0)<<1)|(e>>>=r)>>1}function _e(e,t,r){var n,i=e.length;if(!(t>=i||0===r)){var a=i-(r=t+r>i?i-t:r);for(n=t;n<a;++n)e[n]=e[n+r];e.length=a}}function xe(e){return 0===e?0:e<0?-1:1}var we=0;function Te(){return++we}var Se={};function Ee(e,t,r){if(void 0===r&&(r=3),!Se[t]){var n=(new Error).stack;"undefined"===typeof n?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(n))),Se[t]=!0}}var Me={},Pe=Object.create(null),Ae=Object.create(null);function Ce(){var e;for(e in Pe)Pe[e].destroy();for(e in Ae)Ae[e].destroy()}function Oe(){var e;for(e in Pe)delete Pe[e];for(e in Ae)delete Ae[e]}var ke=function(){function e(e,t,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||X.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),e}();function Re(e){var t,r,n,i=e.width,a=e.height,o=e.getContext("2d"),s=o.getImageData(0,0,i,a).data,u=s.length,l={top:null,left:null,right:null,bottom:null},c=null;for(t=0;t<u;t+=4)0!==s[t+3]&&(r=t/4%i,n=~~(t/4/i),null===l.top&&(l.top=n),(null===l.left||r<l.left)&&(l.left=r),(null===l.right||l.right<r)&&(l.right=r+1),(null===l.bottom||l.bottom<n)&&(l.bottom=n));return null!==l.top&&(i=l.right-l.left,a=l.bottom-l.top+1,c=o.getImageData(l.left,l.top,i,a)),{height:a,width:i,data:c}}var Le,Ie=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function De(e){var t=Ie.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function Ne(e,t){if(void 0===t&&(t=window.location),0===e.indexOf("data:"))return"";t=t||window.location,Le||(Le=document.createElement("a")),Le.href=e;var r=Object(Q.parse)(Le.href),n=!r.port&&""===t.port||r.port===t.port;return r.hostname===t.hostname&&n&&r.protocol===t.protocol?"":"anonymous"}function Fe(e,t){var r=X.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):void 0!==t?t:1}var ze,Be=2*Math.PI,Ue=180/Math.PI,je=Math.PI/180;!function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"}(ze||(ze={}));var He=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(n),this.type=ze.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=n,this.height=Math.max(i-n,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var r=Math.ceil((this.x+this.width-t)*e)/e,n=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=n-this.y,this},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=n,this.height=i-n,this},e}(),Ge=function(){function e(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.x=e,this.y=t,this.radius=r,this.type=ze.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-e,i=this.y-t;return(n*=n)+(i*=i)<=r},e.prototype.getBounds=function(){return new He(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}(),Ve=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=e,this.y=t,this.width=r,this.height=n,this.type=ze.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=(e-this.x)/this.width,n=(t-this.y)/this.height;return(r*=r)+(n*=n)<=1},e.prototype.getBounds=function(){return new He(this.x-this.width,this.y-this.height,this.width,this.height)},e}(),We=function(){function e(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];var n=Array.isArray(t[0])?t[0]:t;if("number"!==typeof n[0]){for(var i=[],a=0,o=n.length;a<o;a++)i.push(n[a].x,n[a].y);n=i}this.points=n,this.type=ze.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t},e.prototype.contains=function(e,t){for(var r=!1,n=this.points.length/2,i=0,a=n-1;i<n;a=i++){var o=this.points[2*i],s=this.points[2*i+1],u=this.points[2*a],l=this.points[2*a+1];s>t!==l>t&&e<(t-s)/(l-s)*(u-o)+o&&(r=!r)}return r},e}(),Xe=function(){function e(e,t,r,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=20),this.x=e,this.y=t,this.width=r,this.height=n,this.radius=i,this.type=ze.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var r=e-(this.x+this.radius),n=t-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=e-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=t-(this.y+this.height-this.radius))*n<=i)return!0;if((r=e-(this.x+this.radius))*r+n*n<=i)return!0}return!1},e}(),Ye=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e}(),qe=function(){function e(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0),this._x=r,this._y=n,this.cb=e,this.scope=t}return e.prototype.clone=function(t,r){return void 0===t&&(t=this.cb),void 0===r&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Ze=function(){function e(e,t,r,n,i,a){void 0===e&&(e=1),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===a&&(a=0),this.array=null,this.a=e,this.b=t,this.c=r,this.d=n,this.tx=i,this.ty=a}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,r,n,i,a){return this.a=e,this.b=t,this.c=r,this.d=n,this.tx=i,this.ty=a,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(e,t){t=t||new Ye;var r=e.x,n=e.y;return t.x=this.a*r+this.c*n+this.tx,t.y=this.b*r+this.d*n+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new Ye;var r=1/(this.a*this.d+this.c*-this.b),n=e.x,i=e.y;return t.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),n=this.a,i=this.c,a=this.tx;return this.a=n*t-this.b*r,this.b=n*r+this.b*t,this.c=i*t-this.d*r,this.d=i*r+this.d*t,this.tx=a*t-this.ty*r,this.ty=a*r+this.ty*t,this},e.prototype.append=function(e){var t=this.a,r=this.b,n=this.c,i=this.d;return this.a=e.a*t+e.b*n,this.b=e.a*r+e.b*i,this.c=e.c*t+e.d*n,this.d=e.c*r+e.d*i,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*r+e.ty*i+this.ty,this},e.prototype.setTransform=function(e,t,r,n,i,a,o,s,u){return this.a=Math.cos(o+u)*i,this.b=Math.sin(o+u)*i,this.c=-Math.sin(o-s)*a,this.d=Math.cos(o-s)*a,this.tx=e-(r*this.a+n*this.c),this.ty=t-(r*this.b+n*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var r=this.a,n=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,r=this.b,n=this.c,i=this.d,a=-Math.atan2(-n,i),o=Math.atan2(r,t),s=Math.abs(a+o);return s<1e-5||Math.abs(Be-s)<1e-5?(e.rotation=o,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=o),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(n*n+i*i),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,n=this.d,i=this.tx,a=e*n-t*r;return this.a=n/a,this.b=-t/a,this.c=-r/a,this.d=e/a,this.tx=(r*this.ty-n*i)/a,this.ty=-(e*this.ty-t*i)/a,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),Je=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Qe=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ke=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],$e=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],et=[],tt=[],rt=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];et.push(t);for(var r=0;r<16;r++)for(var n=rt(Je[e]*Je[r]+Ke[e]*Qe[r]),i=rt(Qe[e]*Je[r]+$e[e]*Qe[r]),a=rt(Je[e]*Ke[r]+Ke[e]*$e[r]),o=rt(Qe[e]*Ke[r]+$e[e]*$e[r]),s=0;s<16;s++)if(Je[s]===n&&Qe[s]===i&&Ke[s]===a&&$e[s]===o){t.push(s);break}}for(e=0;e<16;e++){var u=new Ze;u.set(Je[e],Qe[e],Ke[e],$e[e],0,0),tt.push(u)}}();var nt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return Je[e]},uY:function(e){return Qe[e]},vX:function(e){return Ke[e]},vY:function(e){return $e[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return et[e][t]},sub:function(e,t){return et[e][nt.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?nt.S:nt.N:2*Math.abs(t)<=Math.abs(e)?e>0?nt.E:nt.W:t>0?e>0?nt.SE:nt.SW:e>0?nt.NE:nt.NW},matrixAppendRotationInv:function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=tt[nt.inv(t)];i.tx=r,i.ty=n,e.append(i)}},it=function(){function e(){this.worldTransform=new Ze,this.localTransform=new Ze,this.position=new qe(this.onChange,this,0,0),this.scale=new qe(this.onChange,this,1,1),this.pivot=new qe(this.onChange,this,0,0),this.skew=new qe(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();X.SORTABLE_CHILDREN=!1;var at=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?He.EMPTY:((e=e||new He(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,n=this.maxX,i=this.maxY,a=e[0],o=e[1];t=a<t?a:t,r=o<r?o:r,n=a>n?a:n,i=o>i?o:i,t=(a=e[2])<t?a:t,r=(o=e[3])<r?o:r,n=a>n?a:n,i=o>i?o:i,t=(a=e[4])<t?a:t,r=(o=e[5])<r?o:r,n=a>n?a:n,i=o>i?o:i,t=(a=e[6])<t?a:t,r=(o=e[7])<r?o:r,n=a>n?a:n,i=o>i?o:i,this.minX=t,this.minY=r,this.maxX=n,this.maxY=i},e.prototype.addFrame=function(e,t,r,n,i){this.addFrameMatrix(e.worldTransform,t,r,n,i)},e.prototype.addFrameMatrix=function(e,t,r,n,i){var a=e.a,o=e.b,s=e.c,u=e.d,l=e.tx,c=e.ty,h=this.minX,d=this.minY,f=this.maxX,p=this.maxY,m=a*t+s*r+l,v=o*t+u*r+c;h=m<h?m:h,d=v<d?v:d,f=m>f?m:f,p=v>p?v:p,h=(m=a*n+s*r+l)<h?m:h,d=(v=o*n+u*r+c)<d?v:d,f=m>f?m:f,p=v>p?v:p,h=(m=a*t+s*i+l)<h?m:h,d=(v=o*t+u*i+c)<d?v:d,f=m>f?m:f,p=v>p?v:p,h=(m=a*n+s*i+l)<h?m:h,d=(v=o*n+u*i+c)<d?v:d,f=m>f?m:f,p=v>p?v:p,this.minX=h,this.minY=d,this.maxX=f,this.maxY=p},e.prototype.addVertexData=function(e,t,r){for(var n=this.minX,i=this.minY,a=this.maxX,o=this.maxY,s=t;s<r;s+=2){var u=e[s],l=e[s+1];n=u<n?u:n,i=l<i?l:i,a=u>a?u:a,o=l>o?l:o}this.minX=n,this.minY=i,this.maxX=a,this.maxY=o},e.prototype.addVertices=function(e,t,r,n){this.addVerticesMatrix(e.worldTransform,t,r,n)},e.prototype.addVerticesMatrix=function(e,t,r,n,i,a){void 0===i&&(i=0),void 0===a&&(a=i);for(var o=e.a,s=e.b,u=e.c,l=e.d,c=e.tx,h=e.ty,d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,v=r;v<n;v+=2){var g=t[v],y=t[v+1],b=o*g+u*y+c,_=l*y+s*g+h;d=Math.min(d,b-i),p=Math.max(p,b+i),f=Math.min(f,_-a),m=Math.max(m,_+a)}this.minX=d,this.minY=f,this.maxX=p,this.maxY=m},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>i?e.maxY:i},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,n=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=i&&n<=a){var o=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=r<o?r:o,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=a>l?a:l}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,n=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=i&&n<=a){var o=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=r<o?r:o,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=a>l?a:l}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,r,n,i,a){e-=i,t-=a,r+=i,n+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>n?this.maxY:n},e}(),ot=function(e,t){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function st(e,t){function r(){this.constructor=e}ot(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var ut=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new it,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new at,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return st(t,e),t.mixin=function(e){for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t.prototype,i,Object.getOwnPropertyDescriptor(e,i))}},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new He),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new He),e=this._localBoundsRect),this._localBounds||(this._localBounds=new at);var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=n,this._bounds.updateID+=this._boundsID-i,a},t.prototype.toGlobal=function(e,t,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,n){return t&&(e=t.toGlobal(e,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,r,n,i,a,o,s,u){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=0),this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=a,this.skew.y=o,this.pivot.x=s,this.pivot.y=u,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new lt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*Ue},set:function(e){this.transform.rotation=e*je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var t;this._mask&&((t=this._mask.maskObject||this._mask).renderable=!0,t.isMask=!1);(this._mask=e,this._mask)&&((t=this._mask.maskObject||this._mask).renderable=!1,t.isMask=!0)},enumerable:!1,configurable:!0}),t}(q.a),lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return st(t,e),t}(ut);function ct(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}ut.prototype.displayObjectUpdateTransform=ut.prototype.updateTransform;var ht=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=X.SORTABLE_CHILDREN,t.sortDirty=!1,t}return st(t,e),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(t.length>1)for(var n=0;n<t.length;n++)this.addChild(t[n]);else{var i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e,this.onChildrenChange(r<n?r:n)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);_e(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(t.length>1)for(var n=0;n<t.length;n++)this.removeChild(t[n]);else{var i=t[0],a=this.children.indexOf(i);if(-1===a)return null;i.parent=null,i.transform._parentID=-1,_e(this.children,a,1),this._boundsID++,this.onChildrenChange(a),i.emit("removed",this),this.emit("childRemoved",i,this,a)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,_e(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var r,n=e,i=t-n;if(i>0&&i<=t){r=this.children.splice(n,i);for(var a=0;a<r.length;++a)r[a].parent=null,r[a].transform&&(r[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(a=0;a<r.length;++a)r[a].emit("removed",this),this.emit("childRemoved",r[a],this,a);return r}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,r=this.children.length;t<r;++t){var n=this.children[t];n._lastSortedIndex=t,e||0===n.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(ct),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var r=t._mask.maskObject||t._mask;r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,r){void 0===r&&(r=!1);var n=e.prototype.getLocalBounds.call(this,t);if(!r)for(var i=0,a=this.children.length;i<a;++i){var o=this.children[i];o.visible&&o.updateTransform()}return n},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){e.batch.flush();var t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<t.length;n++)t[n].enabled&&this._enabledFilters.push(t[n]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}r&&e.mask.push(this,this._mask),this._render(e);n=0;for(var i=this.children.length;n<i;n++)this.children[n].render(e);e.batch.flush(),r&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"===typeof t?t:t&&t.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),t}(ut);ht.prototype.containerUpdateTransform=ht.prototype.updateTransform;var dt={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ut.mixin(dt);var ft,pt=function(){function e(e){this._hookDiv=null,(A.tablet||A.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessability for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}},e.prototype.update=function(){var e=performance.now();if(!(A.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,n=t.width/this.renderer.width*r,i=t.height/this.renderer.height*r,a=this.div;a.style.left=t.left+"px",a.style.top=t.top+"px",a.style.width=this.renderer.width+"px",a.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,_e(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--;else{a=s._accessibleDiv;var u=s.hitArea,l=s.worldTransform;s.hitArea?(a.style.left=(l.tx+u.x*l.a)*n+"px",a.style.top=(l.ty+u.y*l.d)*i+"px",a.style.width=u.width*l.a*n+"px",a.style.height=u.height*l.d*i+"px"):(u=s.getBounds(),this.capHitArea(u),a.style.left=u.x*n+"px",a.style.top=u.y*i+"px",a.style.width=u.width*n+"px",a.style.height=u.height*i+"px",a.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(a.title=s.accessibleTitle),a.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&a.setAttribute("aria-label",s.accessibleHint)),s.accessibleTitle===a.title&&s.tabIndex===a.tabIndex||(a.title=s.accessibleTitle,a.tabIndex=s.tabIndex,this.debug&&this.updateDebugHTML(a))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData),t.dispatchEvent(e.target.displayObject,"pointertap",t.eventData),t.dispatchEvent(e.target.displayObject,"tap",t.eventData)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},e.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();X.TARGET_FPMS=.06,function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"}(ft||(ft={}));var mt=function(){function e(e,t,r,n){void 0===t&&(t=null),void 0===r&&(r=0),void 0===n&&(n=!1),this.fn=e,this.context=t,this.priority=r,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),vt=function(){function e(){var e=this;this._head=new mt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/X.TARGET_FPMS,this.elapsedMS=1/X.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,r){return void 0===r&&(r=ft.NORMAL),this._addListener(new mt(e,t,r))},e.prototype.addOnce=function(e,t,r){return void 0===r&&(r=ft.NORMAL),this._addListener(new mt(e,t,r,!0))},e.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var r=this._head.next;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var r=e-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=e-r%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*X.TARGET_FPMS;for(var n=this._head,i=n.next;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,X.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),gt=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,ft.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?vt.shared:new vt,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e}(),yt=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Ye,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),bt=function(e,t){return(bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var _t=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),xt=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 0!==(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return 0!==(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return 0!==(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),wt=function(){function e(){this._tempPoint=new Ye}return e.prototype.recursiveFindHit=function(e,t,r,n,i){if(!t||!t.visible)return!1;var a=e.data.global,o=!1,s=i=t.interactive||i,u=!0;if(t.hitArea?(n&&(t.worldTransform.applyInverse(a,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(n=!1,u=!1)),s=!1):t._mask&&n&&(t._mask.containsPoint&&t._mask.containsPoint(a)||(n=!1)),u&&t.interactiveChildren&&t.children)for(var l=t.children,c=l.length-1;c>=0;c--){var h=l[c],d=this.recursiveFindHit(e,h,r,n,s);if(d){if(!h.parent)continue;s=!1,d&&(e.target&&(n=!1),o=!0)}}return i&&(n&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(a)&&(o=!0),t.interactive&&(o&&!e.target&&(e.target=t),r&&r(e,t,!!o))),o},e.prototype.findHit=function(e,t,r,n){this.recursiveFindHit(e,t,r,n,!1)},e}(),Tt={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};ut.mixin(Tt);var St={target:null,data:{global:null}},Et=function(e){function t(t,r){var n=e.call(this)||this;return r=r||{},n.renderer=t,n.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,n.interactionFrequency=r.interactionFrequency||10,n.mouse=new yt,n.mouse.identifier=1,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[1]=n.mouse,n.interactionDataPool=[],n.eventData=new _t,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!1,n.supportsTouchEvents="ontouchstart"in window,n.supportsPointerEvents=!!window.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new wt,n._tempDisplayObject=new lt,n._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return function(e,t){function r(){this.constructor=e}bt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,t){return St.target=null,St.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(St,t,null,!0),St.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(vt.system.add(this.tickerUpdate,this,ft.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(vt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(typeof t){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!==typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,r){r.stopPropagationHint&&e!==r.stopsPropagatingAt||(r.currentTarget=e,r.type=t,e.emit(t,r),e[t]&&e[t](r))},t.prototype.delayDispatchEvent=function(e,t,r){this.delayedEvents.push({displayObject:e,eventString:t,eventData:r})},t.prototype.mapPositionToPoint=function(e,t,r){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=1/this.resolution;e.x=(t-n.left)*(this.interactionDOMElement.width/n.width)*i,e.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},t.prototype.processInteractive=function(e,t,r,n){var i=this.search.findHit(e,t,r,n),a=this.delayedEvents;if(!a.length)return i;e.stopPropagationHint=!1;var o=a.length;this.delayedEvents=[];for(var s=0;s<o;s++){var u=a[s],l=u.displayObject,c=u.eventString,h=u.eventData;h.stopsPropagatingAt===l&&(h.stopPropagationHint=!0),this.dispatchEvent(l,c,h)}return i},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var r=t.length,n=0;n<r;n++){var i=t[n],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);if(o.data.originalEvent=e,this.processInteractive(o,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===i.pointerType)this.emit("touchstart",o);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,r){var n=e.data,i=e.data.identifier;if(r)if(t.trackedPointers[i]||(t.trackedPointers[i]=new xt(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===n.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;a?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,a?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,r){for(var n=this.normalizeToPointerData(e),i=n.length,a=e.target!==this.interactionDOMElement?"outside":"",o=0;o<i;o++){var s=n[o],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,r,t||!a),this.emit(t?"pointercancel":"pointerup"+a,l),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+a:"mouseup"+a,l)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+a,l),this.releaseInteractionDataForPointerId(s.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var r=e.data,n=e.data.identifier;void 0!==t.trackedPointers[n]&&(delete t.trackedPointers[n],this.dispatchEvent(t,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,r){var n=e.data,i=e.data.identifier,a=t.trackedPointers[i],o="touch"===n.pointerType,s="mouse"===n.pointerType||"pen"===n.pointerType,u=!1;if(s){var l=2===n.button,c=xt.FLAGS,h=l?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==a&&a.flags&h;r?(this.dispatchEvent(t,l?"rightup":"mouseup",e),d&&(this.dispatchEvent(t,l?"rightclick":"click",e),u=!0)):d&&this.dispatchEvent(t,l?"rightupoutside":"mouseupoutside",e),a&&(l?a.rightDown=!1:a.leftDown=!1)}r?(this.dispatchEvent(t,"pointerup",e),o&&this.dispatchEvent(t,"touchend",e),a&&(s&&!u||this.dispatchEvent(t,"pointertap",e),o&&(this.dispatchEvent(t,"tap",e),a.over=!1))):a&&(this.dispatchEvent(t,"pointerupoutside",e),o&&this.dispatchEvent(t,"touchendoutside",e)),a&&a.none&&delete t.trackedPointers[i]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=t.length,n=0;n<r;n++){var i=t[n],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=e,this.processInteractive(o,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",o),"touch"===i.pointerType&&this.emit("touchmove",o),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",o)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,r){var n=e.data,i="touch"===n.pointerType,a="mouse"===n.pointerType||"pen"===n.pointerType;a&&this.processPointerOverOut(e,t,r),this.moveWhenInside&&!r||(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),a&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(t),n=this.configureInteractionEventForDOMEvent(this.eventData,t,r);n.data.originalEvent=t,this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},t.prototype.processPointerOverOut=function(e,t,r){var n=e.data,i=e.data.identifier,a="mouse"===n.pointerType||"pen"===n.pointerType,o=t.trackedPointers[i];r&&!o&&(o=t.trackedPointers[i]=new xt(i)),void 0!==o&&(r&&this.mouseOverRenderer?(o.over||(o.over=!0,this.delayDispatchEvent(t,"pointerover",e),a&&this.delayDispatchEvent(t,"mouseover",e)),a&&null===this.cursor&&(this.cursor=t.cursor)):o.over&&(o.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),a&&this.dispatchEvent(t,"mouseout",e),o.none&&delete t.trackedPointers[i]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e)[0],r=this.getInteractionDataForPointerId(t),n=this.configureInteractionEventForDOMEvent(this.eventData,t,r);n.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",n)},t.prototype.getInteractionDataForPointerId=function(e){var t,r=e.pointerId;return 1===r||"mouse"===e.pointerType?t=this.mouse:this.activeInteractionData[r]?t=this.activeInteractionData[r]:((t=this.interactionDataPool.pop()||new yt).identifier=r,this.activeInteractionData[r]=t),t.copyEvent(e),t},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,r){return e.data=r,this.mapPositionToPoint(r.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=r.global.x,t.globalY=r.global.y),r.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,n=e.changedTouches.length;r<n;r++){var i=e.changedTouches[r];"undefined"===typeof i.button&&(i.button=e.touches.length?1:0),"undefined"===typeof i.buttons&&(i.buttons=e.touches.length?1:0),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),"undefined"===typeof i.twist&&(i.twist=0),"undefined"===typeof i.tangentialPressure&&(i.tangentialPressure=0),"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else if(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent)t.push(e);else{var a=e;"undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),"undefined"===typeof a.pointerId&&(a.pointerId=1),"undefined"===typeof a.pressure&&(a.pressure=.5),"undefined"===typeof a.twist&&(a.twist=0),"undefined"===typeof a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,t.push(a)}return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(q.a),Mt=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,r,n,i,a,o,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this,l=u.name,c=u.items;this._aliasCount++;for(var h=0,d=c.length;h<d;h++)c[h][l](e,t,r,n,i,a,o,s);return c===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Mt.prototype,{dispatch:{value:Mt.prototype.emit},run:{value:Mt.prototype.emit}}),X.PREFER_ENV=A.any?C.WEBGL:C.WEBGL2,X.STRICT_TEXTURE_CACHE=!1;var Pt=[];function At(e,t){if(!e)return null;var r="";if("string"===typeof e){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(var i=Pt.length-1;i>=0;--i){var a=Pt[i];if(a.test&&a.test(e,r))return new a(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var Ct=function(e,t){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Ot(e,t){function r(){this.constructor=e}Ct(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var kt=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Mt("setRealSize"),this.onUpdate=new Mt("update"),this.onError=new Mt("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,r){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),Rt=function(e){function t(t,r){var n=this,i=r||{},a=i.width,o=i.height;if(!a||!o)throw new Error("BufferResource width or height invalid");return(n=e.call(this,a,o)||this).data=t,n}return Ot(t,e),t.prototype.upload=function(e,t,r){var n=e.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===U.UNPACK),r.width===t.width&&r.height===t.height?n.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(r.width=t.width,r.height=t.height,n.texImage2D(t.target,0,r.internalFormat,t.width,t.height,0,t.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(kt),Lt={scaleMode:F.NEAREST,format:I.RGBA,alphaMode:U.NPM},It=function(e){function t(t,r){void 0===t&&(t=null),void 0===r&&(r=null);var n=e.call(this)||this,i=(r=r||{}).alphaMode,a=r.mipmap,o=r.anisotropicLevel,s=r.scaleMode,u=r.width,l=r.height,c=r.wrapMode,h=r.format,d=r.type,f=r.target,p=r.resolution,m=r.resourceOptions;return!t||t instanceof kt||((t=At(t,m)).internal=!0),n.width=u||0,n.height=l||0,n.resolution=p||X.RESOLUTION,n.mipmap=void 0!==a?a:X.MIPMAP_TEXTURES,n.anisotropicLevel=void 0!==o?o:X.ANISOTROPIC_LEVEL,n.wrapMode=c||X.WRAP_MODE,n.scaleMode=void 0!==s?s:X.SCALE_MODE,n.format=h||I.RGBA,n.type=d||N.UNSIGNED_BYTE,n.target=f||D.TEXTURE_2D,n.alphaMode=void 0!==i?i:U.UNPACK,void 0!==r.premultiplyAlpha&&(n.premultiplyAlpha=r.premultiplyAlpha),n.uid=Te(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=u>0&&l>0,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(t),n}return Ot(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=e,this.height=t,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=e/this.resolution,this.height=t/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=ye(this.realWidth)&&ye(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=this.width*t/e,this.height=this.height*t/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ae[this.cacheId],delete Pe[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,r,n){void 0===n&&(n=X.STRICT_TEXTURE_CACHE);var i="string"===typeof e,a=null;i?a=e:(e._pixiId||(e._pixiId="pixiid_"+Te()),a=e._pixiId);var o=Ae[a];if(i&&n&&!o)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return o||((o=new t(e,r)).cacheId=a,t.addToCache(o,a)),o},t.fromBuffer=function(e,r,n,i){e=e||new Float32Array(r*n*4);var a=new Rt(e,{width:r,height:n}),o=e instanceof Float32Array?N.FLOAT:N.UNSIGNED_BYTE;return new t(a,Object.assign(Lt,i||{width:r,height:n,type:o}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),Ae[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),Ae[t]=e)},t.removeFromCache=function(e){if("string"===typeof e){var t=Ae[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete Ae[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)delete Ae[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(q.a),Dt=function(e){function t(t,r){var n=this,i=r||{},a=i.width,o=i.height;(n=e.call(this,a,o)||this).items=[],n.itemDirtyIds=[];for(var s=0;s<t;s++){var u=new It;n.items.push(u),n.itemDirtyIds.push(-2)}return n.length=t,n._load=null,n.baseTexture=null,n}return Ot(t,e),t.prototype.initFromArray=function(e,t){for(var r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof kt?this.addResourceAt(e[r],r):this.addResourceAt(At(e[r],t),r))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],r=t.realWidth,n=t.realHeight;return e.resize(r,n),Promise.resolve(e)})),this._load},t}(kt),Nt=function(e){function t(t,r){var n,i,a=this,o=r||{},s=o.width,u=o.height;return Array.isArray(t)?(n=t,i=t.length):i=t,a=e.call(this,i,{width:s,height:u})||this,n&&a.initFromArray(n,r),a}return Ot(t,e),t.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=D.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,r){var n=this,i=n.length,a=n.itemDirtyIds,o=n.items,s=e.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,t.format,this._width,this._height,i,0,t.format,t.type,null);for(var u=0;u<i;u++){var l=o[u];a[u]<l.dirtyId&&(a[u]=l.dirtyId,l.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,u,l.resource.width,l.resource.height,1,t.format,t.type,l.resource.source))}return!0},t}(Dt),Ft=function(e){function t(t){var r=this,n=t,i=n.naturalWidth||n.videoWidth||n.width,a=n.naturalHeight||n.videoHeight||n.height;return(r=e.call(this,i,a)||this).source=t,r.noSubImage=!1,r}return Ot(t,e),t.crossOrigin=function(e,t,r){void 0===r&&0!==t.indexOf("data:")?e.crossOrigin=Ne(t):!1!==r&&(e.crossOrigin="string"===typeof r?r:"anonymous")},t.prototype.upload=function(e,t,r,n){var i=e.gl,a=t.realWidth,o=t.realHeight;return n=n||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===U.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||r.width!==a||r.height!==o?(r.width=a,r.height=o,i.texImage2D(t.target,0,t.format,t.format,t.type,n)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,t.type,n),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,r=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(r,n),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(kt),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ot(t,e),t.test=function(e){var t=window.OffscreenCanvas;return!!(t&&e instanceof t)||e instanceof HTMLCanvasElement},t}(Ft),Bt=function(e){function t(r,n){var i=this,a=n||{},o=a.width,s=a.height,u=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=e.call(this,6,{width:o,height:s})||this;for(var c=0;c<t.SIDES;c++)i.items[c].target=D.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=!1!==l,r&&i.initFromArray(r,n),!1!==u&&i.load(),i}return Ot(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=D.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=D.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,r,n){for(var i=this.itemDirtyIds,a=0;a<t.SIDES;a++){var o=this.items[a];i[a]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[a]=o.dirtyId):i[a]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[a]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(Dt),Ut=function(e){function t(t,r){var n=this;if(r=r||{},!(t instanceof HTMLImageElement)){var i=new Image;Ft.crossOrigin(i,t,r.crossorigin),i.src=t,t=i}return n=e.call(this,t)||this,!t.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=t.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==r.createBitmap?r.createBitmap:X.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,n.alphaMode="number"===typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(n.premultiplyAlpha=r.premultiplyAlpha),n.bitmap=null,n._load=null,!1!==r.autoLoad&&n.load(),n}return Ot(t,e),t.prototype.load=function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,r){var n=t.source;t.url=n.src;var i=function(){t.destroyed||(n.onload=null,n.onerror=null,t.resize(n.width,n.height),t._load=null,t.createBitmap?e(t.process()):e(t))};n.complete&&n.src?i():(n.onload=i,n.onerror=function(e){r(e),t.onError.emit(e)})}))),this._load},t.prototype.process=function(){var e=this,t=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(t,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===U.UNPACK?"premultiply":"none"}).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process):Promise.resolve(this)},t.prototype.upload=function(t,r,n){if("number"===typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,r,n,this.bitmap),!this.preserveBitmap){var i=!0,a=r._glTextures;for(var o in a){var s=a[o];if(s!==n&&s.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"===typeof e||e instanceof HTMLImageElement},t}(Ft),jt=function(e){function t(t,r){var n=this;return r=r||{},(n=e.call(this,document.createElement("canvas"))||this)._width=0,n._height=0,n.svg=t,n.scale=r.scale||1,n._overrideWidth=r.width,n._overrideHeight=r.height,n._resolve=null,n._crossorigin=r.crossorigin,n._load=null,!1!==r.autoLoad&&n.load(),n}return Ot(t,e),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise((function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}))),this._load},t.prototype._loadSvg=function(){var e=this,t=new Image;Ft.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(r){e._resolve&&(t.onerror=null,e.onError.emit(r))},t.onload=function(){if(e._resolve){var r=t.width,n=t.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=r*e.scale,a=n*e.scale;(e._overrideWidth||e._overrideHeight)&&(i=e._overrideWidth||e._overrideHeight/n*r,a=e._overrideHeight||e._overrideWidth/r*n),i=Math.round(i),a=Math.round(a);var o=e.source;o.width=i,o.height=a,o._pixiId="canvas_"+Te(),o.getContext("2d").drawImage(t,0,0,r,n,0,0,i,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var r=t.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,t){return"svg"===t||"string"===typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"===typeof e&&0===e.indexOf("<svg")},t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Ft),Ht=function(e){function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),"string"===typeof r&&(r=[r]);var o=r[0].src||r[0];Ft.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var u=document.createElement("source"),l=r[s],c=l.src,h=l.mime,d=(c=c||r[s]).split("?").shift().toLowerCase(),f=d.substr(d.lastIndexOf(".")+1);h=h||t.MIME_TYPES[f]||"video/"+f,u.src=c,u.type=h,a.appendChild(u)}r=a}return(i=e.call(this,r)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==n.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==n.autoLoad&&i.load(),i}return Ot(t,e),t.prototype.update=function(t){if(void 0===t&&(t=0),!this.destroyed){var r=vt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){e.valid?r(e):(e._resolve=r,t.load())})),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(vt.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(vt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&vt.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(vt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(vt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,r){return e instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Ft),Gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ot(t,e),t.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},t}(Ft);Pt.push(Ut,Gt,zt,Ht,jt,Rt,Bt,Nt);var Vt={Resource:kt,BaseImageResource:Ft,INSTALLED:Pt,autoDetectResource:At,AbstractMultiResource:Dt,ArrayResource:Nt,BufferResource:Rt,CanvasResource:zt,CubeResource:Bt,ImageResource:Ut,SVGResource:jt,VideoResource:Ht,ImageBitmapResource:Gt},Wt=function(){function e(e){this.renderer=e}return e.prototype.destroy=function(){this.renderer=null},e}(),Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ot(t,e),t.prototype.upload=function(e,t,r){var n=e.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===U.UNPACK),r.width===t.width&&r.height===t.height?n.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(r.width=t.width,r.height=t.height,n.texImage2D(t.target,0,1===e.context.webGLVersion?n.DEPTH_COMPONENT:n.DEPTH_COMPONENT16,t.width,t.height,0,t.format,t.type,this.data)),!0},t}(Rt),Yt=function(){function e(e,t){this.width=Math.ceil(e||100),this.height=Math.ceil(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Mt("disposeFramebuffer"),this.multisample=W.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new It(null,{scaleMode:F.NEAREST,resolution:1,mipmap:B.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new It(new Xt(null,{width:this.width,height:this.height}),{scaleMode:F.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:B.OFF,format:I.DEPTH_COMPONENT,type:N.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.ceil(e),t=Math.ceil(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var n=this.colorTextures[r],i=n.resolution;n.setSize(e/i,t/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,t/i)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),qt=function(e){function t(t){var r=this;if("number"===typeof t){var n=arguments[0],i=arguments[1],a=arguments[2],o=arguments[3];t={width:n,height:i,scaleMode:a,resolution:o}}r=e.call(this,null,t)||this;var s=t||{},u=s.width,l=s.height;return r.mipmap=0,r.width=Math.ceil(u)||100,r.height=Math.ceil(l)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Yt(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return Ot(t,e),t.prototype.resize=function(e,t){e=Math.ceil(e),t=Math.ceil(t),this.framebuffer.resize(e*this.resolution,t*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(It),Zt=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,r){var n=t.width,i=t.height;if(r){var a=e.width/2/n,o=e.height/2/i,s=e.x/n+a,u=e.y/i+o;r=nt.add(r,nt.NW),this.x0=s+a*nt.uX(r),this.y0=u+o*nt.uY(r),r=nt.add(r,2),this.x1=s+a*nt.uX(r),this.y1=u+o*nt.uY(r),r=nt.add(r,2),this.x2=s+a*nt.uX(r),this.y2=u+o*nt.uY(r),r=nt.add(r,2),this.x3=s+a*nt.uX(r),this.y3=u+o*nt.uY(r)}else this.x0=e.x/n,this.y0=e.y/i,this.x1=(e.x+e.width)/n,this.y1=e.y/i,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/i,this.x3=e.x/n,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e}(),Jt=new Zt,Qt=function(e){function t(r,n,i,a,o,s){var u=e.call(this)||this;if(u.noFrame=!1,n||(u.noFrame=!0,n=new He(0,0,1,1)),r instanceof t&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=a,u.valid=!1,u._uvs=Jt,u.uvMatrix=null,u.orig=i||n,u._rotate=Number(o||0),!0===o)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=s?new Ye(s.x,s.y):new Ye(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=n:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return Ot(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture;r&&r.url&&Pe[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===Jt&&(this._uvs=new Zt),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,r,n){void 0===r&&(r={}),void 0===n&&(n=X.STRICT_TEXTURE_CACHE);var i="string"===typeof e,a=null;i?a=e:(e._pixiId||(e._pixiId="pixiid_"+Te()),a=e._pixiId);var o=Pe[a];if(i&&n&&!o)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return o||(r.resolution||(r.resolution=Fe(e)),(o=new t(new It(e,r))).baseTexture.cacheId=a,It.addToCache(o.baseTexture,a),t.addToCache(o,a)),o},t.fromURL=function(e,r){var n=Object.assign({autoLoad:!1},null===r||void 0===r?void 0:r.resourceOptions),i=t.from(e,Object.assign({resourceOptions:n},r),!1),a=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):a.load().then((function(){return Promise.resolve(i)}))},t.fromBuffer=function(e,r,n,i){return new t(It.fromBuffer(e,r,n,i))},t.fromLoader=function(e,r,n){var i=new Ut(e);i.url=r;var a=new t(new It(i,{scaleMode:X.SCALE_MODE,resolution:Fe(r)}));return n||(n=r),It.addToCache(a.baseTexture,n),t.addToCache(a,n),n!==r&&(It.addToCache(a.baseTexture,r),t.addToCache(a,r)),a},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),Pe[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),Pe[t]=e)},t.removeFromCache=function(e){if("string"===typeof e){var t=Pe[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete Pe[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)Pe[e.textureCacheIds[n]]===e&&delete Pe[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,n=e.width,i=e.height,a=t+n>this.baseTexture.width,o=r+i>this.baseTexture.height;if(a||o){var s=a&&o?"and":"or",u="X: "+t+" + "+n+" = "+(t+n)+" > "+this.baseTexture.width,l="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+l)}this.valid=n&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(q.a);function Kt(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Qt.EMPTY=new Qt(new It),Kt(Qt.EMPTY),Kt(Qt.EMPTY.baseTexture),Qt.WHITE=function(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Qt(new It(new zt(e)))}(),Kt(Qt.WHITE),Kt(Qt.WHITE.baseTexture);var $t=function(e){function t(t,r){var n=this,i=null;if(!(t instanceof qt)){var a=arguments[1],o=arguments[2],s=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+o+") instead of the ctor directly."),i=arguments[0],r=null,t=new qt({width:a,height:o,scaleMode:s,resolution:u})}return(n=e.call(this,t,r)||this).legacyRenderer=i,n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}return Ot(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,r){void 0===r&&(r=!0),e=Math.ceil(e),t=Math.ceil(t),this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r&&this.baseTexture.resize(e,t),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){return"number"===typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new qt(e))},t}(Qt),er=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t){var r=new qt(Object.assign({width:e,height:t,resolution:1},this.textureOptions));return new $t(r)},e.prototype.getOptimalTexture=function(t,r,n){void 0===n&&(n=1);var i=e.SCREEN_KEY;t*=n,r*=n,this.enableFullScreen&&t===this._pixelsWidth&&r===this._pixelsHeight||(i=(65535&(t=ge(t)))<<16|65535&(r=ge(r))),this.texturePool[i]||(this.texturePool[i]=[]);var a=this.texturePool[i].pop();return a||(a=this.createTexture(t,r)),a.filterPoolKey=i,a.setResolution(n),a},e.prototype.getFilterTexture=function(e,t){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution);return r.filterFrame=e.filterFrame,r},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var r=this.texturePool[t];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var r=e.SCREEN_KEY,n=this.texturePool[r];if(this.enableFullScreen=t.width>0&&t.height>0,n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY="screen",e}(),tr=function(){function e(e,t,r,n,i,a,o){void 0===t&&(t=0),void 0===r&&(r=!1),void 0===n&&(n=5126),this.buffer=e,this.size=t,this.normalized=r,this.type=n,this.stride=i,this.start=a,this.instance=o}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,n,i,a){return new e(t,r,n,i,a)},e}(),rr=0,nr=function(){function e(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=rr++,this.disposeRunner=new Mt("disposeBuffer")}return e.prototype.update=function(e){this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}();function ir(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var ar={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var or={5126:4,5123:2,5121:1},sr=0,ur={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},lr=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=sr++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Mt("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,r,n,i,a,o,s){if(void 0===r&&(r=0),void 0===n&&(n=!1),void 0===s&&(s=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof nr||(t instanceof Array&&(t=new Float32Array(t)),t=new nr(t));var u=e.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],t,r,n,i);return this}var c=this.buffers.indexOf(t);return-1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new tr(c,r,n,i,a,o,s),this.instanced=this.instanced||s,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof nr||(e instanceof Array&&(e=new Uint16Array(e)),e=new nr(e)),e.index=!0,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],r=[],n=new nr;for(e in this.attributes){var i=this.attributes[e],a=this.buffers[i.buffer];t.push(a.data),r.push(i.size*or[i.type]/4),i.buffer=0}for(n.data=function(e,t){for(var r=0,n=0,i={},a=0;a<e.length;a++)n+=t[a],r+=e[a].length;var o=new ArrayBuffer(4*r),s=null,u=0;for(a=0;a<e.length;a++){var l=t[a],c=e[a],h=ir(c);i[h]||(i[h]=new ar[h](o)),s=i[h];for(var d=0;d<c.length;d++)s[(d/l|0)*n+u+d%l]=c[d];u+=l}return new Float32Array(o)}(t,r),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new nr(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];t.attributes[r]=new tr(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},e.merge=function(t){for(var r,n=new e,i=[],a=[],o=[],s=0;s<t.length;s++){r=t[s];for(var u=0;u<r.buffers.length;u++)a[u]=a[u]||0,a[u]+=r.buffers[u].data.length,o[u]=0}for(s=0;s<r.buffers.length;s++)i[s]=new(ur[ir(r.buffers[s].data)])(a[s]),n.buffers[s]=new nr(i[s]);for(s=0;s<t.length;s++){r=t[s];for(u=0;u<r.buffers.length;u++)i[u].set(r.buffers[u].data,o[u]),o[u]+=r.buffers[u].data.length}if(n.attributes=r.attributes,r.indexBuffer){n.indexBuffer=n.buffers[r.buffers.indexOf(r.indexBuffer)],n.indexBuffer.index=!0;var l=0,c=0,h=0,d=0;for(s=0;s<r.buffers.length;s++)if(r.buffers[s]!==r.indexBuffer){d=s;break}for(var s in r.attributes){var f=r.attributes[s];(0|f.buffer)===d&&(c+=f.size*or[f.type]/4)}for(s=0;s<t.length;s++){var p=t[s].indexBuffer.data;for(u=0;u<p.length;u++)n.indexBuffer.data[u+h]+=l;l+=r.buffers[d].data.length/c,h+=p.length}}return n},e}(),cr=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return Ot(t,e),t}(lr),hr=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new nr(t.vertices),t.uvBuffer=new nr(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return Ot(t,e),t.prototype.map=function(e,t){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+t.width/e.width,this.uvs[3]=n,this.uvs[4]=r+t.width/e.width,this.uvs[5]=n+t.height/e.height,this.uvs[6]=r,this.uvs[7]=n+t.height/e.height,r=t.x,n=t.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+t.width,this.vertices[3]=n,this.vertices[4]=r+t.width,this.vertices[5]=n+t.height,this.vertices[6]=r,this.vertices[7]=n+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(lr),dr=0,fr=function(){function e(e,t){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=dr++,this.static=!!t}return e.prototype.update=function(){this.dirtyId++},e.prototype.add=function(t,r,n){this.uniforms[t]=new e(r,n)},e.from=function(t,r){return new e(t,r)},e}(),pr=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new He,this.destinationFrame=new He,this.filters=[]}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),mr=function(e){function t(t){var r=e.call(this,t)||this;return r.defaultFilterStack=[{}],r.texturePool=new er,r.texturePool.setScreenSize(t.view),r.statePool=[],r.quad=new cr,r.quadUv=new hr,r.tempRect=new He,r.activeState={},r.globalUniforms=new fr({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return Ot(t,e),t.prototype.push=function(e,t){for(var r=this.renderer,n=this.defaultFilterStack,i=this.statePool.pop()||new pr,a=t[0].resolution,o=t[0].padding,s=t[0].autoFit,u=t[0].legacy,l=1;l<t.length;l++){var c=t[l];a=Math.min(a,c.resolution),o=this.useMaxPadding?Math.max(o,c.padding):o+c.padding,s=s&&c.autoFit,u=u||c.legacy}1===n.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),n.push(i),i.resolution=a,i.legacy=u,i.target=e,i.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),i.sourceFrame.pad(o),s&&i.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),i.sourceFrame.ceil(a),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,a),i.filters=t,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var h=this.tempRect;h.width=i.sourceFrame.width,h.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,r.renderTexture.bind(i.renderTexture,i.sourceFrame,h),r.renderTexture.clear()},t.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;var n=this.globalUniforms.uniforms;n.outputFrame=t.sourceFrame,n.resolution=t.resolution;var i=n.inputSize,a=n.inputPixel,o=n.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],a[0]=i[0]*t.resolution,a[1]=i[1]*t.resolution,a[2]=1/a[0],a[3]=1/a[1],o[0]=.5*a[2],o[1]=.5*a[3],o[2]=t.sourceFrame.width*i[2]-.5*a[2],o[3]=t.sourceFrame.height*i[3]-.5*a[3],t.legacy){var s=n.filterArea;s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=t.sourceFrame.x,s[3]=t.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var u=e[e.length-1];if(t.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,t.renderTexture,u.renderTexture,j.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var l=t.renderTexture,c=this.getOptimalFilterTexture(l.width,l.height,t.resolution);c.filterFrame=l.filterFrame;var h=0;for(h=0;h<r.length-1;++h){r[h].apply(this,l,c,j.CLEAR,t);var d=l;l=c,c=d}r[h].apply(this,l,u.renderTexture,j.BLEND,t),this.returnFilterTexture(l),this.returnFilterTexture(c)}t.clear(),this.statePool.push(t)},t.prototype.bindAndClear=function(e,t){if(void 0===t&&(t=j.CLEAR),e&&e.filterFrame){var r=this.tempRect;r.width=e.filterFrame.width,r.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,r)}else this.renderer.renderTexture.bind(e);"boolean"===typeof t&&(t=t?j.CLEAR:j.BLEND,Ee("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(t===j.CLEAR||t===j.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},t.prototype.applyFilter=function(e,t,r,n){var i=this.renderer;this.bindAndClear(r,n),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.state.set(e.state),i.shader.bind(e),e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(L.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(L.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,t){var r=this.activeState,n=r.sourceFrame,i=r.destinationFrame,a=t._texture.orig,o=e.set(i.width,0,0,i.height,n.x,n.y),s=t.worldTransform.copyTo(Ze.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/a.width,1/a.height),o.translate(t.anchor.x,t.anchor.y),o},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,t,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(e,t,r)},t.prototype.getFilterTexture=function(e,t){if("number"===typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution);return n.filterFrame=e.filterFrame,n},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t}(Wt),vr=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}(),gr=function(e){function t(t){var r=e.call(this,t)||this;return r.emptyRenderer=new vr(t),r.currentRenderer=r.emptyRenderer,r}return Ot(t,e),t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,t){for(var r=this.renderer.texture.boundTextures,n=t-1;n>=0;--n)e[n]=r[n]||null,e[n]&&(e[n]._batchLocation=n)},t.prototype.boundArray=function(e,t,r,n){for(var i=e.elements,a=e.ids,o=e.count,s=0,u=0;u<o;u++){var l=i[u],c=l._batchLocation;if(c>=0&&c<n&&t[c]===l)a[u]=c;else for(;s<n;){var h=t[s];if(!h||h._batchEnabled!==r||h._batchLocation!==s){a[u]=s,l._batchLocation=s,t[s]=l;break}s++}}},t}(Wt),yr=0,br=function(e){function t(t){var r=e.call(this,t)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),t.view.addEventListener("webglcontextlost",r.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return Ot(t,e),Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=yr++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=yr++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},t.prototype.createContext=function(e,t){var r;if(X.PREFER_ENV>=C.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var t=e.getContextAttributes(),r="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;r&&(this.webGLVersion=2),t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var n=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(Wt),_r=function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=W.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},xr=new He,wr=function(e){function t(t){var r=e.call(this,t)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new Yt(10,10),r.msaaSamples=null,r}return Ot(t,e),t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new He,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;X.PREFER_ENV===C.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,t){var r=this.gl;if(e){var n=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)),n.dirtyId!==e.dirtyId&&(n.dirtyId=e.dirtyId,n.dirtyFormat!==e.dirtyFormat?(n.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):n.dirtySize!==e.dirtySize&&(n.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var i=0;i<e.colorTextures.length;i++){var a=e.colorTextures[i];this.renderer.texture.unbind(a.parentTextureArray||a)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,t,r,n){var i=this.viewport;i.width===r&&i.height===n&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=r,i.height=n,this.gl.viewport(e,t,r,n))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,t,r,n,i){void 0===i&&(i=k.COLOR|k.DEPTH);var a=this.gl;a.clearColor(e,t,r,n),a.clear(i)},t.prototype.initFramebuffer=function(e){var t=this.gl,r=new _r(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r},t.prototype.resizeFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));for(var n=e.colorTextures,i=0;i<n.length;i++)this.renderer.texture.bind(n[i],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],n=e.colorTextures.length;t.drawBuffers||(n=Math.min(n,1)),r.multisample>1&&(r.msaaBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.RGBA8,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,r.msaaBuffer));for(var i=[],a=0;a<n;a++)if(!(0===a&&r.multisample>1)){var o=e.colorTextures[a],s=o.parentTextureArray||o;this.renderer.texture.bind(s,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+a,o.target,s._glTextures[this.CONTEXT_UID].texture,0),i.push(t.COLOR_ATTACHMENT0+a)}if((i.length>1&&t.drawBuffers(i),e.depthTexture)&&this.writeDepthTexture){var u=e.depthTexture;this.renderer.texture.bind(u,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!e.stencil&&!e.depth||(r.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),e.depthTexture||t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,r.stencil))},t.prototype.detectSamples=function(e){var t=this.msaaSamples,r=W.NONE;if(e<=1||null===t)return r;for(var n=0;n<t.length;n++)if(t[n]<=e){r=t[n];break}return 1===r&&(r=W.NONE),r},t.prototype.blit=function(e,t,r){var n=this,i=n.current,a=n.renderer,o=n.gl,s=n.CONTEXT_UID;if(2===a.context.webGLVersion&&i){var u=i.glFramebuffers[s];if(u){if(!e){if(u.multisample<=1)return;u.blitFramebuffer||(u.blitFramebuffer=new Yt(i.width,i.height),u.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(e=u.blitFramebuffer).width=i.width,e.height=i.height}t||((t=xr).width=i.width,t.height=i.height),r||(r=t);var l=t.width===r.width&&t.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(t.x,t.y,t.width,t.height,r.x,r.y,r.width,r.height,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,t){var r=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(r){delete e.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(n.deleteFramebuffer(r.framebuffer),r.stencil&&n.deleteRenderbuffer(r.stencil))}},t.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.enableStencil();var r=e.width,n=e.height,i=this.gl,a=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,a),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,r,n),t.stencil=a,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,a)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new He},t}(Wt),Tr=function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Sr={5126:4,5123:2,5121:1},Er=function(e){function t(t){var r=e.call(this,t)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return Ot(t,e),t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;X.PREFER_ENV===C.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=function(){return r.createVertexArrayOES()},e.bindVertexArray=function(e){return r.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return r.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=function(e,t){return n.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,r,i,a){return n.drawElementsInstancedANGLE(e,t,r,i,a)},e.drawArraysInstanced=function(e,t,r,i){return n.drawArraysInstancedANGLE(e,t,r,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},t.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var r=this.gl,n=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},i=!0);var a=n[t.program.id]||this.initGeometryVao(e,t.program,i);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?r.bindVertexArray(a):this.activateVao(e,t.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.gl,r=0;r<e.buffers.length;r++){var n=e.buffers[r],i=n._glBuffers[this.CONTEXT_UID];if(n._updateID!==i.updateID){i.updateID=n._updateID;var a=n.index?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;if(t.bindBuffer(a,i.buffer),this._boundBuffer=i,i.byteLength>=n.data.byteLength)t.bufferSubData(a,0,n.data);else{var o=n.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=n.data.byteLength,t.bufferData(a,n.data,o)}}}},t.prototype.checkCompatibility=function(e,t){var r=e.attributes,n=t.attributeData;for(var i in n)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},t.prototype.getSignature=function(e,t){var r=e.attributes,n=t.attributeData,i=["g",e.id];for(var a in r)n[a]&&i.push(a);return i.join("-")},t.prototype.initGeometryVao=function(e,t,r){void 0===r&&(r=!0),this.checkCompatibility(e,t);var n=this.gl,i=this.CONTEXT_UID,a=this.getSignature(e,t),o=e.glVertexArrayObjects[this.CONTEXT_UID],s=o[a];if(s)return o[t.id]=s,s;var u=e.buffers,l=e.attributes,c={},h={};for(var d in u)c[d]=0,h[d]=0;for(var d in l)!l[d].size&&t.attributeData[d]?l[d].size=t.attributeData[d].size:l[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[l[d].buffer]+=l[d].size*Sr[l[d].type];for(var d in l){var f=l[d],p=f.size;void 0===f.stride&&(c[f.buffer]===p*Sr[f.type]?f.stride=0:f.stride=c[f.buffer]),void 0===f.start&&(f.start=h[f.buffer],h[f.buffer]+=p*Sr[f.type])}s=n.createVertexArray(),n.bindVertexArray(s);for(var m=0;m<u.length;m++){var v=u[m];v._glBuffers[i]||(v._glBuffers[i]=new Tr(n.createBuffer()),this.managedBuffers[v.id]=v,v.disposeRunner.add(this)),r&&v._glBuffers[i].refCount++}return this.activateVao(e,t),this._activeVao=s,o[t.id]=s,o[a]=s,s},t.prototype.disposeBuffer=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var r=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),r&&(t||n.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,i=e.buffers;if(e.disposeRunner.remove(this),r){for(var a=0;a<i.length;a++){var o=i[a]._glBuffers[this.CONTEXT_UID];o.refCount--,0!==o.refCount||t||this.disposeBuffer(i[a],t)}if(!t)for(var s in r)if("g"===s[0]){var u=r[s];this._activeVao===u&&this.unbind(),n.deleteVertexArray(u)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e);t=Object.keys(this.managedBuffers);for(r=0;r<t.length;r++)this.disposeBuffer(this.managedBuffers[t[r]],e)},t.prototype.activateVao=function(e,t){var r=this.gl,n=this.CONTEXT_UID,i=e.buffers,a=e.attributes;e.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[n].buffer);var o=null;for(var s in a){var u=a[s],l=i[u.buffer]._glBuffers[n];if(t.attributeData[s]){o!==l&&(r.bindBuffer(r.ARRAY_BUFFER,l.buffer),o=l);var c=t.attributeData[s].location;if(r.enableVertexAttribArray(c),r.vertexAttribPointer(c,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(c,1)}}}},t.prototype.draw=function(e,t,r,n){var i=this.gl,a=this._activeGeometry;if(a.indexBuffer){var o=a.indexBuffer.data.BYTES_PER_ELEMENT,s=2===o?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?a.instanced?i.drawElementsInstanced(e,t||a.indexBuffer.data.length,s,(r||0)*o,n||1):i.drawElements(e,t||a.indexBuffer.data.length,s,(r||0)*o):console.warn("unsupported index buffer type: uint32")}else a.instanced?i.drawArraysInstanced(e,r,t||a.getSize(),n||1):i.drawArrays(e,r,t||a.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t}(Wt),Mr=function(){function e(e){void 0===e&&(e=null),this.type=V.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=V.NONE,this.autoDetect=!0),this._target=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function Pr(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function Ar(e,t,r,n){var i=Pr(e,e.VERTEX_SHADER,t),a=Pr(e,e.FRAGMENT_SHADER,r),o=e.createProgram();if(e.attachShader(o,i),e.attachShader(o,a),n)for(var s in n)e.bindAttribLocation(o,n[s],s);return e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||(console.warn(t),console.error(e.getShaderInfoLog(i))),e.getShaderParameter(a,e.COMPILE_STATUS)||(console.warn(r),console.error(e.getShaderInfoLog(a))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(o,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(o)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(o)),e.deleteProgram(o),o=null),e.deleteShader(i),e.deleteShader(a),o}function Cr(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function Or(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return Cr(2*t);case"bvec3":return Cr(3*t);case"bvec4":return Cr(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var kr,Rr={},Lr=Rr;function Ir(){if(Lr===Rr||Lr&&Lr.isContextLost()){var e=document.createElement("canvas"),t=void 0;X.PREFER_ENV>=C.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Lr=t}return Lr}function Dr(e,t,r){if("precision"!==e.substring(0,9)){var n=t;return t===G.HIGH&&r!==G.HIGH&&(n=G.MEDIUM),"precision "+n+" float;\n"+e}return r!==G.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var Nr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Fr(e){return Nr[e]}var zr=null,Br={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Ur(e,t){if(!zr){var r=Object.keys(Br);zr={};for(var n=0;n<r.length;++n){var i=r[n];zr[e[i]]=Br[i]}}return zr[t]}var jr=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Hr={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Gr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Vr,Wr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Xr(e){for(var t="",r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+="if(test == "+r+".0){}");return t}function Yr(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var n=Wr.replace(/%forloop%/gi,Xr(e));if(t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}var qr=0,Zr={},Jr=function(){function e(t,r,n){void 0===n&&(n="pixi-shader"),this.id=qr++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),Zr[n]?(Zr[n]++,n+="-"+Zr[n]):Zr[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=Dr(this.vertexSrc,X.PRECISION_VERTEX,G.HIGH),this.fragmentSrc=Dr(this.fragmentSrc,X.PRECISION_FRAGMENT,function(){if(!kr){kr=G.MEDIUM;var e=Ir();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);kr=t.precision?G.HIGH:G.MEDIUM}}return kr}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return e.prototype.extractData=function(e,t){var r=Ir();if(r){var n=Ar(r,e,t);this.attributeData=this.getAttributeData(n,r),this.uniformData=this.getUniformData(n,r),r.deleteProgram(n)}else this.uniformData={},this.attributeData={}},e.prototype.getAttributeData=function(e,t){for(var r={},n=[],i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<i;a++){var o=t.getActiveAttrib(e,a),s=Ur(t,o.type),u={type:s,name:o.name,size:Fr(s),location:0};r[o.name]=u,n.push(u)}n.sort((function(e,t){return e.name>t.name?1:-1}));for(a=0;a<n.length;a++)n[a].location=a;return r},e.prototype.getUniformData=function(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=t.getActiveUniform(e,i),o=a.name.replace(/\[.*?\]$/,""),s=a.name.match(/\[.*?\]$/),u=Ur(t,a.type);r[o]={type:u,size:a.size,isArray:s,value:Or(u,a.size)}}return r},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=t+r,a=Me[i];return a||(Me[i]=a=new e(t,r,n)),a},e}(),Qr=function(){function e(e,t){for(var r in this.program=e,this.uniformGroup=t?t instanceof fr?t:new fr(t):new fr({}),e.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var r in t.uniforms){var n=t.uniforms[r];if(n.group&&this.checkUniformExists(e,n))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,n){return new e(Jr.from(t,r),n)},e}(),Kr=function(){function e(){this.data=0,this.blendMode=R.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==R.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),$r=function(e){function t(r,n,i){var a=this,o=Jr.from(r||t.defaultVertexSrc,n||t.defaultFragmentSrc);return(a=e.call(this,o,i)||this).padding=0,a.resolution=X.FILTER_RESOLUTION,a.enabled=!0,a.autoFit=!0,a.legacy=!!a.program.attributeData.aTextureCoord,a.state=new Kr,a}return Ot(t,e),t.prototype.apply=function(e,t,r,n,i){e.applyFilter(this,t,r,n)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(Qr),en=new Ze,tn=function(){function e(e,t){this._texture=e,this.mapCoord=new Ze,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"===typeof t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];t[n]=i*r.a+a*r.c+r.tx,t[n+1]=i*r.b+a*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=t.orig,i=t.trim;i&&(en.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(en));var a=t.baseTexture,o=this.uClampFrame,s=this.clampMargin/a.resolution,u=this.clampOffset;return o[0]=(t._frame.x+s+u)/a.width,o[1]=(t._frame.y+s+u)/a.height,o[2]=(t._frame.x+t._frame.width-s+u)/a.width,o[3]=(t._frame.y+t._frame.height-s+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&0===t.rotate,!0},e}(),rn=function(e){function t(t){var r=this,n=new Ze;return r=e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,t.renderable=!1,r.maskSprite=t,r.maskMatrix=n,r}return Ot(t,e),t.prototype.apply=function(e,t,r,n){var i=this.maskSprite,a=i._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new tn(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,t,r,n))},t}($r),nn=function(e){function t(t){var r=e.call(this,t)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return Ot(t,e),t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,t){var r=t;if(!r.isMaskData){var n=this.maskDataPool.pop()||new Mr;n.pooled=!0,n.maskObject=t,r=n}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=e,r.type){case V.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case V.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case V.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},t.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){switch(t.type){case V.SCISSOR:this.renderer.scissor.pop();break;case V.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case V.SPRITE:this.popSpriteMask()}t.reset(),t.pooled&&this.maskDataPool.push(t)}},t.prototype.detect=function(e){var t=e.maskObject;if(t.isSprite)e.type=V.SPRITE;else if(e.type=V.STENCIL,this.enableScissor&&t.isFastRect&&t.isFastRect()){var r=t.worldTransform,n=Math.atan2(r.b,r.a),i=Math.atan2(r.d,r.c);n=Math.round(n*(180/Math.PI)*100),i=((i=Math.round(i*(180/Math.PI)*100)-n)%18e3+18e3)%18e3,0===(n=(n%9e3+9e3)%9e3)&&9e3===i&&(e.type=V.SCISSOR)}},t.prototype.pushSpriteMask=function(e){var t=e.maskObject,r=e._target,n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new rn(t)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=t;var i=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,n),r.filterArea=i,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t}(Wt),an=function(e){function t(t){var r=e.call(this,t)||this;return r.maskStack=[],r.glConst=0,r}return Ot(t,e),t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var t=this.renderer.gl,r=this.getStackLength();this.maskStack=e;var n=this.getStackLength();n!==r&&(0===n?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.maskStack=null},t}(Wt),on=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return Ot(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var r=e._scissorRect,n=t.getBounds(!0),i=this.renderer.gl;t.renderable=!1,r?n.fit(r):i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=n,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,r=this.renderer.projection,n=r.transform,i=r.sourceFrame,a=r.destinationFrame,o=t?t.resolution:this.renderer.resolution,s=(e.x-i.x)*o+a.x,u=(e.y-i.y)*o+a.y,l=e.width*o,c=e.height*o;n&&(s+=n.tx*o,u+=n.ty*o),t||(u=this.renderer.height-c-u),this.renderer.gl.scissor(s,u,l,c)},t}(an),sn=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return Ot(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,r=this.renderer.gl,n=e._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,n,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(an),un=function(e){function t(t){var r=e.call(this,t)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Ze,r.transform=null,r}return Ot(t,e),t.prototype.update=function(e,t,r,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,t,r,n){var i=this.projectionMatrix,a=n?-1:1;i.identity(),i.a=1/t.width*2,i.d=a*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-a-t.y*i.d},t.prototype.setTransform=function(e){},t}(Wt),ln=new He,cn=new He,hn=new He,dn=function(e){function t(t){var r=e.call(this,t)||this;return r.clearColor=t._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new He,r.destinationFrame=new He,r}return Ot(t,e),t.prototype.bind=function(e,t,r){void 0===e&&(e=null);var n,i,a,o=this.renderer;this.current=e,e?(a=(n=e.baseTexture).resolution,t||(ln.width=e.frame.width,ln.height=e.frame.height,t=ln),r||(cn.x=e.frame.x,cn.y=e.frame.y,cn.width=t.width,cn.height=t.height,r=cn),i=n.framebuffer):(a=o.resolution,t||(ln.width=o.screen.width,ln.height=o.screen.height,t=ln),r||((r=ln).width=t.width,r.height=t.height)),hn.x=r.x*a,hn.y=r.y*a,hn.width=r.width*a,hn.height=r.height*a,this.renderer.framebuffer.bind(i,hn),this.renderer.projection.update(r,t,a,!i),e?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)},t.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t)},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(Wt),fn=function(){},pn=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},e}(),mn=0,vn={textureCount:0},gn=function(e){function t(t){var r=e.call(this,t)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=mn++,r}return Ot(t,e),t.prototype.systemCheck=function(){if(!function(){if("boolean"===typeof Vr)return Vr;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Vr=!0===e({a:"b"},"a","b")}catch(t){Vr=!1}return Vr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var r=e.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),t||(vn.textureCount=0,this.syncUniformGroup(e.uniformGroup,vn)),n},t.prototype.setUniforms=function(e){var t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,t){var r=this.getglProgram();e.static&&e.dirtyId===r.uniformGroups[e.id]||(r.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))},t.prototype.syncUniforms=function(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)},t.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData);return this.cache[t]||(this.cache[t]=function(e,t){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var n in e.uniforms){var i=t[n];if(i){for(var a=e.uniforms[n],o=!1,s=0;s<jr.length;s++)if(jr[s].test(i,a)){r.push(jr[s].code(n,a)),o=!0;break}if(!o){var u=(1===i.size?Hr:Gr)[i.type].replace("location",'ud["'+n+'"].location');r.push('\n            cv = ud["'+n+'"].value;\n            v = uv["'+n+'"];\n            '+u+";")}}else e.uniforms[n].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+n+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(e,t){var r=e.uniforms,n=[];for(var i in r)n.push(i),t[i]&&n.push(t[i].type);return n.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(e){var t=this.gl,r=e.program,n={};for(var i in r.attributeData)n[i]=r.attributeData[i].location;var a=Ar(t,r.vertexSrc,r.fragmentSrc,n),o={};for(var i in r.uniformData){var s=r.uniformData[i];o[i]={location:t.getUniformLocation(a,i),value:Or(s.type,s.size)}}var u=new pn(a,o);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(Wt);var yn=function(e){function t(t){var r=e.call(this,t)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=R.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new Kr,r.defaultState.blend=!0,r}return Ot(t,e),t.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(e,t){return void 0===t&&(t=[]),t[R.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.ADD]=[e.ONE,e.ONE],t[R.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.NONE]=[0,0],t[R.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[R.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[R.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[R.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[R.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[R.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[R.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[R.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[R.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[R.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[R.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,r=0;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,t){var r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):t||-1===r||this.checks.splice(r,1)},t.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},t.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},t}(Wt),bn=function(e){function t(t){var r=e.call(this,t)||this;return r.count=0,r.checkCount=0,r.maxIdle=X.GC_MAX_IDLE,r.checkCountMax=X.GC_MAX_CHECK_COUNT,r.mode=X.GC_MODE,r}return Ot(t,e),t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==H.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,r=!1,n=0;n<t.length;n++){var i=t[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[n]=null,r=!0)}if(r){var a=0;for(n=0;n<t.length;n++)null!==t[n]&&(t[a++]=t[n]);t.length=a}},t.prototype.unload=function(e){var t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(var n=e.children.length-1;n>=0;n--)this.unload(e.children[n])},t}(Wt),_n=function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},xn=function(e){function t(t){var r=e.call(this,t)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new It,r}return Ot(t,e),t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var r=0;r<t;r++)this.boundTextures[r]=null;this.emptyTextures={};var n=new _n(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new _n(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},t.prototype.bind=function(e,t){void 0===t&&(t=0);var r=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var t=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<r.length;n++)r[n]===this.unknownTexture&&this.bind(null,n)}for(n=0;n<r.length;n++)r[n]===e&&(this.currentLocation!==n&&(t.activeTexture(t.TEXTURE0+n),this.currentLocation=n),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[n]=null)},t.prototype.initTexture=function(e){var t=new _n(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},t.prototype.initTextureType=function(e,t){if(t.internalFormat=e.format,t.type=e.type,2===this.webGLVersion){var r=this.renderer.gl;e.type===r.FLOAT&&e.format===r.RGBA&&(t.internalFormat=r.RGBA32F),e.type===N.HALF_FLOAT&&(t.type=r.HALF_FLOAT),t.type===r.HALF_FLOAT&&e.format===r.RGBA&&(t.internalFormat=r.RGBA16F)}},t.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var r=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(r,e,t));else{var n=e.realWidth,i=e.realHeight,a=r.gl;(t.width!==n||t.height!==i||t.dirtyId<0)&&(t.width=n,t.height=i,a.texImage2D(e.target,0,t.internalFormat,n,i,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,t){var r=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var n=this.managedTextures.indexOf(e);-1!==n&&_e(this.managedTextures,n,1)}},t.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==B.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=z.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,t){var r=this.gl;if(t.mipmap&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===F.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===F.LINEAR){var i=Math.min(e.anisotropicLevel,r.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===F.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===F.LINEAR?r.LINEAR:r.NEAREST)},t}(Wt),wn={FilterSystem:mr,BatchSystem:gr,ContextSystem:br,FramebufferSystem:wr,GeometrySystem:Er,MaskSystem:nn,ScissorSystem:on,StencilSystem:sn,ProjectionSystem:un,RenderTextureSystem:dn,ShaderSystem:gn,StateSystem:yn,TextureGCSystem:bn,TextureSystem:xn},Tn=new Ze,Sn=function(e){function t(t,r){void 0===t&&(t=O.UNKNOWN);var n=e.call(this)||this;return(r=Object.assign({},X.RENDER_OPTIONS,r)).roundPixels&&(X.ROUND_PIXELS=r.roundPixels,Ee("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),n.options=r,n.type=t,n.screen=new He(0,0,r.width,r.height),n.view=r.view||document.createElement("canvas"),n.resolution=r.resolution||X.RESOLUTION,n.transparent=r.transparent,n.autoDensity=r.autoDensity||r.autoResize||!1,n.preserveDrawingBuffer=r.preserveDrawingBuffer,n.clearBeforeRender=r.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,0],n._backgroundColorString="#000000",n.backgroundColor=r.backgroundColor||n._backgroundColor,n._lastObjectRendered=null,n.plugins={},n}return Ot(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=t+"px"),this.emit("resize",e,t)},t.prototype.generateTexture=function(e,t,r,n){0===(n=n||e.getLocalBounds(null,!0)).width&&(n.width=1),0===n.height&&(n.height=1);var i=$t.create({width:0|n.width,height:0|n.height,scaleMode:t,resolution:r});return Tn.tx=-n.x,Tn.ty=-n.y,this.render(e,i,!1,Tn,!!e.parent),i},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=O.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=ae(e),ie(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),t}(q.a),En=function(e){function t(r){var n=e.call(this,O.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Mt("destroy"),contextChange:new Mt("contextChange"),reset:new Mt("reset"),update:new Mt("update"),postrender:new Mt("postrender"),prerender:new Mt("prerender"),resize:new Mt("resize")},n.globalUniforms=new fr({projectionMatrix:new Ze},!0),n.addSystem(nn,"mask").addSystem(br,"context").addSystem(yn,"state").addSystem(gn,"shader").addSystem(xn,"texture").addSystem(Er,"geometry").addSystem(wr,"framebuffer").addSystem(on,"scissor").addSystem(sn,"stencil").addSystem(un,"projection").addSystem(bn,"textureGC").addSystem(mr,"filter").addSystem(dn,"renderTexture").addSystem(gr,"batch"),n.initPlugins(t.__plugins),r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:r.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,re(2===n.context.webGLVersion?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return Ot(t,e),t.create=function(e){if(ne())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.addSystem=function(e,t){t||(t=e.name);var r=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var n in this[t]=r,this.runners)this.runners[n].add(r);return this},t.prototype.render=function(e,t,r,n,i){if(this.renderingToScreen=!t,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(t||(this._lastObjectRendered=e),!i){var a=e.enableTempParent();e.updateTransform(),e.disableTempParent(a)}this.renderTexture.bind(t),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),t&&t.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.runners.resize.emit(t,r)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(t){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();e.prototype.destroy.call(this,t),this.gl=null},t.registerPlugin=function(e,r){t.__plugins=t.__plugins||{},t.__plugins[e]=r},t}(Sn);function Mn(e){return En.create(e)}var Pn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",An="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Cn=function(){this.texArray=null,this.blend=0,this.type=L.TRIANGLES,this.start=0,this.size=0,this.data=null},On=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),kn=function(){function e(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}(),Rn=function(e){function t(t){var r=e.call(this,t)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Kr.for2d(),r.size=4*X.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),t.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return Ot(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;X.PREFER_ENV===C.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),X.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Yr(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,r=t._textureArrayPool,n=this.size/4,i=Math.floor(n/this.MAX_TEXTURES)+1;e.length<n;)e.push(new Cn);for(;r.length<i;)r.push(new On);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,r=this.MAX_TEXTURES,n=t._textureArrayPool,i=this.renderer.batch,a=this._tempBoundTextures,o=this.renderer.textureGC.count,s=++It._globalBatch,u=0,l=n[0],c=0;i.copyBoundTextures(a,r);for(var h=0;h<this._bufferSize;++h){var d=e[h];e[h]=null,d._batchEnabled!==s&&(l.count>=r&&(i.boundArray(l,a,s,r),this.buildDrawCalls(l,c,h),c=h,l=n[++u],++s),d._batchEnabled=s,d.touched=o,l.elements[l.count++]=d)}l.count>0&&(i.boundArray(l,a,s,r),this.buildDrawCalls(l,c,this._bufferSize),++u,++s);for(h=0;h<a.length;h++)a[h]=null;It._globalBatch=s},t.prototype.buildDrawCalls=function(e,r,n){var i=this,a=i._bufferedElements,o=i._attributeBuffer,s=i._indexBuffer,u=i.vertexSize,l=t._drawCallPool,c=this._dcIndex,h=this._aIndex,d=this._iIndex,f=l[c];f.start=this._iIndex,f.texArray=e;for(var p=r;p<n;++p){var m=a[p],v=m._texture.baseTexture,g=ue[v.alphaMode?1:0][m.blendMode];a[p]=null,r<p&&f.blend!==g&&(f.size=d-f.start,r=p,(f=l[++c]).texArray=e,f.start=d),this.packInterleavedGeometry(m,o,s,h,d),h+=m.vertexData.length/2*u,d+=m.indices.length,f.blend=g}r<n&&(f.size=d-f.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=d},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,r=e._attributeBuffer,n=e._indexBuffer;X.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,r=this.renderer,n=r.gl,i=r.state,a=t._drawCallPool,o=null,s=0;s<e;s++){var u=a[s],l=u.texArray,c=u.type,h=u.size,d=u.start,f=u.blend;o!==l&&(o=l,this.bindAndClearTexArray(l)),this.state.blendMode=f,i.set(this.state),n.drawElements(c,h,n.UNSIGNED_SHORT,2*d)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),X.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=ge(Math.ceil(e/8)),r=be(t),n=8*t;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new kn(n*this.vertexSize*4)),i},t.prototype.getIndexBuffer=function(e){var t=ge(Math.ceil(e/12)),r=be(t),n=12*t;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i},t.prototype.packInterleavedGeometry=function(e,t,r,n,i){for(var a=t.uint32View,o=t.float32View,s=n/this.vertexSize,u=e.uvs,l=e.indices,c=e.vertexData,h=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),f=d<1&&e._texture.baseTexture.alphaMode?he(e._tintRGB,d):e._tintRGB+(255*d<<24),p=0;p<c.length;p+=2)o[n++]=c[p],o[n++]=c[p+1],o[n++]=u[p],o[n++]=u[p+1],a[n++]=f,o[n++]=h;for(p=0;p<l.length;p++)r[i++]=s+l[p]},t._drawCallPool=[],t._textureArrayPool=[],t}(vr),Ln=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=fr.from({uSamplers:t},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Jr(this.vertexSrc,n)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ze,default:this.defaultGroupCache[e]};return new Qr(this.programCache[e],i)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+="if(vTextureId < "+r+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"},e}(),In=function(e){function t(t){void 0===t&&(t=!1);var r=e.call(this)||this;return r._buffer=new nr(null,t,!1),r._indexBuffer=new nr(null,t,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,N.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,N.FLOAT).addAttribute("aColor",r._buffer,4,!0,N.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,N.FLOAT).addIndex(r._indexBuffer),r}return Ot(t,e),t}(lr),Dn="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Nn="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Fn=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:Dn,fragment:Nn,geometryClass:In,vertexSize:6},e),r=t.vertex,n=t.fragment,i=t.vertexSize,a=t.geometryClass;return function(e){function t(t){var o=e.call(this,t)||this;return o.shaderGenerator=new Ln(r,n),o.geometryClass=a,o.vertexSize=i,o}return Ot(t,e),t}(Rn)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Dn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return Nn},enumerable:!1,configurable:!0}),e}(),zn=Fn.create(),Bn=function(){function e(t){var r=this;t=Object.assign({forceCanvas:!1},t),this.renderer=Mn(t),this.stage=new ht,e._plugins.forEach((function(e){e.init.call(r,t)}))}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var n=this,i=e._plugins.slice(0);i.reverse(),i.forEach((function(e){e.destroy.call(n)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e}();Bn._plugins=[];var Un=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){window.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,r;if(t.cancelResize(),t._resizeTo===window)e=window.innerWidth,r=window.innerHeight;else{var n=t._resizeTo;e=n.clientWidth,r=n.clientHeight}t.renderer.resize(e,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();Bn.registerPlugin(Un);var jn=new He,Hn=function(){function e(e){this.renderer=e,e.extract=this}return e.prototype.image=function(e,t,r){var n=new Image;return n.src=this.base64(e,t,r),n},e.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},e.prototype.canvas=function(t){var r,n,i,a=this.renderer,o=!1,s=!1;t&&(t instanceof $t?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(r=i.baseTexture.resolution,n=i.frame,o=!1,a.renderTexture.bind(i)):(r=this.renderer.resolution,o=!0,(n=jn).width=this.renderer.width,n.height=this.renderer.height,a.renderTexture.bind(null));var u=Math.floor(n.width*r+1e-4),l=Math.floor(n.height*r+1e-4),c=new ke(u,l,1),h=new Uint8Array(4*u*l),d=a.gl;d.readPixels(n.x*r,n.y*r,u,l,d.RGBA,d.UNSIGNED_BYTE,h);var f=c.context.getImageData(0,0,u,l);if(e.arrayPostDivide(h,f.data),c.context.putImageData(f,0,0),o){var p=new ke(c.width,c.height,1);p.context.scale(1,-1),p.context.drawImage(c.canvas,0,-l),c.destroy(),c=p}return s&&i.destroy(!0),c.canvas},e.prototype.pixels=function(t){var r,n,i,a=this.renderer,o=!1;t&&(t instanceof $t?i=t:(i=this.renderer.generateTexture(t),o=!0)),i?(r=i.baseTexture.resolution,n=i.frame,a.renderTexture.bind(i)):(r=a.resolution,(n=jn).width=a.width,n.height=a.height,a.renderTexture.bind(null));var s=n.width*r,u=n.height*r,l=new Uint8Array(4*s*u),c=a.gl;return c.readPixels(n.x*r,n.y*r,s,u,c.RGBA,c.UNSIGNED_BYTE,l),o&&i.destroy(!0),e.arrayPostDivide(l,l),l},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e.arrayPostDivide=function(e,t){for(var r=0;r<e.length;r+=4){var n=t[r+3]=e[r+3];0!==n?(t[r]=Math.round(Math.min(255*e[r]/n,255)),t[r+1]=Math.round(Math.min(255*e[r+1]/n,255)),t[r+2]=Math.round(Math.min(255*e[r+2]/n,255))):(t[r]=e[r],t[r+1]=e[r+1],t[r+2]=e[r+2])}},e}(),Gn=r(43),Vn=r.n(Gn),Wn=r(16),Xn=r.n(Wn);function Yn(){}function qn(e,t,r,n){var i=0,a=e.length;!function o(s){s||i===a?r&&r(s):n?setTimeout((function(){t(e[i++],o)}),1):t(e[i++],o)}()}function Zn(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function Jn(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=0,n={_tasks:[],concurrency:t,saturated:Yn,unsaturated:Yn,buffer:t/4,empty:Yn,drain:Yn,error:Yn,started:!1,paused:!1,push:function(e,t){i(e,!1,t)},kill:function(){r=0,n.drain=Yn,n.started=!1,n._tasks=[]},unshift:function(e,t){i(e,!0,t)},process:function(){for(;!n.paused&&r<n.concurrency&&n._tasks.length;){var t=n._tasks.shift();0===n._tasks.length&&n.empty(),(r+=1)===n.concurrency&&n.saturated(),e(t.data,Zn(a(t)))}},length:function(){return n._tasks.length},running:function(){return r},idle:function(){return n._tasks.length+r===0},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var e=1;e<=n.concurrency;e++)n.process()}}};function i(e,t,r){if(null!=r&&"function"!==typeof r)throw new Error("task callback must be a function");if(n.started=!0,null==e&&n.idle())setTimeout((function(){return n.drain()}),1);else{var i={data:e,callback:"function"===typeof r?r:Yn};t?n._tasks.unshift(i):n._tasks.push(i),setTimeout((function(){return n.process()}),1)}}function a(e){return function(){r-=1,e.callback.apply(e,arguments),null!=arguments[0]&&n.error(arguments[0],e.data),r<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}var Qn={};function Kn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $n(e,t,r){return t&&Kn(e.prototype,t),r&&Kn(e,r),e}var ei=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),ti=null;function ri(){}var ni=function(){function e(t,r,n){if("string"!==typeof t||"string"!==typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=ri,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Xn.a,this.onProgress=new Xn.a,this.onComplete=new Xn.a,this.onAfterMiddleware=new Xn.a}e.setExtensionLoadType=function(t,r){ii(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){ii(e._xhrTypeMap,t,r)};var t=e.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var r=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout((function(){return t(r)}),1);else switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"===typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:ei&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t._hasFlag=function(e){return 0!==(this._flags&e)},t._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&"undefined"!==typeof window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&"undefined"!==typeof window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(t)?t[r]:t));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},t._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},t._createSource=function(e,t,r){r||(r=e+"/"+this._getExtension(t));var n=document.createElement("source");return n.src=t,n.type=r,n},t._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var e=this.xhr;this.abort(ai(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t._xhrOnTimeout=function(){var e=this.xhr;this.abort(ai(e)+" Request timed out.")},t._xhrOnAbort=function(){var e=this.xhr;this.abort(ai(e)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t=this.xhr,r="",n="undefined"===typeof t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&"undefined"!==typeof t.responseType||(r=t.responseText),0===n&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(o){return void this.abort("Error trying to parse loaded json: "+o)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var a=document.createElement("div");a.innerHTML=r,this.data=a}this.type=e.TYPE.XML}catch(o){return void this.abort("Error trying to parse loaded xml: "+o)}else this.data=t.response||r;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},t._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,ti||(ti=document.createElement("a")),ti.href=e;var r=!(e=Vn()(ti.href,{strictMode:!0})).port&&""===t.port||e.port===t.port,n=e.protocol?e.protocol+":":"";return e.host===t.hostname&&r&&n===t.protocol?"":"anonymous"},t._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},t._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var n=e.indexOf("?"),i=e.indexOf("#"),a=Math.min(n>-1?n:e.length,i>-1?i:e.length);t=(e=e.substring(0,a)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},$n(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();function ii(e,t,r){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=r)}function ai(e){return e.toString().replace("object ","")}ni.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},ni.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},ni.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},ni.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},ni._loadTypeMap={gif:ni.LOAD_TYPE.IMAGE,png:ni.LOAD_TYPE.IMAGE,bmp:ni.LOAD_TYPE.IMAGE,jpg:ni.LOAD_TYPE.IMAGE,jpeg:ni.LOAD_TYPE.IMAGE,tif:ni.LOAD_TYPE.IMAGE,tiff:ni.LOAD_TYPE.IMAGE,webp:ni.LOAD_TYPE.IMAGE,tga:ni.LOAD_TYPE.IMAGE,svg:ni.LOAD_TYPE.IMAGE,"svg+xml":ni.LOAD_TYPE.IMAGE,mp3:ni.LOAD_TYPE.AUDIO,ogg:ni.LOAD_TYPE.AUDIO,wav:ni.LOAD_TYPE.AUDIO,mp4:ni.LOAD_TYPE.VIDEO,webm:ni.LOAD_TYPE.VIDEO},ni._xhrTypeMap={xhtml:ni.XHR_RESPONSE_TYPE.DOCUMENT,html:ni.XHR_RESPONSE_TYPE.DOCUMENT,htm:ni.XHR_RESPONSE_TYPE.DOCUMENT,xml:ni.XHR_RESPONSE_TYPE.DOCUMENT,tmx:ni.XHR_RESPONSE_TYPE.DOCUMENT,svg:ni.XHR_RESPONSE_TYPE.DOCUMENT,tsx:ni.XHR_RESPONSE_TYPE.DOCUMENT,gif:ni.XHR_RESPONSE_TYPE.BLOB,png:ni.XHR_RESPONSE_TYPE.BLOB,bmp:ni.XHR_RESPONSE_TYPE.BLOB,jpg:ni.XHR_RESPONSE_TYPE.BLOB,jpeg:ni.XHR_RESPONSE_TYPE.BLOB,tif:ni.XHR_RESPONSE_TYPE.BLOB,tiff:ni.XHR_RESPONSE_TYPE.BLOB,webp:ni.XHR_RESPONSE_TYPE.BLOB,tga:ni.XHR_RESPONSE_TYPE.BLOB,json:ni.XHR_RESPONSE_TYPE.JSON,text:ni.XHR_RESPONSE_TYPE.TEXT,txt:ni.XHR_RESPONSE_TYPE.TEXT,ttf:ni.XHR_RESPONSE_TYPE.BUFFER,otf:ni.XHR_RESPONSE_TYPE.BUFFER},ni.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var oi=window.URL||window.webkitURL;var si={caching:function(e,t){var r=this;Qn[e.url]?(e.data=Qn[e.url],e.complete()):e.onComplete.once((function(){return Qn[r.url]=r.data})),t()},parsing:function(e,t){if(e.data){if(e.xhr&&e.xhrType===ni.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!==typeof e.data){if(0===e.data.type.indexOf("image")){var r=oi.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=r,e.type=ni.TYPE.IMAGE,void(e.data.onload=function(){oi.revokeObjectURL(r),e.data.onload=null,t()})}}else{var n=e.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return e.data=new Image,e.data.src="data:"+n+";base64,"+function(e){for(var t="",r=0;r<e.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<e.length?n[a]=255&e.charCodeAt(r++):n[a]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var o=0;o<i.length;++o)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[o])}return t}(e.xhr.responseText),e.type=ni.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}},ui=/(#[\w-]+)?$/,li=function(){function e(t,r){var n=this;void 0===t&&(t=""),void 0===r&&(r=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this._queue=Jn(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Xn.a,this.onError=new Xn.a,this.onLoad=new Xn.a,this.onStart=new Xn.a,this.onComplete=new Xn.a;for(var i=0;i<e._defaultBeforeMiddleware.length;++i)this.pre(e._defaultBeforeMiddleware[i]);for(var a=0;a<e._defaultAfterMiddleware.length;++a)this.use(e._defaultAfterMiddleware[a])}var t=e.prototype;return t.add=function(e,t,r,n){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"===typeof e&&(n=t||e.callback||e.onComplete,r=e,t=e.url,e=e.name||e.key||e.url),"string"!==typeof t&&(n=r,r=t,t=e),"string"!==typeof t)throw new Error("No url passed to add resource to loader.");if("function"===typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new ni(e,t,r),"function"===typeof n&&this.resources[e].onAfterMiddleware.once(n),this.loading){for(var a=r.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var u=a.progressChunk*(o.length+1)/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=u;for(var l=0;l<o.length;++l)o[l].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},t.pre=function(e){return this._beforeMiddleware.push(e),this},t.use=function(e){return this._afterMiddleware.push(e),this},t.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},t.load=function(e){if("function"===typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(e){var t,r=Vn()(e,{strictMode:!0});if(t=r.protocol||!r.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var n=ui.exec(t)[0];-1!==(t=t.substr(0,t.length-n.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=n}return t},t._loadResource=function(e,t){var r=this;e._dequeue=t,qn(this._beforeMiddleware,(function(t,n){t.call(r,e,(function(){n(e.isComplete?{}:null)}))}),(function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())}),!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),qn(this._afterMiddleware,(function(r,n){r.call(t,e,n)}),(function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(100,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()}),!0)},$n(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),e}();li._defaultBeforeMiddleware=[],li._defaultAfterMiddleware=[],li.pre=function(e){return li._defaultBeforeMiddleware.push(e),li},li.use=function(e){return li._defaultAfterMiddleware.push(e),li};var ci=ni,hi=function(e,t){return(hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var di=function(){function e(){}return e.use=function(e,t){e.data&&e.type===ni.TYPE.IMAGE&&(e.texture=Qt.fromLoader(e.data,e.url,e.name)),t()},e}(),fi=function(e){function t(r,n){for(var i=e.call(this,r,n)||this,a=0;a<t._plugins.length;++a){var o=t._plugins[a],s=o.pre,u=o.use;s&&i.pre(s),u&&i.use(u)}return i._protected=!1,i}return function(e,t){function r(){this.constructor=e}hi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}(li);fi.registerPlugin({use:si.parsing}),fi.registerPlugin(di);var pi=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?fi.shared:new fi},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),mi=function(e,t){return(mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function vi(e,t){function r(){this.constructor=e}mi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var gi,yi,bi=function(e){function t(t,r,n,i){void 0===t&&(t=1500),void 0===n&&(n=16384),void 0===i&&(i=!1);var a=e.call(this)||this;return n>16384&&(n=16384),a._properties=[!1,!0,!1,!1,!1],a._maxSize=t,a._batchSize=n,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=R.NORMAL,a.autoResize=i,a.roundPixels=!0,a.baseTexture=null,a.setProperties(r),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return vi(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,ie(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(ht),_i=function(){function e(e,t,r){this.geometry=new lr,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;++n){var i=e[n];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||N.FLOAT,offset:i.offset},t[n]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new nr(fe(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){(o=this.dynamicProperties[r]).offset=t,t+=o.size,this.dynamicStride+=o.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new nr(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(r=0;r<this.staticProperties.length;++r){(o=this.staticProperties[r]).offset=i,i+=o.size,this.staticStride+=o.size}var a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new nr(this.staticData,!0,!1);for(r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];e.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===N.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset)}for(r=0;r<this.staticProperties.length;++r){o=this.staticProperties[r];e.addAttribute(o.attributeName,this.staticBuffer,0,o.type===N.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}},e.prototype.uploadDynamic=function(e,t,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(e,t,r,i.type===N.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,t,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(e,t,r,i.type===N.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),xi=function(e){function t(t){var r=e.call(this,t)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Ze,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:N.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Qr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=Kr.for2d(),r}return vi(t,e),t.prototype.render=function(e){var t=e.children,r=e._maxSize,n=e._batchSize,i=this.renderer,a=t.length;if(0!==a){a>r&&!e.autoResize&&(a=r);var o=e._buffers;o||(o=e._buffers=this.generateBuffers(e));var s=t[0]._texture.baseTexture;this.state.blendMode=le(e.blendMode,s.alphaMode),i.state.set(this.state);var u=i.gl,l=e.worldTransform.copyTo(this.tempMatrix);l.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=l.toArray(!0),this.shader.uniforms.uColor=ce(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var c=!1,h=0,d=0;h<a;h+=n,d+=1){var f=a-h;f>n&&(f=n),d>=o.length&&o.push(this._generateOneMoreBuffer(e));var p=o[d];p.uploadDynamic(t,h,f);var m=e._bufferUpdateIDs[d]||0;(c=c||p._updateID<m)&&(p._updateID=e._updateID,p.uploadStatic(t,h,f)),i.geometry.bind(p.geometry),u.drawElements(u.TRIANGLES,6*f,u.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],r=e._maxSize,n=e._batchSize,i=e._properties,a=0;a<r;a+=n)t.push(new _i(this.properties,i,n));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,r=e._properties;return new _i(this.properties,r,t)},t.prototype.uploadVertices=function(e,t,r,n,i,a){for(var o=0,s=0,u=0,l=0,c=0;c<r;++c){var h=e[t+c],d=h._texture,f=h.scale.x,p=h.scale.y,m=d.trim,v=d.orig;m?(o=(s=m.x-h.anchor.x*v.width)+m.width,u=(l=m.y-h.anchor.y*v.height)+m.height):(o=v.width*(1-h.anchor.x),s=v.width*-h.anchor.x,u=v.height*(1-h.anchor.y),l=v.height*-h.anchor.y),n[a]=s*f,n[a+1]=l*p,n[a+i]=o*f,n[a+i+1]=l*p,n[a+2*i]=o*f,n[a+2*i+1]=u*p,n[a+3*i]=s*f,n[a+3*i+1]=u*p,a+=4*i}},t.prototype.uploadPosition=function(e,t,r,n,i,a){for(var o=0;o<r;o++){var s=e[t+o].position;n[a]=s.x,n[a+1]=s.y,n[a+i]=s.x,n[a+i+1]=s.y,n[a+2*i]=s.x,n[a+2*i+1]=s.y,n[a+3*i]=s.x,n[a+3*i+1]=s.y,a+=4*i}},t.prototype.uploadRotation=function(e,t,r,n,i,a){for(var o=0;o<r;o++){var s=e[t+o].rotation;n[a]=s,n[a+i]=s,n[a+2*i]=s,n[a+3*i]=s,a+=4*i}},t.prototype.uploadUvs=function(e,t,r,n,i,a){for(var o=0;o<r;++o){var s=e[t+o]._texture._uvs;s?(n[a]=s.x0,n[a+1]=s.y0,n[a+i]=s.x1,n[a+i+1]=s.y1,n[a+2*i]=s.x2,n[a+2*i+1]=s.y2,n[a+3*i]=s.x3,n[a+3*i+1]=s.y3,a+=4*i):(n[a]=0,n[a+1]=0,n[a+i]=0,n[a+i+1]=0,n[a+2*i]=0,n[a+2*i+1]=0,n[a+3*i]=0,n[a+3*i+1]=0,a+=4*i)}},t.prototype.uploadTint=function(e,t,r,n,i,a){for(var o=0;o<r;++o){var s=e[t+o],u=s._texture.baseTexture.alphaMode>0,l=s.alpha,c=l<1&&u?he(s._tintRGB,l):s._tintRGB+(255*l<<24);n[a]=c,n[a+i]=c,n[a+2*i]=c,n[a+3*i]=c,a+=4*i}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(vr);!function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"}(gi||(gi={})),function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"}(yi||(yi={}));var wi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Ti=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Qt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Qt.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),Si=function(e,t){return(Si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Ei(e,t){function r(){this.constructor=e}Si(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Mi={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,n=e.holes,i=t.points,a=t.indices;if(r.length>=6){for(var o=[],s=0;s<n.length;s++){var u=n[s];o.push(r.length/2),r=r.concat(u.points)}var l=J()(r,o,2);if(!l)return;var c=i.length/2;for(s=0;s<l.length;s+=3)a.push(l[s]+c),a.push(l[s+1]+c),a.push(l[s+2]+c);for(s=0;s<r.length;s++)i.push(r[s])}}},Pi={build:function(e){var t,r,n=e.shape,i=e.points,a=n.x,o=n.y;if(i.length=0,e.type===ze.CIRC)t=n.radius,r=n.radius;else{var s=e.shape;t=s.width,r=s.height}if(0!==t&&0!==r){var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(t+r));u/=2.3;for(var l=2*Math.PI/u,c=0;c<u-.5;c++)i.push(a+Math.sin(-l*c)*t,o+Math.cos(-l*c)*r);i.push(i[0],i[1])}},triangulate:function(e,t){var r=e.points,n=t.points,i=t.indices,a=n.length/2,o=a,s=e.shape,u=e.matrix,l=s.x,c=s.y;n.push(e.matrix?u.a*l+u.c*c+u.tx:l,e.matrix?u.b*l+u.d*c+u.ty:c);for(var h=0;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a)}},Ai={build:function(e){var t=e.shape,r=t.x,n=t.y,i=t.width,a=t.height,o=e.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(e,t){var r=e.points,n=t.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Ci(e,t,r){return e+(t-e)*r}function Oi(e,t,r,n,i,a,o){void 0===o&&(o=[]);for(var s=o,u=0,l=0,c=0,h=0,d=0,f=0,p=0,m=0;p<=20;++p)u=Ci(e,r,m=p/20),l=Ci(t,n,m),c=Ci(r,i,m),h=Ci(n,a,m),d=Ci(u,c,m),f=Ci(l,h,m),s.push(d,f);return s}var ki={build:function(e){var t=e.shape,r=e.points,n=t.x,i=t.y,a=t.width,o=t.height,s=Math.max(0,Math.min(t.radius,Math.min(a,o)/2));r.length=0,s?(Oi(n,i+s,n,i,n+s,i,r),Oi(n+a-s,i,n+a,i,n+a,i+s,r),Oi(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),Oi(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(e,t){for(var r=e.points,n=t.points,i=t.indices,a=n.length/2,o=J()(r,null,2),s=0,u=o.length;s<u;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(s=0,u=r.length;s<u;s++)n.push(r[s],r[++s])}};function Ri(e,t,r,n,i,a,o,s){var u,l;o?(u=n,l=-r):(u=-n,l=r);var c=e-r*i+u,h=t-n*i+l,d=e+r*a+u,f=t+n*a+l;return s.push(c,h),s.push(d,f),2}function Li(e,t,r,n,i,a,o,s){var u=r-e,l=n-t,c=Math.atan2(u,l),h=Math.atan2(i-e,a-t);s&&c<h?c+=2*Math.PI:!s&&c>h&&(h+=2*Math.PI);var d=c,f=h-c,p=Math.abs(f),m=Math.sqrt(u*u+l*l),v=1+(15*p*Math.sqrt(m)/Math.PI>>0),g=f/v;if(d+=g,s){o.push(e,t),o.push(r,n);for(var y=1,b=d;y<v;y++,b+=g)o.push(e,t),o.push(e+Math.sin(b)*m,t+Math.cos(b)*m);o.push(e,t),o.push(i,a)}else{o.push(r,n),o.push(e,t);for(y=1,b=d;y<v;y++,b+=g)o.push(e+Math.sin(b)*m,t+Math.cos(b)*m),o.push(e,t);o.push(i,a),o.push(e,t)}return 2*v}function Ii(e,t){e.lineStyle.native?function(e,t){var r=0,n=e.shape,i=e.points||n.points,a=n.type!==ze.POLY||n.closeStroke;if(0!==i.length){var o=t.points,s=t.indices,u=i.length/2,l=o.length/2,c=l;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[2*r],i[2*r+1]),s.push(c,c+1),c++;a&&s.push(c,l)}}(e,t):function(e,t){var r=e.shape,n=e.points||r.points.slice(),i=t.closePointEps;if(0!==n.length){var a=e.lineStyle,o=new Ye(n[0],n[1]),s=new Ye(n[n.length-2],n[n.length-1]),u=r.type!==ze.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(u){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var c=.5*(o.x+s.x),h=.5*(s.y+o.y);n.unshift(c,h),n.push(c,h)}var d=t.points,f=n.length/2,p=n.length,m=d.length/2,v=a.width/2,g=v*v,y=a.miterLimit*a.miterLimit,b=n[0],_=n[1],x=n[2],w=n[3],T=0,S=0,E=-(_-w),M=b-x,P=0,A=0,C=Math.sqrt(E*E+M*M);E/=C,M/=C,E*=v,M*=v;var O=a.alignment,k=2*(1-O),R=2*O;u||(a.cap===yi.ROUND?p+=Li(b-E*(k-R)*.5,_-M*(k-R)*.5,b-E*k,_-M*k,b+E*R,_+M*R,d,!0)+2:a.cap===yi.SQUARE&&(p+=Ri(b,_,E,M,k,R,!0,d))),d.push(b-E*k,_-M*k),d.push(b+E*R,_+M*R);for(var L=1;L<f-1;++L){b=n[2*(L-1)],_=n[2*(L-1)+1],x=n[2*L],w=n[2*L+1],T=n[2*(L+1)],S=n[2*(L+1)+1],E=-(_-w),M=b-x,E/=C=Math.sqrt(E*E+M*M),M/=C,E*=v,M*=v,P=-(w-S),A=x-T,P/=C=Math.sqrt(P*P+A*A),A/=C,P*=v,A*=v;var I=x-b,D=_-w,N=x-T,F=S-w,z=D*N-F*I,B=z<0;if(Math.abs(z)<.1)d.push(x-E*k,w-M*k),d.push(x+E*R,w+M*R);else{var U=(-E+b)*(-M+w)-(-E+x)*(-M+_),j=(-P+T)*(-A+w)-(-P+x)*(-A+S),H=(I*j-N*U)/z,G=(F*U-D*j)/z,V=(H-x)*(H-x)+(G-w)*(G-w),W=x+(H-x)*k,X=w+(G-w)*k,Y=x-(H-x)*R,q=w-(G-w)*R,Z=B?k:R;V<=Math.min(I*I+D*D,N*N+F*F)+Z*Z*g?a.join===gi.BEVEL||V/g>y?(B?(d.push(W,X),d.push(x+E*R,w+M*R),d.push(W,X),d.push(x+P*R,w+A*R)):(d.push(x-E*k,w-M*k),d.push(Y,q),d.push(x-P*k,w-A*k),d.push(Y,q)),p+=2):a.join===gi.ROUND?B?(d.push(W,X),d.push(x+E*R,w+M*R),p+=Li(x,w,x+E*R,w+M*R,x+P*R,w+A*R,d,!0)+4,d.push(W,X),d.push(x+P*R,w+A*R)):(d.push(x-E*k,w-M*k),d.push(Y,q),p+=Li(x,w,x-E*k,w-M*k,x-P*k,w-A*k,d,!1)+4,d.push(x-P*k,w-A*k),d.push(Y,q)):(d.push(W,X),d.push(Y,q)):(d.push(x-E*k,w-M*k),d.push(x+E*R,w+M*R),a.join===gi.BEVEL||V/g>y||(a.join===gi.ROUND?p+=B?Li(x,w,x+E*R,w+M*R,x+P*R,w+A*R,d,!0)+2:Li(x,w,x-E*k,w-M*k,x-P*k,w-A*k,d,!1)+2:(B?(d.push(Y,q),d.push(Y,q)):(d.push(W,X),d.push(W,X)),p+=2)),d.push(x-P*k,w-A*k),d.push(x+P*R,w+A*R),p+=2)}}b=n[2*(f-2)],_=n[2*(f-2)+1],x=n[2*(f-1)],E=-(_-(w=n[2*(f-1)+1])),M=b-x,E/=C=Math.sqrt(E*E+M*M),M/=C,E*=v,M*=v,d.push(x-E*k,w-M*k),d.push(x+E*R,w+M*R),u||(a.cap===yi.ROUND?p+=Li(x-E*(k-R)*.5,w-M*(k-R)*.5,x-E*k,w-M*k,x+E*R,w+M*R,d,!1)+2:a.cap===yi.SQUARE&&(p+=Ri(x,w,E,M,k,R,!1,d)));var J=t.indices,Q=wi.epsilon*wi.epsilon;for(L=m;L<p+m-2;++L)b=d[2*L],_=d[2*L+1],x=d[2*(L+1)],w=d[2*(L+1)+1],T=d[2*(L+2)],S=d[2*(L+2)+1],Math.abs(b*(w-S)+x*(S-_)+T*(_-w))<Q||J.push(L,L+1,L+2)}}(e,t)}var Di,Ni=function(e){function t(t,r,n,i,a,o){void 0===o&&(o=0);a=a||i/2;for(var s=-1*Math.PI/2+o,u=2*n,l=Be/u,c=[],h=0;h<u;h++){var d=h%2?a:i,f=h*l+s;c.push(t+d*Math.cos(f),r+d*Math.sin(f))}return e.call(this,c)||this}return Ei(t,e),t}(We),Fi=function(){function e(){}return e.curveTo=function(e,t,r,n,i,a){var o=a[a.length-2],s=a[a.length-1]-t,u=o-e,l=n-t,c=r-e,h=Math.abs(s*c-u*l);if(h<1e-8||0===i)return a[a.length-2]===e&&a[a.length-1]===t||a.push(e,t),null;var d=s*s+u*u,f=l*l+c*c,p=s*l+u*c,m=i*Math.sqrt(d)/h,v=i*Math.sqrt(f)/h,g=m*p/d,y=v*p/f,b=m*c+v*u,_=m*l+v*s,x=u*(v+g),w=s*(v+g),T=c*(m+y),S=l*(m+y);return{cx:b+e,cy:_+t,radius:i,startAngle:Math.atan2(w-_,x-b),endAngle:Math.atan2(S-_,T-b),anticlockwise:u*l>c*s}},e.arc=function(e,t,r,n,i,a,o,s,u){for(var l=o-a,c=wi._segmentsCount(Math.abs(l)*i,40*Math.ceil(Math.abs(l)/Be)),h=l/(2*c),d=2*h,f=Math.cos(h),p=Math.sin(h),m=c-1,v=m%1/m,g=0;g<=m;++g){var y=h+a+d*(g+v*g),b=Math.cos(y),_=-Math.sin(y);u.push((f*b+p*_)*i+r,(f*-_+p*b)*i+n)}},e}(),zi=function(){function e(){}return e.curveLength=function(e,t,r,n,i,a,o,s){for(var u=0,l=0,c=0,h=0,d=0,f=0,p=0,m=0,v=0,g=0,y=0,b=e,_=t,x=1;x<=10;++x)g=b-(m=(p=(f=(d=1-(l=x/10))*d)*d)*e+3*f*l*r+3*d*(c=l*l)*i+(h=c*l)*o),y=_-(v=p*t+3*f*l*n+3*d*c*a+h*s),b=m,_=v,u+=Math.sqrt(g*g+y*y);return u},e.curveTo=function(t,r,n,i,a,o,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=wi._segmentsCount(e.curveLength(u,l,t,r,n,i,a,o)),h=0,d=0,f=0,p=0,m=0;s.push(u,l);for(var v=1,g=0;v<=c;++v)f=(d=(h=1-(g=v/c))*h)*h,m=(p=g*g)*g,s.push(f*u+3*d*g*t+3*h*p*n+m*a,f*l+3*d*g*r+3*h*p*i+m*o)},e}(),Bi=function(){function e(){}return e.curveLength=function(e,t,r,n,i,a){var o=e-2*r+i,s=t-2*n+a,u=2*r-2*e,l=2*n-2*t,c=4*(o*o+s*s),h=4*(o*u+s*l),d=u*u+l*l,f=2*Math.sqrt(c+h+d),p=Math.sqrt(c),m=2*c*p,v=2*Math.sqrt(d),g=h/p;return(m*f+p*h*(f-v)+(4*d*c-h*h)*Math.log((2*p+g+f)/(g+v)))/(4*m)},e.curveTo=function(t,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],u=wi._segmentsCount(e.curveLength(o,s,t,r,n,i)),l=0,c=0,h=1;h<=u;++h){var d=h/u;l=o+(t-o)*d,c=s+(r-s)*d,a.push(l+(t+(n-t)*d-l)*d,c+(r+(i-r)*d-c)*d)}},e}(),Ui=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),ji=((Di={})[ze.POLY]=Mi,Di[ze.CIRC]=Pi,Di[ze.ELIP]=Pi,Di[ze.RECT]=Ai,Di[ze.RREC]=ki,Di),Hi=[],Gi=[],Vi={buildPoly:Mi,buildCircle:Pi,buildRectangle:Ai,buildRoundedRectangle:ki,FILL_COMMANDS:ji,BATCH_POOL:Hi,DRAW_CALL_POOL:Gi,buildLine:Ii,Star:Ni,ArcUtils:Fi,BezierUtils:zi,QuadraticUtils:Bi,BatchPart:Ui},Wi=function(){function e(e,t,r,n){void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=n,this.type=e.type,this.points=[],this.holes=[]}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),Xi=new Ye,Yi=new at,qi=function(e){function t(){var t=e.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new at,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}return Ei(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Gi.push(this.drawCalls[e]);this.drawCalls.length=0;for(e=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),Hi.push(t)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,r,n){void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null);var i=new Wi(e,t,r,n);return this.graphicsData.push(i),this.dirty++,this},t.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var r=new Wi(e,null,null,t),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,r=0;r<t.length;++r){var n=t[r];if(n.fillStyle.visible&&(n.shape&&(n.matrix?n.matrix.applyInverse(e,Xi):Xi.copyFrom(e),n.shape.contains(Xi.x,Xi.y)))){var i=!1;if(n.holes)for(var a=0;a<n.holes.length;a++){if(n.holes[a].shape.contains(Xi.x,Xi.y)){i=!0;break}}if(!i)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,r=this.graphicsData,n=null,i=null;this.batches.length>0&&(i=(n=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<r.length;a++){this.shapeIndex++;var o=r[a],s=o.fillStyle,u=o.lineStyle;ji[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var l=0;l<2;l++){var c=0===l?s:u;if(c.visible){var h=c.texture.baseTexture,d=this.indices.length,f=this.points.length/2;h.wrapMode=z.REPEAT,0===l?this.processFill(o):this.processLine(o);var p=this.points.length/2-f;0!==p&&(n&&!this._compareStyles(i,c)&&(n.end(d,f),n=null),n||((n=Hi.pop()||new Ui).begin(c,d,f),this.batches.push(n),i=c),this.addUvs(this.points,t,c.texture,f,p,c.matrix))}}}var m=this.indices.length,v=this.points.length/2;if(n&&n.end(m,v),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var g=v>65535&&e;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},t.prototype._compareStyles=function(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native===!!t.native))},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var r=this.graphicsData[e],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,r=e.length;t<r;t++)for(var n=e[t],i=0;i<n.size;i++){var a=n.start+i;this.indicesUint16[a]=this.indicesUint16[a]-n.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++It._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Gi.push(this.drawCalls[t]);this.drawCalls.length=0;var r=this.colors,n=this.textureIds,i=Gi.pop();i||((i=new Cn).texArray=new On),i.texArray.count=0,i.start=0,i.size=0,i.type=L.TRIANGLES;var a=0,o=null,s=0,u=!1,l=L.TRIANGLES,c=0;this.drawCalls.push(i);for(t=0;t<this.batches.length;t++){var h=this.batches[t],d=h.style,f=d.texture.baseTexture;u!==!!d.native&&(l=(u=!!d.native)?L.LINES:L.TRIANGLES,o=null,a=8,e++),o!==f&&(o=f,f._batchEnabled!==e&&(8===a&&(e++,a=0,i.size>0&&((i=Gi.pop())||((i=new Cn).texArray=new On),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=l),f.touched=1,f._batchEnabled=e,f._batchLocation=a,f.wrapMode=10497,i.texArray.elements[i.texArray.count++]=f,a++)),i.size+=h.size,c+=h.size,s=f._batchLocation,this.addColors(r,d.color,d.alpha,h.attribSize),this.addTextureIds(n,s,h.attribSize)}It._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*e.length*4),a=new Float32Array(i),o=new Uint32Array(i),s=0,u=0;u<e.length/2;u++)a[s++]=e[2*u],a[s++]=e[2*u+1],a[s++]=t[2*u],a[s++]=t[2*u+1],o[s++]=r[u],a[s++]=n[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),Mi.triangulate(e,this)):ji[e.type].triangulate(e,this)},t.prototype.processLine=function(e){Ii(e,this);for(var t=0;t<e.holes.length;t++)Ii(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var r=e[t];ji[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,t=Yi,r=Ze.IDENTITY;this._bounds.clear(),t.clear();for(var n=0;n<this.graphicsData.length;n++){var i=this.graphicsData[n],a=i.shape,o=i.type,s=i.lineStyle,u=i.matrix||Ze.IDENTITY,l=0;if(s&&s.visible){var c=s.alignment;l=s.width,o===ze.POLY?l*=.5+Math.abs(.5-c):l*=Math.max(0,c)}if(r!==u&&(t.isEmpty()||(e.addBoundsMatrix(t,r),t.clear()),r=u),o===ze.RECT||o===ze.RREC){var h=a;t.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,l,l)}else if(o===ze.CIRC){var d=a;t.addFramePad(d.x,d.y,d.x,d.y,d.radius+l,d.radius+l)}else if(o===ze.ELIP){var f=a;t.addFramePad(f.x,f.y,f.x,f.y,f.width+l,f.height+l)}else{var p=a;e.addVerticesMatrix(r,p.points,0,p.points.length,l,l)}}t.isEmpty()||e.addBoundsMatrix(t,r),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var r=0;r<e.length/2;r++){var n=e[2*r],i=e[2*r+1];e[2*r]=t.a*n+t.c*i+t.tx,e[2*r+1]=t.b*n+t.d*i+t.ty}},t.prototype.addColors=function(e,t,r,n){for(var i=he((t>>16)+(65280&t)+((255&t)<<16),r);n-- >0;)e.push(i)},t.prototype.addTextureIds=function(e,t,r){for(;r-- >0;)e.push(t)},t.prototype.addUvs=function(e,t,r,n,i,a){void 0===a&&(a=null);for(var o=0,s=t.length,u=r.frame;o<i;){var l=e[2*(n+o)],c=e[2*(n+o)+1];if(a){var h=a.a*l+a.c*c+a.tx;c=a.b*l+a.d*c+a.ty,l=h}o++,t.push(l/u.width,c/u.height)}var d=r.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(t,r,s,i)},t.prototype.adjustUvs=function(e,t,r,n){for(var i=t.baseTexture,a=1e-6,o=r+2*n,s=t.frame,u=s.width/i.width,l=s.height/i.height,c=s.x/s.width,h=s.y/s.height,d=Math.floor(e[r]+a),f=Math.floor(e[r+1]+a),p=r+2;p<o;p+=2)d=Math.min(d,Math.floor(e[p]+a)),f=Math.min(f,Math.floor(e[p+1]+a));c-=d,h-=f;for(p=r;p<o;p+=2)e[p]=(e[p]+c)*u,e[p+1]=(e[p+1]+h)*l},t.BATCHABLE_SIZE=100,t}(In),Zi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=yi.BUTT,t.join=gi.MITER,t.miterLimit=10,t}return Ei(t,e),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(Ti),Ji=new Float32Array(3),Qi={},Ki=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this)||this;return r._geometry=t||new qi,r._geometry.refCount++,r.shader=null,r.state=Kr.for2d(),r._fillStyle=new Ti,r._lineStyle=new Zi,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=R.NORMAL,r}return Ei(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"===typeof e){var t=arguments;e={width:t[0]||0,color:t[1]||0,alpha:void 0!==t[2]?t[2]:1,alignment:void 0!==t[3]?t[3]:.5,native:!!t[4]}}return this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){if("number"===typeof e){Ee("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var t=arguments,r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6];e={width:r,texture:n,color:i,alpha:a,matrix:o,alignment:s,native:u},Object.keys(e).forEach((function(t){return void 0===e[t]&&delete e[t]}))}e=Object.assign({width:0,texture:Qt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:yi.BUTT,join:gi.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var l=e.width>0&&e.alpha>0;return l?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:l},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new We,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new We,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return n===e&&i===t||r.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,r,n){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),Bi.curveTo(e,t,r,n,i),this},t.prototype.bezierCurveTo=function(e,t,r,n,i,a){return this._initCurve(),zi.curveTo(e,t,r,n,i,a,this.currentPath.points),this},t.prototype.arcTo=function(e,t,r,n,i){this._initCurve(e,t);var a=this.currentPath.points,o=Fi.curveTo(e,t,r,n,i,a);if(o){var s=o.cx,u=o.cy,l=o.radius,c=o.startAngle,h=o.endAngle,d=o.anticlockwise;this.arc(s,u,l,c,h,d)}return this},t.prototype.arc=function(e,t,r,n,i,a){if(void 0===a&&(a=!1),n===i)return this;if(!a&&i<=n?i+=Be:a&&n<=i&&(n+=Be),0===i-n)return this;var o=e+Math.cos(n)*r,s=t+Math.sin(n)*r,u=this._geometry.closePointEps,l=this.currentPath?this.currentPath.points:null;if(l){var c=Math.abs(l[l.length-2]-o),h=Math.abs(l[l.length-1]-s);c<u&&h<u||l.push(o,s)}else this.moveTo(o,s),l=this.currentPath.points;return Fi.arc(o,s,e,t,r,n,i,a,l),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:Qt.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){if(e instanceof Qt){Ee("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var t=arguments,r=t[0],n=t[1],i=t[2],a=t[3];e={texture:r,color:n,alpha:i,matrix:a},Object.keys(e).forEach((function(t){return void 0===e[t]&&delete e[t]}))}e=Object.assign({texture:Qt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var o=e.alpha>0;return o?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:o},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,r,n){return this.drawShape(new He(e,t,r,n))},t.prototype.drawRoundedRect=function(e,t,r,n,i){return this.drawShape(new Xe(e,t,r,n,i))},t.prototype.drawCircle=function(e,t,r){return this.drawShape(new Ge(e,t,r))},t.prototype.drawEllipse=function(e,t,r,n){return this.drawShape(new Ve(e,t,r,n))},t.prototype.drawPolygon=function(){for(var e,t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=!0,a=r[0];a.points?(i=a.closeStroke,e=a.points):e=Array.isArray(r[0])?r[0]:r;var o=new We(e);return o.closeStroke=i,this.drawShape(o),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.drawStar=function(e,t,r,n,i,a){return void 0===a&&(a=0),this.drawPolygon(new Ni(e,t,r,n,i,a))},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===ze.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var t=this._geometry,r=e.context.supports.uint32Indices;t.updateBatches(r),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var n=0;n<r;n++){var i=e.batches[n],a=i.style.color,o=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),u={vertexData:o,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:ie(a),_tintRGB:a,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=u}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,r=this.batches.length;t<r;t++){var n=this.batches[t];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),r=this._geometry,n=this.tint,i=this.worldAlpha,a=t.uniforms,o=r.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(n>>16&255)/255*i,a.tint[1]=(n>>8&255)/255*i,a.tint[2]=(255&n)/255*i,a.tint[3]=i,e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(var s=0,u=o.length;s<u;s++)this._renderDrawCallDirect(e,r.drawCalls[s])},t.prototype._renderDrawCallDirect=function(e,t){for(var r=t.texArray,n=t.type,i=t.size,a=t.start,o=r.count,s=0;s<o;s++)e.texture.bind(r.elements[s],s);e.geometry.draw(n,i,a)},t.prototype._resolveDirectShader=function(e){var t=this.shader,r=this.pluginName;if(!t){if(!Qi[r]){for(var n=e.plugins.batch.MAX_TEXTURES,i=new Int32Array(n),a=0;a<n;a++)i[a]=a;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ze,default:fr.from({uSamplers:i},!0)},s=e.plugins[r]._shader.program;Qi[r]=new Qr(s,o)}t=Qi[r]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,r=t.minX,n=t.minY,i=t.maxX,a=t.maxY;this._bounds.addFrame(this.transform,r,n,i,a)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=ie(this.tint,Ji),t=0;t<this.batches.length;t++){var r=this.batches[t],n=r._batchRGB,i=(e[0]*n[0]*255<<16)+(e[1]*n[1]*255<<8)+(0|e[2]*n[2]*255);r._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,a=t.d,o=t.tx,s=t.ty,u=this._geometry.points,l=this.vertexData,c=0,h=0;h<u.length;h+=2){var d=u[h],f=u[h+1];l[c++]=r*d+i*f+o,l[c++]=a*f+n*d+s}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},t._TEMP_POINT=new Ye,t}(ht),$i=function(e,t){return($i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var ea,ta=new Ye,ra=new Uint16Array([0,1,2,0,2,3]),na=function(e){function t(t){var r=e.call(this)||this;return r._anchor=new qe(r._onAnchorUpdate,r,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=R.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=t||Qt.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=ra,r.pluginName="batch",r.isSprite=!0,r._roundPixels=X.ROUND_PIXELS,r}return function(e,t){function r(){this.constructor=e}$i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=xe(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=xe(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,a=t.d,o=t.tx,s=t.ty,u=this.vertexData,l=e.trim,c=e.orig,h=this._anchor,d=0,f=0,p=0,m=0;if(l?(d=(f=l.x-h._x*c.width)+l.width,p=(m=l.y-h._y*c.height)+l.height):(d=(f=-h._x*c.width)+c.width,p=(m=-h._y*c.height)+c.height),u[0]=r*f+i*m+o,u[1]=a*m+n*f+s,u[2]=r*d+i*m+o,u[3]=a*m+n*d+s,u[4]=r*d+i*p+o,u[5]=a*p+n*d+s,u[6]=r*f+i*p+o,u[7]=a*p+n*f+s,this._roundPixels)for(var v=X.RESOLUTION,g=0;g<u.length;++g)u[g]=Math.round((u[g]*v|0)/v)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,r=e.orig,n=this._anchor,i=this.transform.worldTransform,a=i.a,o=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=-n._x*r.width,d=h+r.width,f=-n._y*r.height,p=f+r.height;t[0]=a*h+s*f+l,t[1]=u*f+o*h+c,t[2]=a*d+s*f+l,t[3]=u*f+o*d+c,t[4]=a*d+s*p+l,t[5]=u*p+o*d+c,t[6]=a*h+s*p+l,t[7]=u*p+o*h+c},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new He),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,ta);var t=this._texture.orig.width,r=this._texture.orig.height,n=-t*this.anchor.x,i=0;return ta.x>=n&&ta.x<n+t&&(i=-r*this.anchor.y,ta.y>=i&&ta.y<i+r)},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"===typeof t?t:t&&t.texture){var r="boolean"===typeof t?t:t&&t.baseTexture;this._texture.destroy(!!r)}this._texture=null},t.from=function(e,r){return new t(e instanceof Qt?e:Qt.from(e,r))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=xe(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=xe(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Qt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(ht),ia=function(e,t){return(ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};!function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(ea||(ea={}));var aa={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:ea.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},oa=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],sa=function(){function e(e){this.styleID=0,this.reset(),ca(this,e,e)}return e.prototype.clone=function(){var t={};return ca(t,this,aa),new e(t)},e.prototype.reset=function(){ca(this,aa,aa)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=la(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=la(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=la(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var r=t.length-1;r>=0;r--){var n=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&oa.indexOf(n)<0&&(n='"'+n+'"'),t[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}();function ua(e){return"number"===typeof e?ae(e):("string"===typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function la(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=ua(e[t]);return e}return ua(e)}function ca(e,t,r){for(var n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}var ha=function(){function e(e,t,r,n,i,a,o,s,u){this.text=e,this.style=t,this.width=r,this.height=n,this.lines=i,this.lineWidths=a,this.lineHeight=o,this.maxLineWidth=s,this.fontProperties=u}return e.measureText=function(t,r,n,i){void 0===i&&(i=e._canvas),n=void 0===n||null===n?r.wordWrap:n;var a=r.toFontString(),o=e.measureFont(a);0===o.fontSize&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d");s.font=a;for(var u=(n?e.wordWrap(t,r,i):t).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),c=0,h=0;h<u.length;h++){var d=s.measureText(u[h]).width+(u[h].length-1)*r.letterSpacing;l[h]=d,c=Math.max(c,d)}var f=c+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);var p=r.lineHeight||o.fontSize+r.strokeThickness,m=Math.max(p,o.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new e(t,r,f,m,u,l,p+r.leading,c,o)},e.wordWrap=function(t,r,n){void 0===n&&(n=e._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",u=Object.create(null),l=r.letterSpacing,c=r.whiteSpace,h=e.collapseSpaces(c),d=e.collapseNewlines(c),f=!h,p=r.wordWrapWidth+l,m=e.tokenize(t),v=0;v<m.length;v++){var g=m[v];if(e.isNewline(g)){if(!d){s+=e.addLine(o),f=!h,o="",a=0;continue}g=" "}if(h){var y=e.isBreakingSpace(g),b=e.isBreakingSpace(o[o.length-1]);if(y&&b)continue}var _=e.getFromCache(g,l,u,i);if(_>p)if(""!==o&&(s+=e.addLine(o),o="",a=0),e.canBreakWords(g,r.breakWords))for(var x=e.wordWrapSplit(g),w=0;w<x.length;w++){for(var T=x[w],S=1;x[w+S];){var E=x[w+S],M=T[T.length-1];if(e.canBreakChars(M,E,g,w,r.breakWords))break;T+=E,S++}w+=T.length-1;var P=e.getFromCache(T,l,u,i);P+a>p&&(s+=e.addLine(o),f=!1,o="",a=0),o+=T,a+=P}else{o.length>0&&(s+=e.addLine(o),o="",a=0);var A=v===m.length-1;s+=e.addLine(g,!A),f=!1,o="",a=0}else _+a>p&&(f=!1,s+=e.addLine(o),o="",a=0),(o.length>0||!e.isBreakingSpace(g)||f)&&(o+=g,a+=_)}return s+=e.addLine(o,!1)},e.addLine=function(t,r){return void 0===r&&(r=!0),t=e.trimRight(t),t=r?t+"\n":t},e.getFromCache=function(e,t,r,n){var i=r[e];if("number"!==typeof i){var a=e.length*t;i=n.measureText(e).width+a,r[e]=i}return i},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!==typeof t)return"";for(var r=t.length-1;r>=0;r--){var n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return"string"===typeof t&&e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t){return"string"===typeof t&&e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],n="";if("string"!==typeof t)return r;for(var i=0;i<t.length;i++){var a=t[i];e.isBreakingSpace(a)||e.isNewline(a)?(""!==n&&(r.push(n),n=""),r.push(a)):n+=a}return""!==n&&r.push(n),r},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(e,t,r,n,i){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},n=e._canvas,i=e._context;i.font=t;var a=e.METRICS_STRING+e.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),u=2*s;s=s*e.BASELINE_MULTIPLIER|0,n.width=o,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,u).data,c=l.length,h=4*o,d=0,f=0,p=!1;for(d=0;d<s;++d){for(var m=0;m<h;m+=4)if(255!==l[f+m]){p=!0;break}if(p)break;f+=h}for(r.ascent=s-d,f=c-h,p=!1,d=u;d>s;--d){for(m=0;m<h;m+=4)if(255!==l[f+m]){p=!0;break}if(p)break;f-=h}return r.descent=d-s,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),da=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch(r){return document.createElement("canvas")}}();da.width=da.height=10,ha._canvas=da,ha._context=da.getContext("2d"),ha._fonts={},ha.METRICS_STRING="|\xc9q\xc5",ha.BASELINE_SYMBOL="M",ha.BASELINE_MULTIPLIER=1.4,ha._newlines=[10,13],ha._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var fa={texture:!0,children:!1,baseTexture:!0},pa=function(e){function t(t,r,n){var i=this,a=!1;n||(n=document.createElement("canvas"),a=!0),n.width=3,n.height=3;var o=Qt.from(n);return o.orig=new He,o.trim=new He,(i=e.call(this,o)||this)._ownCanvas=a,i.canvas=n,i.context=i.canvas.getContext("2d"),i._resolution=X.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=t,i.style=r,i.localStyleID=-1,i}return function(e,t){function r(){this.constructor=e}ia(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var r,n,i=this.context,a=ha.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,u=a.lines,l=a.lineHeight,c=a.lineWidths,h=a.maxLineWidth,d=a.fontProperties;this.canvas.width=Math.ceil((Math.max(1,o)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*t.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit;for(var f=t.dropShadow?2:1,p=0;p<f;++p){var m=t.dropShadow&&0===p,v=m?Math.ceil(Math.max(1,s)+2*t.padding):0,g=v*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var y=t.dropShadowColor,b=ie("number"===typeof y?y:oe(y));i.shadowColor="rgba("+255*b[0]+","+255*b[1]+","+255*b[2]+","+t.dropShadowAlpha+")",i.shadowBlur=t.dropShadowBlur,i.shadowOffsetX=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,i.shadowOffsetY=Math.sin(t.dropShadowAngle)*t.dropShadowDistance+g}else i.fillStyle=this._generateFillStyle(t,u,a),i.strokeStyle=t.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var _=0;_<u.length;_++)r=t.strokeThickness/2,n=t.strokeThickness/2+_*l+d.ascent,"right"===t.align?r+=h-c[_]:"center"===t.align&&(r+=(h-c[_])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(u[_],r+t.padding,n+t.padding-v,!0),t.fill&&this.drawLetterSpacing(u[_],r+t.padding,n+t.padding-v)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,r,n){void 0===n&&(n=!1);var i=this._style.letterSpacing;if(0!==i)for(var a=t,o=Array.from?Array.from(e):e.split(""),s=this.context.measureText(e).width,u=0,l=0;l<o.length;++l){var c=o[l];n?this.context.strokeText(c,a,r):this.context.fillText(c,a,r),a+=s-(u=this.context.measureText(e.substring(l+1)).width)+i,s=u}else n?this.context.strokeText(e,t,r):this.context.fillText(e,t,r)},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=Re(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,a=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(e.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(e.height/this._resolution),r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,t,r){var n,i=e.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var a=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,s=Math.ceil(this.canvas.width/this._resolution)-a-2*o,u=Math.ceil(this.canvas.height/this._resolution)-a-2*o,l=i.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var h=l.length+1,d=1;d<h;++d)c.push(d/h);if(l.unshift(i[0]),c.unshift(0),l.push(i[i.length-1]),c.push(1),e.fillGradientType===ea.LINEAR_VERTICAL){n=this.context.createLinearGradient(s/2,o,s/2,u+o);var f=0,p=(r.fontProperties.fontSize+e.strokeThickness)/u;for(d=0;d<t.length;d++)for(var m=r.lineHeight*d,v=0;v<l.length;v++){var g=m/u+("number"===typeof c[v]?c[v]:v/l.length)*p,y=Math.max(f,g);y=Math.min(y,1),n.addColorStop(y,l[v]),f=y}}else{n=this.context.createLinearGradient(o,u/2,s+o,u/2);var b=l.length+1,_=1;for(d=0;d<l.length;d++){var x=void 0;x="number"===typeof c[d]?c[d]:_/b,n.addColorStop(x,l[d]),_++}}return n},t.prototype.destroy=function(t){"boolean"===typeof t&&(t={children:t}),t=Object.assign({},fa,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=xe(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=xe(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof sa?e:new sa(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t}(na);X.UPLOADS_PER_FRAME=4;var ma=function(e,t){return(ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var va=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function ga(e,t){var r=!1;if(e&&e._textures&&e._textures.length)for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof Qt){var i=e._textures[n].baseTexture;-1===t.indexOf(i)&&(t.push(i),r=!0)}return r}function ya(e,t){if(e.baseTexture instanceof It){var r=e.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function ba(e,t){if(e._texture&&e._texture instanceof Qt){var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function _a(e,t){return t instanceof pa&&(t.updateText(!0),!0)}function xa(e,t){if(t instanceof sa){var r=t.toFontString();return ha.measureFont(r),!0}return!1}function wa(e,t){if(e instanceof pa){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function Ta(e,t){return e instanceof sa&&(-1===t.indexOf(e)&&t.push(e),!0)}var Sa=function(){function e(e){var t=this;this.limiter=new va(X.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(wa),this.registerFindHook(Ta),this.registerFindHook(ga),this.registerFindHook(ya),this.registerFindHook(ba),this.registerUploadHook(_a),this.registerUploadHook(xa)}return e.prototype.upload=function(e,t){"function"===typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,vt.system.addOnce(this.tick,this,ft.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)vt.system.addOnce(this.tick,this,ft.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(r=0,n=i.length;r<n;r++)i[r]()}},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof ht)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&vt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function Ea(e,t){return t instanceof It&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function Ma(e,t){if(!(t instanceof Ki))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&Ea(e,a.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function Pa(e,t){return e instanceof Ki&&(t.push(e),!0)}var Aa=function(e){function t(t){var r=e.call(this,t)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Pa),r.registerUploadHook(Ea),r.registerUploadHook(Ma),r}return function(e,t){function r(){this.constructor=e}ma(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Sa),Ca=function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}(),Oa=function(){function e(e,t,r){void 0===r&&(r=null),this._texture=e instanceof Qt?e:null,this.baseTexture=e instanceof It?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,r=Fe(e,null);return null===r&&(r=void 0!==t?parseFloat(t):1),1!==r&&this.baseTexture.setResolution(r),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE;r-t<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,u=null,l=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,c=new He(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s=a.rotated?new He(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new He(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(u=new He(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Qt(this.baseTexture,s,c,u,a.rotated?2:0,a.anchor),Qt.addToCache(this.textures[i],i)}r++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var r=0;r<e[t].length;r++){var n=e[t][r];this.animations[t].push(this.textures[n])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},e.prototype.destroy=function(e){var t;for(var r in void 0===e&&(e=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),ka=function(){function e(){}return e.use=function(t,r){var n=this,i=t.name+"_image";if(t.data&&t.type===ci.TYPE.JSON&&t.data.frames&&!n.resources[i]){var a={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=e.getResourcePath(t,n.baseUrl);n.add(i,o,a,(function(e){if(e.error)r(e.error);else{var n=new Oa(e.texture,t.data,t.url);n.parse((function(){t.spritesheet=n,t.textures=n.textures,r()}))}}))}else r()},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:K.a.resolve(e.url.replace(t,""),e.data.meta.image)},e}(),Ra=function(e,t){return(Ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function La(e,t){function r(){this.constructor=e}Ra(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Ia=new Ye,Da=function(e){function t(t,r,n){void 0===r&&(r=100),void 0===n&&(n=100);var i=e.call(this,t)||this;return i.tileTransform=new it,i._width=r,i._height=n,i.uvMatrix=i.texture.uvMatrix||new tn(t),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}return La(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,n)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new He),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ia);var t=this._width,r=this._height,n=-t*this.anchor._x;if(Ia.x>=n&&Ia.x<n+t){var i=-r*this.anchor._y;if(Ia.y>=i&&Ia.y<i+r)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,r){return"number"===typeof r&&(Ee("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new t(Qt.from(e,r),r.width,r.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(na),Na="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Fa=new Ze,za=function(e){function t(t){var r=e.call(this,t)||this,n={globals:r.renderer.globalUniforms};return r.shader=Qr.from(Na,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",n),r.simpleShader=Qr.from(Na,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",n),r.quad=new hr,r.state=Kr.for2d(),r}return La(t,e),t.prototype.render=function(e){var t=this.renderer,r=this.quad,n=r.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((n=r.uvs)[0]=n[6]=-e.anchor.x,n[1]=n[3]=-e.anchor.y,n[2]=n[4]=1-e.anchor.x,n[5]=n[7]=1-e.anchor.y),r.invalidate();var i=e._texture,a=i.baseTexture,o=e.tileTransform.localTransform,s=e.uvMatrix,u=a.isPowerOfTwo&&i.frame.width===a.width&&i.frame.height===a.height;u&&(a._glTextures[t.CONTEXT_UID]?u=a.wrapMode!==z.CLAMP:a.wrapMode===z.CLAMP&&(a.wrapMode=z.REPEAT));var l=u?this.simpleShader:this.shader,c=i.width,h=i.height,d=e._width,f=e._height;Fa.set(o.a*c/d,o.b*c/f,o.c*h/d,o.d*h/f,o.tx/d,o.ty/f),Fa.invert(),u?Fa.prepend(s.mapCoord):(l.uniforms.uMapCoord=s.mapCoord.toArray(!0),l.uniforms.uClampFrame=s.uClampFrame,l.uniforms.uClampOffset=s.uClampOffset),l.uniforms.uTransform=Fa.toArray(!0),l.uniforms.uColor=de(e.tint,e.worldAlpha,l.uniforms.uColor,a.alphaMode),l.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),l.uniforms.uSampler=i,t.shader.bind(l),t.geometry.bind(r),this.state.blendMode=le(e.blendMode,a.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(vr),Ba=function(e,t){return(Ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Ua(e,t){function r(){this.constructor=e}Ba(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var ja=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),Ha=new Ye,Ga=new We,Va=function(e){function t(t,r,n,i){void 0===i&&(i=L.TRIANGLES);var a=e.call(this)||this;return a.geometry=t,t.refCount++,a.shader=r,a.state=n||Kr.for2d(),a.drawMode=i,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=0,a._transformID=-1,a._roundPixels=X.ROUND_PIXELS,a.batchUvs=null,a}return Ua(t,e),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===L.TRIANGLES&&r.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.program.uniformData.translationMatrix&&(t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry,t=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var r=this.transform.worldTransform,n=r.a,i=r.b,a=r.c,o=r.d,s=r.tx,u=r.ty,l=this.vertexData,c=0;c<l.length/2;c++){var h=t[2*c],d=t[2*c+1];l[2*c]=n*h+a*d+s,l[2*c+1]=i*h+o*d+u}if(this._roundPixels){var f=X.RESOLUTION;for(c=0;c<l.length;++c)l[c]=Math.round((l[c]*f|0)/f)}this.vertexDirty=e.vertexDirtyId}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new ja(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Ha);for(var t=this.geometry.getBuffer("aVertexPosition").data,r=Ga.points,n=this.geometry.getIndex().data,i=n.length,a=4===this.drawMode?3:1,o=0;o+2<i;o+=a){var s=2*n[o],u=2*n[o+1],l=2*n[o+2];if(r[0]=t[s],r[1]=t[s+1],r[2]=t[u],r[3]=t[u+1],r[4]=t[l],r[5]=t[l+1],Ga.contains(Ha.x,Ha.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(ht),Wa=function(e){function t(t,r){var n=this,i={uSampler:t,alpha:1,uTextureMatrix:Ze.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(i,r.uniforms),(n=e.call(this,r.program||Jr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,n.uvMatrix=new tn(t),n.batchable=void 0===r.program,n.pluginName=r.pluginName,n.tint=r.tint,n.alpha=r.alpha,n}return Ua(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;de(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Qr),Xa=function(e){function t(t,r,n){var i=e.call(this)||this,a=new nr(t),o=new nr(r,!0),s=new nr(n,!0,!0);return i.addAttribute("aVertexPosition",a,2,!1,N.FLOAT).addAttribute("aTextureCoord",o,2,!1,N.FLOAT).addIndex(s),i._updateId=-1,i}return Ua(t,e),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(lr),Ya=function(e,t){return(Ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var qa=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Za=function(){function e(){}return e.test=function(e){return"string"===typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var n in t){var i=t[n].match(/^[a-z]+/gm)[0],a=t[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var s in a){var u=a[s].split("="),l=u[0],c=u[1].replace(/"/gm,""),h=parseFloat(c),d=isNaN(h)?c:h;o[l]=d}r[i].push(o)}var f=new qa;return r.info.forEach((function(e){return f.info.push({face:e.face,size:parseInt(e.size,10)})})),r.common.forEach((function(e){return f.common.push({lineHeight:parseInt(e.lineHeight,10)})})),r.page.forEach((function(e){return f.page.push({id:parseInt(e.id,10),file:e.file})})),r.char.forEach((function(e){return f.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),r.kerning.forEach((function(e){return f.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),f},e}(),Ja=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new qa,r=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),s=0;s<r.length;s++)t.info.push({face:r[s].getAttribute("face"),size:parseInt(r[s].getAttribute("size"),10)});for(s=0;s<n.length;s++)t.common.push({lineHeight:parseInt(n[s].getAttribute("lineHeight"),10)});for(s=0;s<i.length;s++)t.page.push({id:parseInt(i[s].getAttribute("id"),10)||0,file:i[s].getAttribute("file")});for(s=0;s<a.length;s++){var u=a[s];t.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(s=0;s<o.length;s++)t.kerning.push({first:parseInt(o[s].getAttribute("first"),10),second:parseInt(o[s].getAttribute("second"),10),amount:parseInt(o[s].getAttribute("amount"),10)});return t},e}(),Qa=function(){function e(){}return e.test=function(e){if("string"===typeof e&&e.indexOf("<font>")>-1){var t=(new self.DOMParser).parseFromString(e,"text/xml");return Ja.test(t)}return!1},e.parse=function(e){var t=(new window.DOMParser).parseFromString(e,"text/xml");return Ja.parse(t)},e}(),Ka=[Za,Ja,Qa];function $a(e){for(var t=0;t<Ka.length;t++)if(Ka[t].test(e))return Ka[t];return null}function eo(e,t,r,n,i,a){var o,s=r.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,c=Math.ceil(e.width/n)-u-2*l,h=Math.ceil(e.height/n)-u-2*l,d=s.slice(),f=r.fillGradientStops.slice();if(!f.length)for(var p=d.length+1,m=1;m<p;++m)f.push(m/p);if(d.unshift(s[0]),f.unshift(0),d.push(s[s.length-1]),f.push(1),r.fillGradientType===ea.LINEAR_VERTICAL){o=t.createLinearGradient(c/2,l,c/2,h+l);var v=0,g=(a.fontProperties.fontSize+r.strokeThickness)/h;for(m=0;m<i.length;m++)for(var y=a.lineHeight*m,b=0;b<d.length;b++){var _=y/h+("number"===typeof f[b]?f[b]:b/d.length)*g,x=Math.max(v,_);x=Math.min(x,1),o.addColorStop(x,d[b]),v=x}}else{o=t.createLinearGradient(l,h/2,c+l,h/2);var w=d.length+1,T=1;for(m=0;m<d.length;m++){var S=void 0;S="number"===typeof f[m]?f[m]:T/w,o.addColorStop(S,d[m]),T++}}return o}function to(e,t,r,n,i,a,o){var s=r.text,u=r.fontProperties;t.translate(n,i),t.scale(a,a);var l=o.strokeThickness/2,c=-o.strokeThickness/2;t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=eo(e,t,o,a,[s],r),t.strokeStyle=o.stroke,t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=eo(e,t,o,a,[s],r),t.strokeStyle=o.stroke;var h=o.dropShadowColor,d=ie("number"===typeof h?h:oe(h));o.dropShadow?(t.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+o.dropShadowAlpha+")",t.shadowBlur=o.dropShadowBlur,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*o.dropShadowDistance,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*o.dropShadowDistance):(t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),o.stroke&&o.strokeThickness&&t.strokeText(s,l,c+r.lineHeight-u.descent),o.fill&&t.fillText(s,l,c+r.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}var ro=function(){function e(e,t){var r=e.info[0],n=e.common[0],i=Fe(e.page[0].file),a={};this.font=r.face,this.size=r.size,this.lineHeight=n.lineHeight/i,this.chars={},this.pageTextures=a;for(var o=0;o<e.page.length;o++){var s=e.page[o],u=s.id,l=s.file;a[u]=t instanceof Array?t[o]:t[l]}for(o=0;o<e.char.length;o++){var c=e.char[o],h=(u=c.id,c.page),d=e.char[o],f=d.x,p=d.y,m=d.width,v=d.height,g=d.xoffset,y=d.yoffset,b=d.xadvance;p/=i,m/=i,v/=i,g/=i,y/=i,b/=i;var _=new He((f/=i)+a[h].frame.x/i,p+a[h].frame.y/i,m,v);this.chars[u]={xOffset:g,yOffset:y,xAdvance:b,kerning:{},texture:new Qt(a[h].baseTexture,_),page:h}}for(o=0;o<e.kerning.length;o++){var x=e.kerning[o],w=x.first,T=x.second,S=x.amount;w/=i,T/=i,S/=i,this.chars[T]&&(this.chars[T].kerning[w]=S)}}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r){var n;if(t instanceof qa)n=t;else{var i=$a(t);if(!i)throw new Error("Unrecognized data format for font.");n=i.parse(t)}r instanceof Qt&&(r=[r]);var a=new e(n,r);return e.available[a.font]=a,a},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,u=i.textureWidth,l=i.textureHeight,c=function(e){"string"===typeof e&&(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,u=o;s<=u;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,i.split(""))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(a),h=r instanceof sa?r:new sa(r),d=u,f=new qa;f.info[0]={face:h.fontFamily,size:h.fontSize},f.common[0]={lineHeight:h.fontSize};for(var p,m,v,g=0,y=0,b=0,_=[],x=0;x<c.length;x++){p||((p=document.createElement("canvas")).width=u,p.height=l,m=p.getContext("2d"),v=new It(p,{resolution:s}),_.push(new Qt(v)),f.page.push({id:_.length-1,file:""}));var w=ha.measureText(c[x],h,!1,p),T=w.width,S=Math.ceil(w.height),E=Math.ceil(("italic"===h.fontStyle?2:1)*T);if(y>=l-S*s){if(0===y)throw new Error("[BitmapFont] textureHeight "+l+"px is too small for "+h.fontSize+"px fonts");--x,p=null,m=null,v=null,y=0,g=0,b=0}else if(b=Math.max(S+w.fontProperties.descent,b),E*s+g>=d)--x,y+=b*s,y=Math.ceil(y),g=0,b=0;else{to(p,m,w,g,y,s,h);var M=w.text.charCodeAt(0);f.char.push({id:M,page:_.length-1,x:g/s,y:y/s,width:E,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),g+=(E+2*o)*s,g=Math.ceil(g)}}var P=new e(f,_);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=P,P},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),no=[],io=[],ao=function(e){function t(r,n){void 0===n&&(n={});var i=e.call(this)||this;i._tint=16777215,n.font&&(Ee("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(n));var a=Object.assign({},t.styleDefaults,n),o=a.align,s=a.tint,u=a.maxWidth,l=a.letterSpacing,c=a.fontName,h=a.fontSize;if(!ro.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=c,i._fontSize=h||ro.available[c].size,i._text=r,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new qe((function(){i.dirty=!0}),i,0,0),i._roundPixels=X.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return function(e,t){function r(){this.constructor=e}Ya(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.updateText=function(){for(var e,t=ro.available[this._fontName],r=this._fontSize/t.size,n=new Ye,i=[],a=[],o=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",s=o.length,u=this._maxWidth*t.size/this._fontSize,l=null,c=0,h=0,d=0,f=-1,p=0,m=0,v=0,g=0;g<s;g++){var y=o.charCodeAt(g),b=o.charAt(g);if(/(?:\s)/.test(b)&&(f=g,p=c),"\r"!==b&&"\n"!==b){var _=t.chars[y];if(_){l&&_.kerning[l]&&(n.x+=_.kerning[l]);var x=io.pop()||{texture:Qt.EMPTY,line:0,charCode:0,position:new Ye};x.texture=_.texture,x.line=d,x.charCode=y,x.position.x=n.x+_.xOffset+this._letterSpacing/2,x.position.y=n.y+_.yOffset,i.push(x),n.x+=_.xAdvance+this._letterSpacing,c=n.x,v=Math.max(v,_.yOffset+_.texture.height),l=y,-1!==f&&u>0&&n.x>u&&(_e(i,1+f-++m,1+g-f),g=f,f=-1,a.push(p),h=Math.max(h,p),d++,n.x=0,n.y+=t.lineHeight,l=null)}}else a.push(c),h=Math.max(h,c),++d,++m,n.x=0,n.y+=t.lineHeight,l=null}var w=o.charAt(o.length-1);"\r"!==w&&"\n"!==w&&(/(?:\s)/.test(w)&&(c=p),a.push(c),h=Math.max(h,c));var T=[];for(g=0;g<=d;g++){var S=0;"right"===this._align?S=h-a[g]:"center"===this._align&&(S=(h-a[g])/2),T.push(S)}var E=i.length,M={},P=[],A=this._activePagesMeshData;for(g=0;g<A.length;g++)no.push(A[g]);for(g=0;g<E;g++){var C=(z=i[g].texture).baseTexture.uid;if(!M[C]){if(!(W=no.pop())){var O=new Xa,k=new Wa(Qt.EMPTY);W={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Va(O,k),vertices:null,uvs:null,indices:null}}W.index=0,W.indexCount=0,W.vertexCount=0,W.uvsCount=0,W.total=0;var R=this._textureCache;R[C]=R[C]||new Qt(z.baseTexture),W.mesh.texture=R[C],W.mesh.tint=this._tint,P.push(W),M[C]=W}M[C].total++}for(g=0;g<A.length;g++)-1===P.indexOf(A[g])&&this.removeChild(A[g].mesh);for(g=0;g<P.length;g++)P[g].mesh.parent!==this&&this.addChild(P[g].mesh);for(var g in this._activePagesMeshData=P,M){var L=(W=M[g]).total;if(!((null===(e=W.indices)||void 0===e?void 0:e.length)>6*L)||W.vertices.length<2*Va.BATCHABLE_SIZE)W.vertices=new Float32Array(8*L),W.uvs=new Float32Array(8*L),W.indices=new Uint16Array(6*L);else for(var I=W.total,D=W.vertices,N=4*I*2;N<D.length;N++)D[N]=0;W.mesh.size=6*L}for(g=0;g<E;g++){var F=(b=i[g]).position.x+T[b.line];this._roundPixels&&(F=Math.round(F));var z,B=F*r,U=b.position.y*r,j=M[(z=b.texture).baseTexture.uid],H=z.frame,G=z._uvs,V=j.index++;j.indices[6*V+0]=0+4*V,j.indices[6*V+1]=1+4*V,j.indices[6*V+2]=2+4*V,j.indices[6*V+3]=0+4*V,j.indices[6*V+4]=2+4*V,j.indices[6*V+5]=3+4*V,j.vertices[8*V+0]=B,j.vertices[8*V+1]=U,j.vertices[8*V+2]=B+H.width*r,j.vertices[8*V+3]=U,j.vertices[8*V+4]=B+H.width*r,j.vertices[8*V+5]=U+H.height*r,j.vertices[8*V+6]=B,j.vertices[8*V+7]=U+H.height*r,j.uvs[8*V+0]=G.x0,j.uvs[8*V+1]=G.y0,j.uvs[8*V+2]=G.x1,j.uvs[8*V+3]=G.y1,j.uvs[8*V+4]=G.x2,j.uvs[8*V+5]=G.y2,j.uvs[8*V+6]=G.x3,j.uvs[8*V+7]=G.y3}for(var g in this._textWidth=h*r,this._textHeight=(n.y+t.lineHeight)*r,M){var W=M[g];if(0!==this.anchor.x||0!==this.anchor.y)for(var X=0,Y=this._textWidth*this.anchor.x,q=this._textHeight*this.anchor.y,Z=0;Z<W.total;Z++)W.vertices[X++]-=Y,W.vertices[X++]-=q,W.vertices[X++]-=Y,W.vertices[X++]-=q,W.vertices[X++]-=Y,W.vertices[X++]-=q,W.vertices[X++]-=Y,W.vertices[X++]-=q;this._maxLineHeight=v*r;var J=W.mesh.geometry.getBuffer("aVertexPosition"),Q=W.mesh.geometry.getBuffer("aTextureCoord"),K=W.mesh.geometry.getIndex();J.data=W.vertices,Q.data=W.uvs,K.data=W.indices,J.update(),Q.update(),K.update()}for(g=0;g<i.length;g++)io.push(i[g])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!ro.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype._upgradeStyle=function(e){if("string"===typeof e.font){var t=e.font.split(" ");e.fontName=1===t.length?t[0]:t.slice(1).join(" "),t.length>=2&&(e.fontSize=parseInt(t[0],10))}else e.fontName=e.font.name,e.fontSize="number"===typeof e.font.size?e.font.size:parseInt(e.font.size,10)},t.prototype.destroy=function(t){var r=this._textureCache;for(var n in r){r[n].destroy(),delete r[n]}this._textureCache=null,e.prototype.destroy.call(this,t)},t.registerFont=function(e,t){return Ee("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),ro.install(e,t)},Object.defineProperty(t,"fonts",{get:function(){return Ee("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),ro.available},enumerable:!1,configurable:!0}),t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(ht),oo=function(){function e(){}return e.add=function(){ci.setExtensionXhrType("fnt",ci.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var n=$a(t.data);if(n)for(var i=e.getBaseUrl(this,t),a=n.parse(t.data),o={},s=function(e){o[e.metadata.pageFile]=e.texture,Object.keys(o).length===a.page.length&&(t.bitmapFont=ro.install(a,o),r())},u=0;u<a.page.length;++u){var l=a.page[u].file,c=i+l,h=!1;for(var d in this.resources){var f=this.resources[d];if(f.url===c){f.metadata.pageFile=l,f.texture?s(f):f.onAfterMiddleware.add(s),h=!0;break}}if(!h){var p={crossOrigin:t.crossOrigin,loadType:ci.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(c,p,s)}}else r()},e.getBaseUrl=function(t,r){var n=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&("."===n&&(n=""),t.baseUrl&&n&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(n+="/")),(n=n.replace(t.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}(),so=function(e,t){return(so=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var uo=function(e){function t(t){void 0===t&&(t=1);var r=e.call(this,Pn,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=t,r}return function(e,t){function r(){this.constructor=e}so(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}($r),lo=function(e,t){return(lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function co(e,t){function r(){this.constructor=e}lo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var ho,fo,po,mo,vo,go,yo,bo,_o,xo,wo,To,So,Eo,Mo,Po,Ao,Co={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Oo=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ho||(ho={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(fo||(fo={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(po||(po={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(mo||(mo={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(vo||(vo={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(go||(go={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(yo||(yo={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(bo||(bo={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(_o||(_o={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(xo||(xo={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"}(wo||(wo={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(To||(To={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(So||(So={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(Eo||(Eo={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(Mo||(Mo={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Po||(Po={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(Ao||(Ao={}));var ko=function(e){function t(t,r,n,i,a){void 0===r&&(r=8),void 0===n&&(n=4),void 0===i&&(i=X.FILTER_RESOLUTION),void 0===a&&(a=5);var o=this,s=function(e,t){var r,n=Math.ceil(e/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",a="";r=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<e;o++){var s=r.replace("%index%",o.toString());a+=s=s.replace("%sampleIndex%",o-(n-1)+".0"),a+="\n"}return(i=i.replace("%blur%",a)).replace("%size%",e.toString())}(a,t),u=function(e){for(var t,r=Co[e],n=r.length,i=Oo,a="",o=0;o<e;o++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString());t=o,o>=n&&(t=e-o-1),a+=s=s.replace("%value%",r[t].toString()),a+="\n"}return(i=i.replace("%blur%",a)).replace("%size%",e.toString())}(a);return(o=e.call(this,s,u)||this).horizontal=t,o.resolution=i,o._quality=0,o.quality=n,o.blur=r,o}return co(t,e),t.prototype.apply=function(e,t,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{var i=e.getFilterTexture(),a=e.renderer,o=t,s=i;this.state.blend=!1,e.applyFilter(this,o,s,So.CLEAR);for(var u=1;u<this.passes-1;u++){e.bindAndClear(o,So.BLIT),this.uniforms.uSampler=s;var l=s;s=o,o=l,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,r,n),e.returnFilterTexture(i)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}($r),Ro=function(e){function t(t,r,n,i){void 0===t&&(t=8),void 0===r&&(r=4),void 0===n&&(n=X.FILTER_RESOLUTION),void 0===i&&(i=5);var a=e.call(this)||this;return a.blurXFilter=new ko(!0,t,r,n,i),a.blurYFilter=new ko(!1,t,r,n,i),a.resolution=n,a.quality=r,a.blur=t,a.repeatEdgePixels=!1,a}return co(t,e),t.prototype.apply=function(e,t,r,n){var i=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(i&&a){var o=e.getFilterTexture();this.blurXFilter.apply(e,t,o,So.CLEAR),this.blurYFilter.apply(e,o,r,n),e.returnFilterTexture(o)}else a?this.blurYFilter.apply(e,t,r,n):this.blurXFilter.apply(e,t,r,n)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}($r),Lo=function(e,t){return(Lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var Io=function(e){function t(){var t=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=e.call(this,An,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,t}return function(e,t){function r(){this.constructor=e}Lo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.greyscale=function(e,t){var r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var r=Math.cos(e),n=Math.sin(e),i=1/3,a=(0,Math.sqrt)(i),o=[r+(1-r)*i,i*(1-r)-a*n,i*(1-r)+a*n,0,0,i*(1-r)+a*n,r+i*(1-r),i*(1-r)-a*n,0,0,i*(1-r)-a*n,i*(1-r)+a*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(o,t)},t.prototype.contrast=function(e,t){var r=(e||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var r=2*e/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,r,n,i){var a=((r=r||16770432)>>16&255)/255,o=(r>>8&255)/255,s=(255&r)/255,u=((n=n||3375104)>>16&255)/255,l=(n>>8&255)/255,c=(255&n)/255,h=[.3,.59,.11,0,0,a,o,s,e=e||.2,0,u,l,c,t=t||.15,0,a-u,o-l,s-c,0,0];this._loadMatrix(h,i)},t.prototype.night=function(e,t){var r=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.predator=function(e,t){var r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}($r);Io.prototype.grayscale=Io.prototype.greyscale;var Do=function(e,t){return(Do=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var No=function(e){function t(t,r){var n=this,i=new Ze;return t.renderable=!1,(n=e.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,n.maskMatrix=i,null!==r&&void 0!==r||(r=20),n.scale=new Ye(r,r),n}return function(e,t){function r(){this.constructor=e}Do(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.apply=function(e,t,r,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,a=Math.sqrt(i.a*i.a+i.b*i.b),o=Math.sqrt(i.c*i.c+i.d*i.d);0!==a&&0!==o&&(this.uniforms.rotation[0]=i.a/a,this.uniforms.rotation[1]=i.b/a,this.uniforms.rotation[2]=i.c/o,this.uniforms.rotation[3]=i.d/o),e.applyFilter(this,t,r,n)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}($r),Fo=function(e,t){return(Fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var zo=function(e){function t(){return e.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(e,t){function r(){this.constructor=e}Fo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}($r),Bo=function(e,t){return(Bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var Uo=function(e){function t(t,r){void 0===t&&(t=.5),void 0===r&&(r=Math.random());var n=e.call(this,An,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return n.noise=t,n.seed=r,n}return function(e,t){function r(){this.constructor=e}Bo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}($r),jo=new Ze;ut.prototype._cacheAsBitmap=!1,ut.prototype._cacheData=null;var Ho=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(ut.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new Ho),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),ut.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},ut.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.alpha;this.alpha=1,e.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var n=this.filters[0].padding;r.pad(n)}r.ceil(X.RESOLUTION);var i=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),o=e.projection.transform,s=$t.create({width:r.width,height:r.height}),u="cacheAsBitmap_"+Te();this._cacheData.textureCacheId=u,It.addToCache(s.baseTexture,u),Qt.addToCache(s,u);var l=this.transform.localTransform.copyTo(jo).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,s,!0,l,!1),e.projection.transform=o,e.renderTexture.bind(i,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new na(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-r.x/r.width,c.anchor.y=-r.y/r.height,c.alpha=t,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},ut.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},ut.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var n=e.context,i=e._projTransform;t.ceil(X.RESOLUTION);var a=$t.create({width:t.width,height:t.height}),o="cacheAsBitmap_"+Te();this._cacheData.textureCacheId=o,It.addToCache(a.baseTexture,o),Qt.addToCache(a,o);var s=jo;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,a,!0,s,!1),e.context=n,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new na(a);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-t.x/t.width,u.anchor.y=-t.y/t.height,u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},ut.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},ut.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},ut.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,It.removeFromCache(this._cacheData.textureCacheId),Qt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},ut.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},ut.prototype.name=null,ht.prototype.getChildByName=function(e,t){for(var r=0,n=this.children.length;r<n;r++)if(this.children[r].name===e)return this.children[r];if(t)for(r=0,n=this.children.length;r<n;r++){if(this.children[r].getChildByName){var i=this.children[r].getChildByName(e,!0);if(i)return i}}return null},ut.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Ye),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var Go=function(e,t){return(Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Vo(e,t){function r(){this.constructor=e}Go(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Wo=function(e){function t(t,r,n,i){void 0===t&&(t=100),void 0===r&&(r=100),void 0===n&&(n=10),void 0===i&&(i=10);var a=e.call(this)||this;return a.segWidth=n,a.segHeight=i,a.width=t,a.height=r,a.build(),a}return Vo(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],r=[],n=[],i=this.segWidth-1,a=this.segHeight-1,o=this.width/i,s=this.height/a,u=0;u<e;u++){var l=u%this.segWidth,c=u/this.segWidth|0;t.push(l*o,c*s),r.push(l/i,c/a)}var h=i*a;for(u=0;u<h;u++){var d=u%i,f=u/i|0,p=f*this.segWidth+d,m=f*this.segWidth+d+1,v=(f+1)*this.segWidth+d,g=(f+1)*this.segWidth+d+1;n.push(p,m,v,m,g,v)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(Xa),Xo=function(e){function t(t,r,n){void 0===t&&(t=200),void 0===n&&(n=0);var i=e.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return i.points=r,i._width=t,i.textureScale=n,i.build(),i}return Vo(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),n=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),n.data=new Uint16Array(6*(e.length-1)));var i=r.data,a=n.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var o=0,s=e[0],u=this._width*this.textureScale,l=e.length,c=0;c<l;c++){var h=4*c;if(this.textureScale>0){var d=s.x-e[c].x,f=s.y-e[c].y,p=Math.sqrt(d*d+f*f);s=e[c],o+=p/u}else o=c/(l-1);i[h]=o,i[h+1]=0,i[h+2]=o,i[h+3]=1}var m=0;for(c=0;c<l-1;c++){h=2*c;a[m++]=h,a[m++]=h+1,a[m++]=h+2,a[m++]=h+2,a[m++]=h+1,a[m++]=h+3}r.update(),n.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t,r=e[0],n=0,i=0,a=this.buffers[0].data,o=e.length,s=0;s<o;s++){var u=e[s],l=4*s;i=-((t=s<e.length-1?e[s+1]:u).x-r.x),n=t.y-r.y;var c=Math.sqrt(n*n+i*i),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;n/=c,i/=c,n*=h,i*=h,a[l]=u.x+n,a[l+1]=u.y+i,a[l+2]=u.x-n,a[l+3]=u.y-i,r=u}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(Xa),Yo=function(e){function t(t,r,n){void 0===n&&(n=0);var i=this,a=new Xo(t.height,r,n),o=new Wa(t);return n>0&&(t.baseTexture.wrapMode=z.REPEAT),(i=e.call(this,a,o)||this).autoUpdate=!0,i}return Vo(t,e),t.prototype._render=function(t){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),e.prototype._render.call(this,t)},t}(Va),qo=function(e){function t(t,r,n){var i=this,a=new Wo(t.width,t.height,r,n),o=new Wa(Qt.WHITE);return(i=e.call(this,a,o)||this).texture=t,i}return Vo(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},t}(Va),Zo=function(e){function t(t,r,n,i,a){void 0===t&&(t=Qt.EMPTY);var o=this,s=new Xa(r,n,i);s.getBuffer("aVertexPosition").static=!1;var u=new Wa(t);return(o=e.call(this,s,u,null,a)||this).autoUpdate=!0,o}return Vo(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)},t}(Va),Jo=function(e){function t(t,r,n,i,a){void 0===r&&(r=10),void 0===n&&(n=10),void 0===i&&(i=10),void 0===a&&(a=10);var o=e.call(this,Qt.WHITE,4,4)||this;return o._origWidth=t.orig.width,o._origHeight=t.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=r,o._rightWidth=i,o._topHeight=n,o._bottomHeight=a,o.texture=t,o}return Vo(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,n=this._height>r?1:this._height/r;return Math.min(t,n)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,n=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(qo),Qo=function(e,t){return(Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var Ko=function(e){function t(t,r){void 0===r&&(r=!0);var n=e.call(this,t[0]instanceof Qt?t[0]:t[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=r,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=t,n}return function(e,t){function r(){this.constructor=e}Qo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(vt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(vt.shared.add(this.update,this,ft.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=t/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var r=[],n=0;n<e.length;++n)r.push(Qt.from(e[n]));return new t(r)},t.fromImages=function(e){for(var r=[],n=0;n<e.length;++n)r.push(Qt.from(e[n]));return new t(r)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Qt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(vt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(vt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(na),$o=function(e,t){return($o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function es(e,t){function r(){this.constructor=e}$o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var ts="5.0.0";function rs(){var e=this;Object.defineProperties(e,{SVG_SIZE:{get:function(){return Ee(ts,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),e.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return Ee(ts,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),e.Transform}},TransformBase:{get:function(){return Ee(ts,"PIXI.TransformBase class has been removed, use PIXI.Transform"),e.Transform}},TRANSFORM_MODE:{get:function(){return Ee(ts,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return Ee(ts,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),e.Renderer}},CanvasRenderTarget:{get:function(){return Ee(ts,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),e.utils.CanvasRenderTarget}},loader:{get:function(){return Ee(ts,"PIXI.loader instance has moved to PIXI.Loader.shared"),e.Loader.shared}},FilterManager:{get:function(){return Ee(ts,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),e.systems.FilterSystem}},CanvasTinter:{get:function(){return Ee("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),e.canvasUtils}},GroupD8:{get:function(){return Ee("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),e.groupD8}}}),e.accessibility={},Object.defineProperties(e.accessibility,{AccessibilityManager:{get:function(){return Ee("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),e.AccessibilityManager}}}),e.interaction={},Object.defineProperties(e.interaction,{InteractionManager:{get:function(){return Ee("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),e.InteractionManager}},InteractionData:{get:function(){return Ee("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),e.InteractionData}},InteractionEvent:{get:function(){return Ee("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),e.InteractionEvent}}}),e.prepare={},Object.defineProperties(e.prepare,{BasePrepare:{get:function(){return Ee("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),e.BasePrepare}},Prepare:{get:function(){return Ee("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),e.Prepare}},CanvasPrepare:{get:function(){return Ee("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),e.CanvasPrepare}}}),e.extract={},Object.defineProperties(e.extract,{Extract:{get:function(){return Ee("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),e.Extract}},CanvasExtract:{get:function(){return Ee("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),e.CanvasExtract}}}),e.extras={},Object.defineProperties(e.extras,{TilingSprite:{get:function(){return Ee(ts,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),e.TilingSprite}},TilingSpriteRenderer:{get:function(){return Ee(ts,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),e.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return Ee(ts,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),e.AnimatedSprite}},BitmapText:{get:function(){return Ee(ts,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),e.BitmapText}}}),e.TilingSprite.fromFrame=function(t,r,n){return Ee("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),e.TilingSprite.from(t,{width:r,height:n})},e.TilingSprite.fromImage=function(t,r,n,i){return void 0===i&&(i={}),Ee("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),i&&"object"!==typeof i&&(i={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),i.width=r,i.height=n,e.TilingSprite.from(t,i)},Object.defineProperties(e.utils,{getSvgSize:{get:function(){return Ee(ts,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),e.resources.SVGResource.getSize}}}),e.mesh={},Object.defineProperties(e.mesh,{Mesh:{get:function(){return Ee(ts,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),e.SimpleMesh}},NineSlicePlane:{get:function(){return Ee(ts,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),e.NineSlicePlane}},Plane:{get:function(){return Ee(ts,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),e.SimplePlane}},Rope:{get:function(){return Ee(ts,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),e.SimpleRope}},RawMesh:{get:function(){return Ee(ts,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),e.Mesh}},CanvasMeshRenderer:{get:function(){return Ee(ts,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),e.CanvasMeshRenderer}},MeshRenderer:{get:function(){return Ee(ts,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),e.MeshRenderer}}}),e.particles={},Object.defineProperties(e.particles,{ParticleContainer:{get:function(){return Ee(ts,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),e.ParticleContainer}},ParticleRenderer:{get:function(){return Ee(ts,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),e.ParticleRenderer}}}),e.ticker={},Object.defineProperties(e.ticker,{Ticker:{get:function(){return Ee(ts,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),e.Ticker}},shared:{get:function(){return Ee(ts,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),e.Ticker.shared}}}),e.loaders={},Object.defineProperties(e.loaders,{Loader:{get:function(){return Ee(ts,"PIXI.loaders.Loader class has moved to PIXI.Loader"),e.Loader}},Resource:{get:function(){return Ee(ts,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),e.LoaderResource}},bitmapFontParser:{get:function(){return Ee(ts,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),e.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){Ee(ts,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return Ee(ts,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),e.SpritesheetLoader.use}},getResourcePath:{get:function(){return Ee(ts,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),e.SpritesheetLoader.getResourcePath}}}),e.Loader.addPixiMiddleware=function(t){return Ee(ts,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),e.loaders.Loader.registerPlugin({use:t()})};var t=function(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)};Object.assign(e.Loader.prototype,{on:function(e){var r=t(e);Ee(ts,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+r+".add")},once:function(e){var r=t(e);Ee(ts,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+r+".once")},off:function(e){var r=t(e);Ee(ts,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+r+".detach")}}),Object.defineProperty(e.extract,"WebGLExtract",{get:function(){return Ee(ts,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),e.Extract}}),Object.defineProperty(e.prepare,"WebGLPrepare",{get:function(){return Ee(ts,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),e.Prepare}}),e.Container.prototype._renderWebGL=function(e){Ee(ts,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(e)},e.Container.prototype.renderWebGL=function(e){Ee(ts,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(e)},e.DisplayObject.prototype.renderWebGL=function(e){Ee(ts,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(e)},e.Container.prototype.renderAdvancedWebGL=function(e){Ee(ts,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(e)},Object.defineProperties(e.settings,{TRANSFORM_MODE:{get:function(){return Ee(ts,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){Ee(ts,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var r=e.BaseTexture;r.prototype.loadSource=function(t){Ee(ts,"PIXI.BaseTexture.loadSource method has been deprecated");var r=e.resources.autoDetectResource(t);r.internal=!0,this.setResource(r),this.update()};var n=!1;Object.defineProperties(r.prototype,{hasLoaded:{get:function(){return Ee(ts,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var e;return Ee(ts,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(e=this.resource)||void 0===e?void 0:e.url},set:function(e){Ee(ts,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=e)}},source:{get:function(){return Ee(ts,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(e){Ee(ts,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=e)}},premultiplyAlpha:{get:function(){return Ee("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){Ee("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}},_id:{get:function(){return n||(Ee("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),n=!0),this._batchLocation},set:function(e){this._batchLocation=e}}}),r.fromImage=function(e,t,n,i){Ee(ts,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var a={scale:i,crossorigin:t};return r.from(e,{scaleMode:n,resourceOptions:a})},r.fromCanvas=function(e,t){return Ee(ts,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),r.from(e,{scaleMode:t})},r.fromSVG=function(e,t,n,i){Ee(ts,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var a={scale:i,crossorigin:t};return r.from(e,{scaleMode:n,resourceOptions:a})},Object.defineProperties(e.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return Ee("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){Ee("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}}}),e.Point.prototype.copy=function(e){return Ee(ts,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(e)},e.ObservablePoint.prototype.copy=function(e){return Ee(ts,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(e)},e.Rectangle.prototype.copy=function(e){return Ee(ts,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(e)},e.Matrix.prototype.copy=function(e){return Ee(ts,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(e)},e.systems.StateSystem.prototype.setState=function(e){return Ee("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(e)},Object.assign(e.systems.FilterSystem.prototype,{getRenderTarget:function(e,t){return Ee(ts,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,t)},returnRenderTarget:function(e){Ee(ts,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(e)},calculateScreenSpaceMatrix:function(e){Ee(ts,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var t=e.identity(),r=this.activeState,n=r.sourceFrame,i=r.destinationFrame;return t.translate(n.x/i.width,n.y/i.height),t.scale(i.width,i.height),t},calculateNormalizedScreenSpaceMatrix:function(e){Ee(ts,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var t=this.activeState,r=t.sourceFrame,n=t.destinationFrame,i=e.identity();i.translate(r.x/n.width,r.y/n.height);var a=n.width/r.width,o=n.height/r.height;return i.scale(a,o),i}}),Object.defineProperties(e.RenderTexture.prototype,{sourceFrame:{get:function(){return Ee(ts,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return Ee(ts,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(e){function t(t,r,n,i){return Ee(ts,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!0,t,r,n,i)||this}return es(t,e),t}(e.filters.BlurFilterPass),a=function(e){function t(t,r,n,i){return Ee(ts,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!1,t,r,n,i)||this}return es(t,e),t}(e.filters.BlurFilterPass);Object.assign(e.filters,{BlurXFilter:i,BlurYFilter:a});var o=e.Sprite,s=e.Texture,u=e.Graphics;function l(e,t,r,n){return Ee(ts,"PIXI.Sprite."+e+" method is deprecated, use PIXI.Sprite.from"),o.from(t,{resourceOptions:{scale:n,crossorigin:r}})}function c(e,t,r,n){return Ee(ts,"PIXI.Texture."+e+" method is deprecated, use PIXI.Texture.from"),s.from(t,{resourceOptions:{scale:n,crossorigin:r}})}u.prototype.generateCanvasTexture||(u.prototype.generateCanvasTexture=function(){Ee(ts,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(u.prototype,"graphicsData",{get:function(){return Ee(ts,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),o.fromImage=l.bind(null,"fromImage"),o.fromSVG=l.bind(null,"fromSVG"),o.fromCanvas=l.bind(null,"fromCanvas"),o.fromVideo=l.bind(null,"fromVideo"),o.fromFrame=l.bind(null,"fromFrame"),s.fromImage=c.bind(null,"fromImage"),s.fromSVG=c.bind(null,"fromSVG"),s.fromCanvas=c.bind(null,"fromCanvas"),s.fromVideo=c.bind(null,"fromVideo"),s.fromFrame=c.bind(null,"fromFrame"),Object.defineProperty(e.AbstractRenderer.prototype,"autoResize",{get:function(){return Ee(ts,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(e){Ee(ts,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=e}}),Object.defineProperty(e.Renderer.prototype,"textureManager",{get:function(){return Ee(ts,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),e.utils.mixins={mixin:function(){Ee(ts,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){Ee(ts,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){Ee(ts,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(e.BitmapText.prototype,"font",{get:function(){return Ee("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(t){if(Ee("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),t){var r={font:t};this._upgradeStyle(r),r.fontSize=r.fontSize||e.BitmapFont.available[r.fontName].size,this._fontName=r.fontName,this._fontSize=r.fontSize,this.dirty=!0}}})}En.registerPlugin("accessibility",pt),En.registerPlugin("extract",Hn),En.registerPlugin("interaction",Et),En.registerPlugin("particle",xi),En.registerPlugin("prepare",Aa),En.registerPlugin("batch",zn),En.registerPlugin("tilingSprite",za),fi.registerPlugin(oo),fi.registerPlugin(ka),Bn.registerPlugin(gt),Bn.registerPlugin(pi);var ns="5.3.8",is={AlphaFilter:uo,BlurFilter:Ro,BlurFilterPass:ko,ColorMatrixFilter:Io,DisplacementFilter:No,FXAAFilter:zo,NoiseFilter:Uo}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(9);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(27);var i=r(18),a=r(28);function o(e,t){return Object(n.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){e.exports=r(77)()},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(24);var i=r(31),a=r(18);function o(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"A",{enumerable:!0,get:function(){return i.A}}),Object.defineProperty(t,"setLinkProps",{enumerable:!0,get:function(){return i.setLinkProps}}),Object.defineProperty(t,"useRedirect",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"useQueryParams",{enumerable:!0,get:function(){return o.useQueryParams}}),Object.defineProperty(t,"setQueryParams",{enumerable:!0,get:function(){return o.setQueryParams}}),Object.defineProperty(t,"getQueryParams",{enumerable:!0,get:function(){return o.getQueryParams}}),Object.defineProperty(t,"useInterceptor",{enumerable:!0,get:function(){return s.useInterceptor}}),Object.defineProperty(t,"useControlledInterceptor",{enumerable:!0,get:function(){return u.useControlledInterceptor}}),Object.defineProperty(t,"useTitle",{enumerable:!0,get:function(){return l.useTitle}}),Object.defineProperty(t,"getTitle",{enumerable:!0,get:function(){return l.getTitle}}),Object.defineProperty(t,"navigate",{enumerable:!0,get:function(){return c.navigate}}),Object.defineProperty(t,"useRoutes",{enumerable:!0,get:function(){return c.useRoutes}}),Object.defineProperty(t,"setPath",{enumerable:!0,get:function(){return c.setPath}}),Object.defineProperty(t,"getPath",{enumerable:!0,get:function(){return c.getPath}}),Object.defineProperty(t,"getWorkingPath",{enumerable:!0,get:function(){return c.getWorkingPath}}),Object.defineProperty(t,"setBasepath",{enumerable:!0,get:function(){return c.setBasepath}}),Object.defineProperty(t,"getBasepath",{enumerable:!0,get:function(){return c.getBasepath}}),Object.defineProperty(t,"usePath",{enumerable:!0,get:function(){return c.usePath}});var n,i=r(66),a=(n=r(72))&&n.__esModule?n:{default:n},o=r(44),s=r(34),u=r(73),l=r(74),c=r(26)},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return me})),r.d(t,"b",(function(){return oe})),r.d(t,"c",(function(){return he})),r.d(t,"d",(function(){return se})),r.d(t,"e",(function(){return ue}));var n=r(18);function i(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Object(n.a)(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}var a=r(29),o=r(30);function s(e,t,r){return(s=Object(o.a)()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&Object(a.a)(i,r.prototype),i}).apply(null,arguments)}var u=r(13),l=r(11),c=r(27),h=r(31),d=r(28);function f(e){return Object(c.a)(e)||Object(h.a)(e)||Object(n.a)(e)||Object(d.a)()}var p=r(8),m=r(7);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=r(4),y=r(53),b=r.n(y),_=r(21),x=r(1),w=r.n(x),T=r(54),S=r(25),E=r.n(S),M=[];function P(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=i(t);try{for(s.s();!(n=s.n()).done;){var u=n.value;if(E()(r,u.args)){if(o)return;if(u.error)throw u.error;if(u.response)return u.response;throw u.promise}}}catch(h){s.e(h)}finally{s.f()}var c={args:r,promise:e.apply(void 0,Object(l.a)(r)).then((function(e){return c.response=null==e||e})).catch((function(e){return c.error=null!=e?e:"unknown error"})).then((function(){a>0&&setTimeout((function(){var e=t.indexOf(c);-1!==e&&t.splice(e,1)}),a)}))};if(t.push(c),!o)throw c.promise}function A(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(void 0===r)e.splice(0,e.length);else{var i=e.find((function(e){return E()(r,e.args)}));if(i){var a=e.indexOf(i);-1!==a&&e.splice(a,1)}}}function C(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object(x.useMemo)((function(){return P(e,M,r,C.lifespan)}),r)}C.lifespan=0,C.clear=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return A.apply(void 0,[M].concat(t))},C.preload=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];P(e,M,r,C.lifespan,!0)},C.peek=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;return null==(n=M.find((function(e){return E()(t,e.args)})))?void 0:n.response};var O=r(55);var k=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},R=new Map,L={},I={obj:function(e){return e===Object(e)&&!I.arr(e)},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){if(typeof e!==typeof t||!!e!==!!t)return!1;if(I.str(e)||I.num(e)||I.obj(e))return e===t;if(I.arr(e)&&e==t)return!0;var r;for(r in e)if(!(r in t))return!1;for(r in t)if(e[r]!==t[r])return!1;return!I.und(r)||e===t}};var D=[],N=[],F=[];function z(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i)for(r=0;r<D.length;r++)D[r](t),n++;var a=e.current.clock.getDelta();for(r=0;r<e.current.subscribers.length;r++)e.current.subscribers[r].ref.current(e.current,a);if(e.current.frames=Math.max(0,e.current.frames-1),n+=e.current.invalidateFrameloop?e.current.frames:1,!e.current.manual&&e.current.gl.render&&e.current.gl.render(e.current.scene,e.current.camera),i)for(r=0;r<N.length;r++)N[r](t);return n}var B=!1;function U(e){B=!0;var t,r=0;for(t=0;t<D.length;t++)D[t](e),r++;for(R.forEach((function(t){var n=t.containerInfo.__state;r=n.current.active&&n.current.ready&&(!n.current.invalidateFrameloop||n.current.frames>0)?z(n,e,r):0})),t=0;t<N.length;t++)N[t](e);if(0!==r)return requestAnimationFrame(U);for(t=0;t<F.length;t++)F[t](e);B=!1}function j(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!0===e)R.forEach((function(e){var r=e.containerInfo.__state;r.current.frames=r.current.ready?r.current.frames+t:t}));else if(e&&e.current){if(e.current.vr)return;e.current.frames=e.current.ready?e.current.frames+t:t}B||(B=!0,requestAnimationFrame(U))}var H={};function G(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.__container,o=[],s=[],u=Object.keys(t);for(r=0;r<u.length;r++)I.equ(t[u[r]],n[u[r]])&&o.push(u[r]),I.fun(t[u[r]])&&u[r].startsWith("on")&&(u[r].includes("Pointer")||u[r].includes("Click")||u[r].includes("ContextMenu")||u[r].includes("Wheel"))&&s.push(u[r]);var c=[];if(u=Object.keys(n),i)for(r=0;r<u.length;r++)void 0===t[u[r]]&&c.push(u[r]);var h=[].concat(o,["children","key","ref"]);e.__instance&&h.push("object");var d=Object(m.a)({},t);for(u=Object.keys(d),r=0;r<u.length;r++)h.indexOf(u[r])>-1&&delete d[u[r]];for(u=Object.keys(c),r=0;r<u.length;r++)"children"!==u[r]&&(d[u[r]]=void 0);var v=Object.entries(d);if(v.length>0){if(v.forEach((function(t){var r=Object(p.a)(t,2),n=r[0],i=r[1];if(!s.includes(n)){var a,o,u=e,c=u[n];if(n.includes("-")){var h=n.split("-");if(!(c=h.reduce((function(e,t){return e[t]}),e))||!c.set){var d=f(h.reverse()),m=d[0];u=d.slice(1).reverse().reduce((function(e,t){return e[t]}),e),n=m}}var v,y=null==(a=e.__container)||null==(o=a.__state)?void 0:o.current.colorManagement;if(c&&c.set&&(c.copy||c instanceof g.Layers))if(Array.isArray(i))(v=c).set.apply(v,Object(l.a)(i));else c.copy&&i&&i.constructor&&c.constructor.name===i.constructor.name?c.copy(i):void 0!==i&&(c.set(i),y&&c instanceof g.Color&&c.convertSRGBToLinear());else u[n]=i,y&&u[n]instanceof g.Texture&&(u[n].encoding=g.sRGBEncoding);V(e)}})),i&&a&&e.raycast&&e.__handlers){e.__handlers=void 0;var y=a.__interaction.indexOf(e);y>-1&&a.__interaction.splice(y,1)}s.length&&(i&&a&&e.raycast&&a.__interaction.push(e),e.__handlers=s.reduce((function(e,r){return e[r.charAt(2).toLowerCase()+r.substr(3)]=t[r],e}),{})),e.parent&&W(e)}}function V(e){e.__container&&e.__container.__state&&j(e.__container.__state)}function W(e){e.onUpdate&&e.onUpdate(e)}function X(e,t,r,n,i){var a,o=t.args,c=void 0===o?[]:o,h=Object(u.a)(t,["args"]),d="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e)(a=(h=Object(m.a)({dispose:null},h)).object).__instance=!0,a.__dispose=a.dispose;else{var f=H[d]||g[d];if(!f)throw'"'.concat(d,'" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively');a=I.arr(c)?s(f,Object(l.a)(c)):new f(c)}for(;r.__container;)r=r.__container;if(!R.has(r)){r=function e(t){return t.return?e(t.return):t.stateNode&&t.stateNode.containerInfo}(i)}return a.__objects=[],a.__container=r,d.endsWith("Geometry")?h=Object(m.a)({attach:"geometry"},h):d.endsWith("Material")&&(h=Object(m.a)({attach:"material"},h)),G(a,h,{}),a}function Y(e,t){t&&(t.isObject3D?e.add(t):(e.__objects.push(t),t.parent=e,t.attachArray?(I.arr(e[t.attachArray])||(e[t.attachArray]=[]),e[t.attachArray].push(t)):t.attachObject?(I.obj(e[t.attachObject[0]])||(e[t.attachObject[0]]={}),e[t.attachObject[0]][t.attachObject[1]]=t):t.attach&&(e[t.attach]=t)),W(t),V(t))}function q(e,t,r){if(t){if(t.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var n=e.children.filter((function(e){return e!==t})),i=n.indexOf(r);e.children=[].concat(Object(l.a)(n.slice(0,i)),[t],Object(l.a)(n.slice(i))),W(t)}else Y(e,t);V(t)}}function Z(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var n=r?Object(l.a)(e):e;n.forEach((function(e){return J(t,e)}))}}function J(e,t){t&&(t.isObject3D?e.remove(t):(t.parent=null,e.__objects&&(e.__objects=e.__objects.filter((function(e){return e!==t}))),t.attachArray?e[t.attachArray]=e[t.attachArray].filter((function(e){return e!==t})):t.attachObject?delete e[t.attachObject[0]][t.attachObject[1]]:t.attach&&(e[t.attach]=null)),t.__container&&(t.__container.__interaction=t.__container.__interaction.filter((function(e){return e!==t}))),V(t),null!==t.dispose&&Object(_.unstable_runWithPriority)(_.unstable_IdlePriority,(function(){Z(t.__objects,t),Z(t.children,t,!0),t.dispose&&"Scene"!==t.type?t.dispose():t.__dispose&&t.__dispose(),delete t.__container,delete t.__objects})))}function Q(e,t,r,n){var i=e.parent,a=X(t,r,e.__container,0,n);J(i,e),Y(i,a),[n,n.alternate].forEach((function(e){null!==e&&(e.stateNode=a,e.ref&&(I.fun(e.ref)?e.ref(a):e.ref.current=a))}))}var K=b()({now:_.unstable_now,createInstance:X,removeChild:J,appendChild:Y,insertBefore:q,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:I.fun(setTimeout)?setTimeout:void 0,cancelTimeout:I.fun(clearTimeout)?clearTimeout:void 0,setTimeout:I.fun(setTimeout)?setTimeout:void 0,clearTimeout:I.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendInitialChild:Y,appendChildToContainer:Y,removeChildFromContainer:J,insertInContainerBefore:q,commitUpdate:function(e,t,r,n,i,a){if(e.__instance&&i.object&&i.object!==e)Q(e,r,i,a);else{var o=i.args,s=void 0===o?[]:o,l=Object(u.a)(i,["args"]),c=n.args,h=void 0===c?[]:c,d=Object(u.a)(n,["args"]);s.some((function(e,t){return I.obj(e)?Object.entries(e).some((function(e){var r=Object(p.a)(e,2),n=r[0];return r[1]!==h[t][n]})):e!==h[t]}))?Q(e,r,i,a):G(e,l,d,!0)}},hideInstance:function(e){e.isObject3D&&(e.visible=!1,V(e))},unhideInstance:function(e,t){(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0,V(e))},hideTextInstance:function(){throw new Error("Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.")},getPublicInstance:function(e){return e},getRootHostContext:function(){return L},getChildHostContext:function(){return L},createTextInstance:function(){},finalizeInitialChildren:function(e){return e.__handlers},commitMount:function(e){var t=e.__container;t&&e.raycast&&e.__handlers&&t.__interaction.push(e)},prepareUpdate:function(){return L},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){return null},preparePortalMount:function(){return null},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1}});I.fun(Symbol)&&Symbol.for&&Symbol.for("react.portal");K.injectIntoDevTools({bundleType:0,findHostInstanceByFiber:function(){return null},version:"5.3.18",rendererPackageName:"react-three-fiber"});function $(e){return e.isOrthographicCamera}function ee(e){return(e.eventObject||e.object).uuid+"/"+e.index}var te=Object(x.createContext)({}),re=function(e){var t=e.children,r=e.gl,n=e.camera,a=e.orthographic,o=e.raycaster,s=e.size,c=e.pixelRatio,h=e.vr,d=void 0!==h&&h,f=e.concurrent,v=void 0!==f&&f,y=e.shadowMap,b=void 0!==y&&y,_=e.colorManagement,w=void 0===_||_,S=e.invalidateFrameloop,E=void 0!==S&&S,M=e.updateDefaultCamera,P=void 0===M||M,A=e.noEvents,C=void 0!==A&&A,O=e.onCreated,k=e.onPointerMissed,L=e.forceResize,I=Object(x.useState)(!1),D=Object(p.a)(I,2),N=D[0],F=D[1],B=Object(x.useState)((function(){return new g.Vector2})),U=Object(p.a)(B,1)[0],H=Object(x.useState)((function(){var e=new g.Raycaster;if(o){o.filter,o.computeOffsets;G(e,Object(u.a)(o,["filter","computeOffsets"]),{})}return e})),V=Object(p.a)(H,1)[0],W=Object(x.useState)((function(){var e=new g.Scene;return e.__interaction=[],e.__objects=[],e})),X=Object(p.a)(W,1)[0],Y=Object(x.useState)((function(){var e=a?new g.OrthographicCamera(0,0,0,0,.1,1e3):new g.PerspectiveCamera(75,0,.1,1e3);return e.position.z=5,n&&G(e,n,{}),e.lookAt(0,0,0),e})),q=Object(p.a)(Y,2),Z=q[0],J=q[1],Q=Object(x.useState)((function(){return new g.Clock})),re=Object(p.a)(Q,1)[0],ae=Object(x.useRef)({ready:!1,active:!0,manual:0,colorManagement:w,vr:d,concurrent:v,noEvents:C,invalidateFrameloop:!1,frames:0,aspect:0,subscribers:[],camera:Z,scene:X,raycaster:V,mouse:U,clock:re,gl:r,size:s,viewport:null,initialClick:[0,0],initialHits:[],pointer:new T.TinyEmitter,captured:void 0,events:void 0,subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t&&ae.current.manual++,ae.current.subscribers.push({ref:e,priority:t}),ae.current.subscribers=ae.current.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var r;(null==(r=ae.current)?void 0:r.subscribers)&&(t&&ae.current.manual--,ae.current.subscribers=ae.current.subscribers.filter((function(t){return t.ref!==e})))}},setDefaultCamera:function(e){return J(e)},invalidate:function(){return j(ae)},intersect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ge(e,t)},forceResize:L}),oe=new g.Vector3,se=Object(x.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae.current.camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new g.Vector3(0,0,0),r=ae.current.size,n=r.width,i=r.height,a=e.getWorldPosition(oe).distanceTo(t);if($(e))return{width:n/e.zoom,height:i/e.zoom,factor:1,distance:a};var o=e.fov*Math.PI/180,s=2*Math.tan(o/2)*a,u=s*(n/i);return{width:u,height:s,factor:n/u,distance:a}}),[]);Object(x.useMemo)((function(){ae.current.ready=N,ae.current.size=s,ae.current.camera=Z,ae.current.invalidateFrameloop=E,ae.current.vr=d,ae.current.gl=r,ae.current.concurrent=v,ae.current.noEvents=C,ae.current.viewport=se}),[E,d,v,C,N,s,Z,r]),Object(x.useMemo)((function(){ae.current.aspect=s.width/s.height,Object.assign(ae.current.viewport,se()),P&&($(Z)?(Z.left=s.width/-2,Z.right=s.width/2,Z.top=s.height/2,Z.bottom=s.height/-2):Z.aspect=ae.current.aspect,Z.updateProjectionMatrix(),Z.updateMatrixWorld()),r.setSize(s.width,s.height),N&&j(ae)}),[Z,r,s,P,N]);var ue=Object(x.useRef)(null);Object(x.useMemo)((function(){var e=ae.current,t=(e.ready,e.manual,e.vr,e.noEvents,e.invalidateFrameloop,e.frames,e.subscribers,e.captured,e.initialClick,e.initialHits,Object(u.a)(e,["ready","manual","vr","noEvents","invalidateFrameloop","frames","subscribers","captured","initialClick","initialHits"]));ue.current=t}),[s,Z]),Object(x.useLayoutEffect)((function(){c&&(Array.isArray(c)?r.setPixelRatio(Math.max(Math.min(c[0],window.devicePixelRatio),c[1])):r.setPixelRatio(c))}),[r,c]),Object(x.useLayoutEffect)((function(){b&&(r.shadowMap.enabled=!0,"object"===typeof b?Object.assign(r.shadowMap,b):r.shadowMap.type=g.PCFSoftShadowMap),w&&(r.toneMapping=g.ACESFilmicToneMapping,r.outputEncoding=g.sRGBEncoding)}),[b,w]);var le=Object(x.useMemo)((function(){return new Map}),[]),ce=new g.Vector3,he=Object(x.useCallback)((function(e){var t=(null==o||null==o.computeOffsets?void 0:o.computeOffsets(e,ue.current))||e.nativeEvent;if(t){var r=t.offsetX,n=t.offsetY,i=ae.current.size,a=i.width,s=i.height;U.set(r/a*2-1,-n/s*2+1),V.setFromCamera(U,ae.current.camera)}}),[]),de=Object(x.useCallback)((function(e){if(ae.current.noEvents)return[];var t=new Set,r=[],n=e?e(ae.current.scene.__interaction):ae.current.scene.__interaction,a=V.intersectObjects(n,!0).filter((function(e){var r=ee(e);return!t.has(r)&&(t.add(r),!0)}));o&&o.filter&&ue.current&&(a=o.filter(a,ue.current));var s,u=i(a);try{for(u.s();!(s=u.n()).done;)for(var l=s.value,c=l.object;c;){c.__handlers&&r.push(Object(m.a)(Object(m.a)({},l),{},{eventObject:c})),c=c.parent}}catch(h){u.e(h)}finally{u.f()}return r}),[]),fe=Object(x.useCallback)((function(e){var t=e.nativeEvent.offsetX-ae.current.initialClick[0],r=e.nativeEvent.offsetY-ae.current.initialClick[1];return Math.round(Math.sqrt(t*t+r*r))}),[]),pe=Object(x.useCallback)((function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ae.current.pointer.emit("pointerCancel",e),r&&he(e),Array.from(le.values()).forEach((function(e){if(t&&(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index})))){var r=e.eventObject.__handlers;if(le.delete(ee(e)),r){var n=Object(m.a)(Object(m.a)({},e),{},{intersections:t||[]});r.pointerOut&&r.pointerOut(Object(m.a)(Object(m.a)({},n),{},{type:"pointerout"})),r.pointerLeave&&r.pointerLeave(Object(m.a)(Object(m.a)({},n),{},{type:"pointerleave"}))}}}))}),[]),me=Object(x.useCallback)((function(e,t){var r=de(t);return ae.current.captured&&"click"!==e.type&&"wheel"!==e.type&&ae.current.captured.forEach((function(e){r.find((function(t){return t.eventObject===e.eventObject}))||r.push(e)})),r}),[]),ve=Object(x.useCallback)((function(e,t,r){return e.length&&function(){var n,a=ce.set(U.x,U.y,0).unproject(ae.current.camera),o="click"===t.type?fe(t):0,s=function(e){return t.target.releasePointerCapture(e)},u={stopped:!1,captured:!1},c=i(e);try{var h=function(){var i=n.value,c=function(e){u.captured||(u.captured=!0,ae.current.captured=[]),ae.current.captured&&ae.current.captured.push(i),t.target.setPointerCapture(e)},h=Object(m.a)(Object(m.a)(Object(m.a)({},t),i),{},{intersections:e,stopped:u.stopped,delta:o,unprojectedPoint:a,ray:V.ray,camera:ae.current.camera,stopPropagation:function(){var t=ae.current.captured;if((!t||t.find((function(e){return e.eventObject.id===i.eventObject.id})))&&(h.stopped=u.stopped=!0,le.size&&Array.from(le.values()).find((function(e){return e.eventObject===i.eventObject})))){var r=e.slice(0,e.indexOf(i));pe(h,[].concat(Object(l.a)(r),[i]))}},target:Object(m.a)(Object(m.a)({},t.target),{},{setPointerCapture:c,releasePointerCapture:s}),currentTarget:Object(m.a)(Object(m.a)({},t.currentTarget),{},{setPointerCapture:c,releasePointerCapture:s}),sourceEvent:t});if(r(h),!0===u.stopped)return"break"};for(c.s();!(n=c.n()).done;){if("break"===h())break}}catch(d){c.e(d)}finally{c.f()}}(),e}),[]),ge=Object(x.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ae.current.pointer.emit("pointerMove",e),t&&he(e);var r=me(e,(function(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){return e.__handlers["pointer"+t]}))}))}));return pe(e,r),ve(r,e,(function(e){var t=e.eventObject.__handlers;if(t){if(t.pointerOver||t.pointerEnter||t.pointerOut||t.pointerLeave){var r=ee(e),n=le.get(r);n?n.stopped&&e.stopPropagation():(le.set(r,e),t.pointerOver&&t.pointerOver(Object(m.a)(Object(m.a)({},e),{},{type:"pointerover"})),t.pointerEnter&&t.pointerEnter(Object(m.a)(Object(m.a)({},e),{},{type:"pointerenter"})))}t.pointerMove&&t.pointerMove(e)}})),r}),[]),ye=Object(x.useCallback)((function(e){return function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ae.current.pointer.emit(e,t),r&&he(t);var n=me(t);ve(n,t,(function(r){var n=r.eventObject,i=n.__handlers;i&&i[e]&&("click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||ae.current.initialHits.includes(n))&&(i[e](r),ne(t,X.__interaction,(function(e){return e!==n})))})),"pointerDown"===e&&(ae.current.initialClick=[t.nativeEvent.offsetX,t.nativeEvent.offsetY],ae.current.initialHits=n.map((function(e){return e.eventObject}))),"click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||n.length||fe(t)<=2&&(ne(t,X.__interaction),k&&k())}}),[k,fe,me,ve,he]);Object(x.useMemo)((function(){ae.current.events={onClick:ye("click"),onContextMenu:ye("contextMenu"),onDoubleClick:ye("doubleClick"),onWheel:ye("wheel"),onPointerDown:ye("pointerDown"),onPointerUp:ye("pointerUp"),onPointerLeave:function(e){return pe(e,[])},onPointerMove:ge,onGotPointerCaptureLegacy:function(e){return ae.current.captured=de(e)},onLostPointerCapture:function(e){return ae.current.captured=void 0,pe(e)}}}),[ye,de,pe,ge]);var be=Object(x.useCallback)((function(e){var t=function(){return F(!0)};return Object(x.useLayoutEffect)((function(){r.compile(X,Z)}),[]),Object(x.useEffect)((function(){var e=O&&O(ae.current);e&&e.then?e.then(t):t()}),[]),e.children}),[]);return Object(x.useLayoutEffect)((function(){!function(e,t,r){var n=R.get(t);if(!n){t.__state=r;var i=n=K.createContainer(t,void 0!==r&&r.current.concurrent?2:0,!1,null);R.set(t,i)}K.updateContainer(e,n,null,(function(){})),K.getPublicRootInstance(n)}(Object(x.createElement)(be,null,Object(x.createElement)(te.Provider,{value:ue.current},"function"===typeof t?t(ae.current):t)),X,ae)}),[N,t,ue.current]),Object(x.useLayoutEffect)((function(){N&&(ae.current.vr?(r.xr||r.vr)&&r.setAnimationLoop?((r.xr||r.vr).enabled=!0,r.setAnimationLoop((function(e){return z(ae,e,0,!0)}))):console.warn("the gl instance does not support VR!"):0===ae.current.frames&&j(ae))}),[r,N,E]),Object(x.useEffect)((function(){return function(){ae.current.gl&&(ae.current.gl.renderLists&&ae.current.gl.renderLists.dispose(),ae.current.gl.forceContextLoss&&ae.current.gl.forceContextLoss(),ie(ae.current.gl)),function(e,t){var r=R.get(e);r&&K.updateContainer(null,r,null,(function(){R.delete(e),t&&t(e)}))}(ae.current.scene,(function(){ie(ae.current.raycaster),ie(ae.current.camera),ie(ae.current)}))}}),[]),ae.current.events};function ne(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0};t.filter(r).forEach((function(t){var r,n;return null==(r=(n=t.__handlers).pointerMissed)?void 0:r.call(n,e)}))}function ie(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)"object"===typeof t&&t.dispose&&t.dispose(),delete e[t]}function ae(e){var t=Object(x.useContext)(e);if(!("subscribe"in t))throw new Error("\u26a1\ufe0f react-three-fiber hooks can only be used within the Canvas component! https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#hooks");return t}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=ae(te),n=r.subscribe,i=Object(x.useRef)(e);return Object(x.useLayoutEffect)((function(){i.current=e}),[e]),Object(x.useEffect)((function(){var e=n(i,t);return function(){return e()}}),[t,n]),null}function se(){return ae(te)}function ue(e,t,r){var n=ae(te).invalidate,i=Object(x.useRef)(),a=r||i;return Object(x.useLayoutEffect)((function(){a.current&&(e(a.current),n())}),t),a}function le(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function ce(e,t){return function(r){var n=new r;e&&e(n);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((function(e){return new Promise((function(r,i){return n.load(e,(function(e){e.scene&&Object.assign(e,le(e.scene)),r(e)}),t,(function(t){var r;return i(null!=(r=t.message)?r:"failure loading ".concat(e))}))}))})))}}function he(e,t,r,n){var i=Array.isArray(t)?t:[t],a=C.apply(void 0,[ce(r,n),e].concat(Object(l.a)(i)));return Array.isArray(t)?a:a[0]}he.preload=function(e,t,r){var n=Array.isArray(t)?t:[t];return C.preload.apply(C,[ce(r),e].concat(Object(l.a)(n)))};var de={position:"relative",width:"100%",height:"100%",overflow:"hidden"};function fe(e){var t=e.children,r=e.setEvents,n=e.container,i=e.renderer,a=e.effects,o=Object(u.a)(e,["children","setEvents","container","renderer","effects"]),s=Object(x.useState)(i),l=Object(p.a)(s,1)[0];l||console.warn("No renderer created!"),Object(x.useEffect)((function(){a&&a(l,n)}),[n,a,l]);var c=re(Object(m.a)(Object(m.a)({},o),{},{children:t,gl:l}));return Object(x.useEffect)((function(){r(c)}),[c,r]),null}var pe=w.a.memo((function(e){e.renderer,e.effects,e.children,e.vr,e.webgl1,e.concurrent,e.shadowMap,e.colorManagement,e.orthographic,e.invalidateFrameloop,e.updateDefaultCamera,e.noEvents,e.gl,e.camera,e.raycaster,e.pixelRatio,e.onCreated,e.onPointerMissed;var t=e.preRender,r=e.resize,n=e.style,i=Object(u.a)(e,["renderer","effects","children","vr","webgl1","concurrent","shadowMap","colorManagement","orthographic","invalidateFrameloop","updateDefaultCamera","noEvents","gl","camera","raycaster","pixelRatio","onCreated","onPointerMissed","preRender","resize","style"]),a=Object(x.useRef)(),o=Object(x.useState)({}),s=Object(p.a)(o,2),l=s[0],c=(l.onGotPointerCaptureLegacy,Object(u.a)(l,["onGotPointerCaptureLegacy"])),h=s[1],d=Object(O.a)(Object(m.a)({scroll:!0,debounce:{scroll:50,resize:0}},r)),f=Object(p.a)(d,3),g=f[0],y=f[1],b=f[2],_=Object(x.useRef)(!1),T=Object(x.useMemo)((function(){return _.current=_.current||!!y.width&&!!y.height}),[y]),S=Object(x.useMemo)((function(){return{size:y,forceResize:b,setEvents:h,container:a.current}}),[b,y]);return"undefined"===typeof window?w.a.createElement("div",v({style:Object(m.a)(Object(m.a)({},de),n)},i),t):w.a.createElement("div",v({ref:k([g,a]),style:Object(m.a)(Object(m.a)({},de),n)},c,i),t,T&&w.a.createElement(fe,v({},e,S)))})),me=w.a.memo((function(e){var t=e.children,r=Object(u.a)(e,["children"]),n=Object(x.useRef)(),i=r.webgl1?g.WebGL1Renderer:g.WebGLRenderer;return w.a.createElement(pe,v({},r,{renderer:function(){if(n.current){var e=Object(m.a)({antialias:!0,alpha:!0},r.gl);return new i(Object(m.a)({powerPreference:"high-performance",canvas:n.current},e))}},preRender:w.a.createElement("canvas",{ref:n,style:{display:"block"}})}),t)}))},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(t,r,n){void 0===r&&(r=!1),i(this,e),this._fn=t,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}();function o(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var s=function(){function e(){i(this,e),this._head=this._tail=void 0}return n(e,[{key:"handlers",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r}},{key:"has",value:function(e){if(!(e instanceof a))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!==typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new a(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!==typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new a(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof a))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();s.MiniSignalBinding=a,t.default=s,e.exports=t.default},function(e,t,r){"use strict";r.d(t,"a",(function(){return H}));var n,i,a,o,s,u,l,c,h=function(){return"undefined"!==typeof window},d=function(){return n||h()&&(n=window.gsap)&&n.registerPlugin&&n},f=function(e){return"function"===typeof e},p=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],m=.212671,v=.71516,g=.072169,y=function(e,t){var r,n,i=[],a=0,o=0;for(r=0;r<4;r++){for(n=0;n<5;n++)o=4===n?e[a+4]:0,i[a+n]=e[a]*t[n]+e[a+1]*t[n+5]+e[a+2]*t[n+10]+e[a+3]*t[n+15]+o;a+=5}return i},b=function(e,t){var r=1-t,n=r*m,i=r*v,a=r*g;return y([n+t,i,a,0,0,n,i+t,a,0,0,n,i,a+t,0,0,0,0,0,1,0],e)},_=function(e,t,r){var n=a(t),i=n[0]/255,o=n[1]/255,s=n[2]/255,u=1-r;return y([u+r*i*m,r*i*v,r*i*g,0,0,r*o*m,u+r*o*v,r*o*g,0,0,r*s*m,r*s*v,u+r*s*g,0,0,0,0,0,1,0],e)},x=function(e,t){t*=Math.PI/180;var r=Math.cos(t),n=Math.sin(t);return y([m+r*(1-m)+n*-m,v+r*-v+n*-v,g+r*-g+n*(1-g),0,0,m+r*-m+.143*n,v+.28484*r+.14*n,g+r*-g+-.283*n,0,0,m+r*-m+-.787329*n,v+r*-v+n*v,g+r*(1-g)+n*g,0,0,0,0,0,1,0,0,0,0,0,1],e)},w=function(e,t){return y([t,0,0,0,.5*(1-t),0,t,0,0,.5*(1-t),0,0,t,0,.5*(1-t),0,0,0,1,0],e)},T=function(e,t){var r,n,i=o.filters[t],a=e.filters||[],s=a.length;for(i||(n=t+" not found. PixiPlugin.registerPIXI(PIXI)",console.warn(n));--s>-1;)if(a[s]instanceof i)return a[s];return r=new i,"BlurFilter"===t&&(r.blur=0),a.push(r),e.filters=a,r},S=function(e,t,r,n){t.add(r,e,r[e],n[e]),t._props.push(e)},E=function(e,t){var r=new o.filters.ColorMatrixFilter;return r.matrix=t,r.brightness(e,!0),r.matrix},M={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},P=function(e,t,r){var n,i,a,o=T(e,"ColorMatrixFilter"),s=e._gsColorMatrixFilter=e._gsColorMatrixFilter||function(e){var t,r={};for(t in e)r[t]=e[t];return r}(M),u=t.combineCMF&&!("colorMatrixFilter"in t&&!t.colorMatrixFilter);a=o.matrix,t.resolution&&(o.resolution=t.resolution),t.matrix&&t.matrix.length===a.length?(i=t.matrix,1!==s.contrast&&S("contrast",r,s,M),s.hue&&S("hue",r,s,M),1!==s.brightness&&S("brightness",r,s,M),s.colorizeAmount&&(S("colorize",r,s,M),S("colorizeAmount",r,s,M)),1!==s.saturation&&S("saturation",r,s,M)):(i=p.slice(),null!=t.contrast?(i=w(i,+t.contrast),S("contrast",r,s,t)):1!==s.contrast&&(u?i=w(i,s.contrast):S("contrast",r,s,M)),null!=t.hue?(i=x(i,+t.hue),S("hue",r,s,t)):s.hue&&(u?i=x(i,s.hue):S("hue",r,s,M)),null!=t.brightness?(i=E(+t.brightness,i),S("brightness",r,s,t)):1!==s.brightness&&(u?i=E(s.brightness,i):S("brightness",r,s,M)),null!=t.colorize?(t.colorizeAmount="colorizeAmount"in t?+t.colorizeAmount:1,i=_(i,t.colorize,t.colorizeAmount),S("colorize",r,s,t),S("colorizeAmount",r,s,t)):s.colorizeAmount&&(u?i=_(i,s.colorize,s.colorizeAmount):(S("colorize",r,s,M),S("colorizeAmount",r,s,M))),null!=t.saturation?(i=b(i,+t.saturation),S("saturation",r,s,t)):1!==s.saturation&&(u?i=b(i,s.saturation):S("saturation",r,s,M))),n=i.length;for(;--n>-1;)i[n]!==a[n]&&r.add(a,n,a[n],i[n],"colorMatrixFilter");r._props.push("colorMatrixFilter")},A=function(e,t){var r=t.t,n=t.p,i=t.color;(0,t.set)(r,n,i[0]<<16|i[1]<<8|i[2])},C=function(e,t){var r=t.g;r&&(r.dirty++,r.clearDirty++)},O=function(e,t){t.t.visible=!!t.t.alpha},k=function(e,t,r,n){var i=e[t],o=a(f(i)?e[t.indexOf("set")||!f(e["get"+t.substr(3)])?t:"get"+t.substr(3)]():i),l=a(r);n._pt=new s(n._pt,e,t,0,0,A,{t:e,p:t,color:o,set:u(e,t)}),n.add(o,0,o[0],l[0]),n.add(o,1,o[1],l[1]),n.add(o,2,o[2],l[2])},R={tint:1,lineColor:1,fillColor:1},L="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),I={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},D={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},N=Math.PI/180,F=function(e){return"string"===typeof e},z=function(e){return F(e)&&"="===e.charAt(1)?e.substr(0,2)+parseFloat(e.substr(2))*N:e*N},B=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e5*(t.s+t.c*e))/1e5,t)},U=function(e,t,r,n,i,a){var o,u,l=360*(a?N:1),c=F(i),h=c&&"="===i.charAt(1)?+(i.charAt(0)+"1"):0,d=parseFloat(h?i.substr(2):i)*(a?N:1),f=h?d*h:d-n,p=n+f;return c&&("short"===(o=i.split("_")[1])&&(f%=l)!==f%(l/2)&&(f+=f<0?l:-l),"cw"===o&&f<0?f=(f+1e10*l)%l-~~(f/l)*l:"ccw"===o&&f>0&&(f=(f-1e10*l)%l-~~(f/l)*l)),e._pt=u=new s(e._pt,t,r,n,f,B),u.e=p,u},j=function(){h()&&(i=window,n=d(),o=o||i.PIXI,a=function(e){return n.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(l=0;l<L.length;l++)c=L[l],I[c+"X"]=c,I[c+"Y"]=c;var H={version:"3.5.1",name:"pixi",register:function(e,t,r){n=e,s=r,u=t.getSetter,j()},registerPIXI:function(e){o=e},init:function(e,t,r,n,i){if(o||j(),!e instanceof o.DisplayObject)return!1;var a,u,l,c,h,d,f,p,m,v="4"===o.VERSION.charAt(0);for(d in t){if(a=I[d],l=t[d],a)u=~d.charAt(d.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[a],u,e[a][u],"skew"===a?z(l):l);else if("scale"===d||"anchor"===d||"pivot"===d||"tileScale"===d)this.add(e[d],"x",e[d].x,l),this.add(e[d],"y",e[d].y,l);else if("rotation"===d||"angle"===d)U(this,e,d,e[d],l,"rotation"===d);else if(D[d])c||(P(e,t.colorMatrixFilter||t,this),c=!0);else if("blur"===d||"blurX"===d||"blurY"===d||"blurPadding"===d){if(h=T(e,"BlurFilter"),this.add(h,d,h[d],l),0!==t.blurPadding)for(f=t.blurPadding||2*Math.max(h[d],l),p=e.filters.length;--p>-1;)e.filters[p].padding=Math.max(e.filters[p].padding,f)}else if(R[d])if(("lineColor"===d||"fillColor"===d)&&e instanceof o.Graphics)for(m=(e.geometry||e).graphicsData,this._pt=new s(this._pt,e,d,0,0,C,{g:e.geometry||e}),p=m.length;--p>-1;)k(v?m[p]:m[p][d.substr(0,4)+"Style"],v?d:"color",l,this);else k(e,d,l,this);else"autoAlpha"===d?(this._pt=new s(this._pt,e,"visible",0,0,O),this.add(e,"alpha",e.alpha,l),this._props.push("alpha","visible")):"resolution"!==d&&this.add(e,d,"get",l);this._props.push(d)}}};d()&&n.registerPlugin(H)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(24);function i(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var r,s,u=o(e),l=1;l<arguments.length;l++){for(var c in r=Object(arguments[l]))i.call(r,c)&&(u[c]=r[c]);if(n){s=n(r);for(var h=0;h<s.length;h++)a.call(r,s[h])&&(u[s[h]]=r[s[h]])}}return u}},function(e,t,r){"use strict";var n=r(67),i=r(68);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(69);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,r),n}a.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=o.exec(b);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,b=b.substr(x.length)}if(r||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===b.substr(0,2);!T||x&&v[x]||(b=b.substr(2),this.slashes=!0)}if(!v[x]&&(T||x&&!g[x])){for(var S,E,M=-1,P=0;P<d.length;P++){-1!==(A=b.indexOf(d[P]))&&(-1===M||A<M)&&(M=A)}-1!==(E=-1===M?b.lastIndexOf("@"):b.lastIndexOf("@",M))&&(S=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(S)),M=-1;for(P=0;P<h.length;P++){var A;-1!==(A=b.indexOf(h[P]))&&(-1===M||A<M)&&(M=A)}-1===M&&(M=b.length),this.host=b.slice(0,M),b=b.slice(M),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var O=this.hostname.split(/\./),k=(P=0,O.length);P<k;P++){var R=O[P];if(R&&!R.match(f)){for(var L="",I=0,D=R.length;I<D;I++)R.charCodeAt(I)>127?L+="x":L+=R[I];if(!L.match(f)){var N=O.slice(0,P),F=O.slice(P+1),z=R.match(p);z&&(N.push(z[1]),F.unshift(z[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(P=0,k=c.length;P<k;P++){var j=c[P];if(-1!==b.indexOf(j)){var H=encodeURIComponent(j);H===j&&(H=escape(j)),b=b.split(j).join(H)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,V)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var W=this.search||"";this.path=B+W}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(r[c]=e[c])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=_||b||r.host&&e.pathname,w=x,T=r.pathname&&r.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===T[0]?T[0]=r.host:T.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===T[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(S)r.hostname=r.host=T.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=T.slice(-1)[0],M=(r.host||e.host||T.length>1)&&("."===E||".."===E)||""===E,P=0,A=T.length;A>=0;A--)"."===(E=T[A])?T.splice(A,1):".."===E?(T.splice(A,1),P++):P&&(T.splice(A,1),P--);if(!x&&!w)for(;P--;P)T.unshift("..");!x||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),M&&"/"!==T.join("/").substr(-1)&&T.push("");var C,O=""===T[0]||T[0]&&"/"===T[0].charAt(0);S&&(r.hostname=r.host=O?"":T.length?T.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(x=x||r.host&&T.length)&&!O&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";e.exports=r(64)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.d(t,"a",(function(){return ve}));var n,i,a,o,s,u,l,c,h=r(2),d={},f=180/Math.PI,p=Math.PI/180,m=Math.atan2,v=/([A-Z])/g,g=/(?:left|right|width|margin|padding|x)/i,y=/[\s,\(]\S/,b={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},x=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},w=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},T=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},S=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},E=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},M=function(e,t,r){return e.style[t]=r},P=function(e,t,r){return e.style.setProperty(t,r)},A=function(e,t,r){return e._gsap[t]=r},C=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},O=function(e,t,r,n,i){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(i,a)},k=function(e,t,r,n,i){var a=e._gsap;a[t]=r,a.renderTransform(i,a)},R="transform",L=R+"Origin",I=function(e,t){var r=i.createElementNS?i.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):i.createElement(e);return r.style?r:i.createElement(e)},D=function e(t,r,n){var i=getComputedStyle(t);return i[r]||i.getPropertyValue(r.replace(v,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&e(t,F(r)||r,1)||""},N="O,Moz,ms,Ms,Webkit".split(","),F=function(e,t,r){var n=(t||s).style,i=5;if(e in n&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(N[i]+e in n););return i<0?null:(3===i?"ms":i>=0?N[i]:"")+e},z=function(){"undefined"!==typeof window&&window.document&&(n=window,i=n.document,a=i.documentElement,s=I("div")||{style:{}},u=I("div"),R=F(R),L=R+"Origin",s.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",c=!!F("perspective"),o=1)},B=function e(t){var r,n=I("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(a.appendChild(n),n.appendChild(this),this.style.display="block",t)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(u){}else this._gsapBBox&&(r=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),a.removeChild(n),this.style.cssText=s,r},U=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},j=function(e){var t;try{t=e.getBBox()}catch(r){t=B.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===B||(t=B.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+U(e,["x","cx","x1"])||0,y:+U(e,["y","cy","y1"])||0,width:0,height:0}},H=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!j(e))},G=function(e,t){if(t){var r=e.style;t in d&&t!==L&&(t=R),r.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty(t.replace(v,"-$1").toLowerCase())):r.removeAttribute(t)}},V=function(e,t,r,n,i,a){var o=new h.b(e._pt,t,r,0,1,a?E:S);return e._pt=o,o.b=n,o.e=i,e._props.push(r),o},W={deg:1,rad:1,turn:1},X=function e(t,r,n,a){var o,u,l,c,f=parseFloat(n)||0,p=(n+"").trim().substr((f+"").length)||"px",m=s.style,v=g.test(r),y="svg"===t.tagName.toLowerCase(),b=(y?"client":"offset")+(v?"Width":"Height"),_=100,x="px"===a,w="%"===a;return a===p||!f||W[a]||W[p]?f:("px"!==p&&!x&&(f=e(t,r,n,"px")),c=t.getCTM&&H(t),w&&(d[r]||~r.indexOf("adius"))?Object(h.s)(f/(c?t.getBBox()[v?"width":"height"]:t[b])*_):(m[v?"width":"height"]=_+(x?p:a),u=~r.indexOf("adius")||"em"===a&&t.appendChild&&!y?t:t.parentNode,c&&(u=(t.ownerSVGElement||{}).parentNode),u&&u!==i&&u.appendChild||(u=i.body),(l=u._gsap)&&w&&l.width&&v&&l.time===h.u.time?Object(h.s)(f/l.width*_):((w||"%"===p)&&(m.position=D(t,"position")),u===t&&(m.position="static"),u.appendChild(s),o=s[b],u.removeChild(s),m.position="absolute",v&&w&&((l=Object(h.g)(u)).time=h.u.time,l.width=u[b]),Object(h.s)(x?o*f/_:o&&f?_/o*f:0))))},Y=function(e,t,r,n){var i;return o||z(),t in b&&"transform"!==t&&~(t=b[t]).indexOf(",")&&(t=t.split(",")[0]),d[t]&&"transform"!==t?(i=ae(e,n),i="transformOrigin"!==t?i[t]:oe(D(e,L))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=K[t]&&K[t](e,t,r)||D(e,t)||Object(h.h)(e,t)||("opacity"===t?1:0)),r&&!~(i+"").indexOf(" ")?X(e,t,i,r)+r:i},q=function(e,t,r,n){if(!r||"none"===r){var i=F(t,e,1),a=i&&D(e,i,1);a&&a!==r?(t=i,r=a):"borderColor"===t&&(r=D(e,"borderTopColor"))}var o,s,u,l,c,d,f,p,m,v,g,y,b=new h.b(this._pt,e.style,t,0,1,h.q),_=0,x=0;if(b.b=r,b.e=n,r+="","auto"===(n+="")&&(e.style[t]=n,n=D(e,t)||n,e.style[t]=r),o=[r,n],Object(h.d)(o),n=o[1],u=(r=o[0]).match(h.n)||[],(n.match(h.n)||[]).length){for(;s=h.n.exec(n);)f=s[0],m=n.substring(_,s.index),c?c=(c+1)%5:"rgba("!==m.substr(-5)&&"hsla("!==m.substr(-5)||(c=1),f!==(d=u[x++]||"")&&(l=parseFloat(d)||0,g=d.substr((l+"").length),(y="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),p=parseFloat(f),v=f.substr((p+"").length),_=h.n.lastIndex-v.length,v||(v=v||h.e.units[t]||g,_===n.length&&(n+=v,b.e+=v)),g!==v&&(l=X(e,t,d,v)||0),b._pt={_next:b._pt,p:m||1===x?m:",",s:l,c:y?y*p:p-l,m:c&&c<4?Math.round:0});b.c=_<n.length?n.substring(_,n.length):""}else b.r="display"===t&&"none"===n?E:S;return h.p.test(n)&&(b.e=0),this._pt=b,b},Z={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},J=function(e){var t=e.split(" "),r=t[0],n=t[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(e=r,r=n,n=e),t[0]=Z[r]||r,t[1]=Z[n]||n,t.join(" ")},Q=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r,n,i,a=t.t,o=a.style,s=t.u,u=a._gsap;if("all"===s||!0===s)o.cssText="",n=1;else for(i=(s=s.split(",")).length;--i>-1;)r=s[i],d[r]&&(n=1,r="transformOrigin"===r?L:R),G(a,r);n&&(G(a,R),u&&(u.svg&&a.removeAttribute("transform"),ae(a,1),u.uncache=1))}},K={clearProps:function(e,t,r,n,i){if("isFromStart"!==i.data){var a=e._pt=new h.b(e._pt,t,r,0,0,Q);return a.u=n,a.pr=-10,a.tween=i,e._props.push(r),1}}},$=[1,0,0,1,0,0],ee={},te=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},re=function(e){var t=D(e,R);return te(t)?$:t.substr(7).match(h.m).map(h.s)},ne=function(e,t){var r,n,i,o,s=e._gsap||Object(h.g)(e),u=e.style,l=re(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?$:l:(l!==$||e.offsetParent||e===a||s.svg||(i=u.display,u.display="block",(r=e.parentNode)&&e.offsetParent||(o=1,n=e.nextSibling,a.appendChild(e)),l=re(e),i?u.display=i:G(e,"display"),o&&(n?r.insertBefore(e,n):r?r.appendChild(e):a.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},ie=function(e,t,r,n,i,a){var o,s,u,l=e._gsap,c=i||ne(e,!0),h=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,m=c[0],v=c[1],g=c[2],y=c[3],b=c[4],_=c[5],x=t.split(" "),w=parseFloat(x[0])||0,T=parseFloat(x[1])||0;r?c!==$&&(s=m*y-v*g)&&(u=w*(-v/s)+T*(m/s)-(m*_-v*b)/s,w=w*(y/s)+T*(-g/s)+(g*_-y*b)/s,T=u):(w=(o=j(e)).x+(~x[0].indexOf("%")?w/100*o.width:w),T=o.y+(~(x[1]||x[0]).indexOf("%")?T/100*o.height:T)),n||!1!==n&&l.smooth?(b=w-h,_=T-d,l.xOffset=f+(b*m+_*g)-b,l.yOffset=p+(b*v+_*y)-_):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=T,l.smooth=!!n,l.origin=t,l.originIsAbsolute=!!r,e.style[L]="0px 0px",a&&(V(a,l,"xOrigin",h,w),V(a,l,"yOrigin",d,T),V(a,l,"xOffset",f,l.xOffset),V(a,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",w+" "+T)},ae=function(e,t){var r=e._gsap||new h.a(e);if("x"in r&&!t&&!r.uncache)return r;var n,i,a,o,s,u,l,d,v,g,y,b,_,x,w,T,S,E,M,P,A,C,O,k,I,N,F,z,B,U,j,G,V=e.style,W=r.scaleX<0,X="px",Y="deg",q=D(e,L)||"0";return n=i=a=u=l=d=v=g=y=0,o=s=1,r.svg=!(!e.getCTM||!H(e)),x=ne(e,r.svg),r.svg&&(k=!r.uncache&&e.getAttribute("data-svg-origin"),ie(e,k||q,!!k||r.originIsAbsolute,!1!==r.smooth,x)),b=r.xOrigin||0,_=r.yOrigin||0,x!==$&&(E=x[0],M=x[1],P=x[2],A=x[3],n=C=x[4],i=O=x[5],6===x.length?(o=Math.sqrt(E*E+M*M),s=Math.sqrt(A*A+P*P),u=E||M?m(M,E)*f:0,(v=P||A?m(P,A)*f+u:0)&&(s*=Math.cos(v*p)),r.svg&&(n-=b-(b*E+_*P),i-=_-(b*M+_*A))):(G=x[6],U=x[7],F=x[8],z=x[9],B=x[10],j=x[11],n=x[12],i=x[13],a=x[14],l=(w=m(G,B))*f,w&&(k=C*(T=Math.cos(-w))+F*(S=Math.sin(-w)),I=O*T+z*S,N=G*T+B*S,F=C*-S+F*T,z=O*-S+z*T,B=G*-S+B*T,j=U*-S+j*T,C=k,O=I,G=N),d=(w=m(-P,B))*f,w&&(T=Math.cos(-w),j=A*(S=Math.sin(-w))+j*T,E=k=E*T-F*S,M=I=M*T-z*S,P=N=P*T-B*S),u=(w=m(M,E))*f,w&&(k=E*(T=Math.cos(w))+M*(S=Math.sin(w)),I=C*T+O*S,M=M*T-E*S,O=O*T-C*S,E=k,C=I),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,d=180-d),o=Object(h.s)(Math.sqrt(E*E+M*M+P*P)),s=Object(h.s)(Math.sqrt(O*O+G*G)),w=m(C,O),v=Math.abs(w)>2e-4?w*f:0,y=j?1/(j<0?-j:j):0),r.svg&&(k=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!te(D(e,R)),k&&e.setAttribute("transform",k))),Math.abs(v)>90&&Math.abs(v)<270&&(W?(o*=-1,v+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,v+=v<=0?180:-180)),r.x=((r.xPercent=n&&Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)?0:n)+X,r.y=((r.yPercent=i&&Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)?0:i)+X,r.z=a+X,r.scaleX=Object(h.s)(o),r.scaleY=Object(h.s)(s),r.rotation=Object(h.s)(u)+Y,r.rotationX=Object(h.s)(l)+Y,r.rotationY=Object(h.s)(d)+Y,r.skewX=v+Y,r.skewY=g+Y,r.transformPerspective=y+X,(r.zOrigin=parseFloat(q.split(" ")[2])||0)&&(V[L]=oe(q)),r.xOffset=r.yOffset=0,r.force3D=h.e.force3D,r.renderTransform=r.svg?fe:c?de:ue,r.uncache=0,r},oe=function(e){return(e=e.split(" "))[0]+" "+e[1]},se=function(e,t,r){var n=Object(h.v)(t);return Object(h.s)(parseFloat(t)+parseFloat(X(e,"x",r+"px",n)))+n},ue=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,de(e,t)},le="0deg",ce="0px",he=") ",de=function(e,t){var r=t||this,n=r.xPercent,i=r.yPercent,a=r.x,o=r.y,s=r.z,u=r.rotation,l=r.rotationY,c=r.rotationX,h=r.skewX,d=r.skewY,f=r.scaleX,m=r.scaleY,v=r.transformPerspective,g=r.force3D,y=r.target,b=r.zOrigin,_="",x="auto"===g&&e&&1!==e||!0===g;if(b&&(c!==le||l!==le)){var w,T=parseFloat(l)*p,S=Math.sin(T),E=Math.cos(T);T=parseFloat(c)*p,w=Math.cos(T),a=se(y,a,S*w*-b),o=se(y,o,-Math.sin(T)*-b),s=se(y,s,E*w*-b+b)}v!==ce&&(_+="perspective("+v+he),(n||i)&&(_+="translate("+n+"%, "+i+"%) "),(x||a!==ce||o!==ce||s!==ce)&&(_+=s!==ce||x?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+he),u!==le&&(_+="rotate("+u+he),l!==le&&(_+="rotateY("+l+he),c!==le&&(_+="rotateX("+c+he),h===le&&d===le||(_+="skew("+h+", "+d+he),1===f&&1===m||(_+="scale("+f+", "+m+he),y.style[R]=_||"translate(0, 0)"},fe=function(e,t){var r,n,i,a,o,s=t||this,u=s.xPercent,l=s.yPercent,c=s.x,d=s.y,f=s.rotation,m=s.skewX,v=s.skewY,g=s.scaleX,y=s.scaleY,b=s.target,_=s.xOrigin,x=s.yOrigin,w=s.xOffset,T=s.yOffset,S=s.forceCSS,E=parseFloat(c),M=parseFloat(d);f=parseFloat(f),m=parseFloat(m),(v=parseFloat(v))&&(m+=v=parseFloat(v),f+=v),f||m?(f*=p,m*=p,r=Math.cos(f)*g,n=Math.sin(f)*g,i=Math.sin(f-m)*-y,a=Math.cos(f-m)*y,m&&(v*=p,o=Math.tan(m-v),i*=o=Math.sqrt(1+o*o),a*=o,v&&(o=Math.tan(v),r*=o=Math.sqrt(1+o*o),n*=o)),r=Object(h.s)(r),n=Object(h.s)(n),i=Object(h.s)(i),a=Object(h.s)(a)):(r=g,a=y,n=i=0),(E&&!~(c+"").indexOf("px")||M&&!~(d+"").indexOf("px"))&&(E=X(b,"x",c,"px"),M=X(b,"y",d,"px")),(_||x||w||T)&&(E=Object(h.s)(E+_-(_*r+x*i)+w),M=Object(h.s)(M+x-(_*n+x*a)+T)),(u||l)&&(o=b.getBBox(),E=Object(h.s)(E+u/100*o.width),M=Object(h.s)(M+l/100*o.height)),o="matrix("+r+","+n+","+i+","+a+","+E+","+M+")",b.setAttribute("transform",o),S&&(b.style[R]=o)},pe=function(e,t,r,n,i,a){var o,s,u=360,l=Object(h.j)(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?f:1),d=a?c*a:c-n,p=n+d+"deg";return l&&("short"===(o=i.split("_")[1])&&(d%=u)!==d%180&&(d+=d<0?u:-360),"cw"===o&&d<0?d=(d+36e9)%u-~~(d/u)*u:"ccw"===o&&d>0&&(d=(d-36e9)%u-~~(d/u)*u)),e._pt=s=new h.b(e._pt,t,r,n,d,x),s.e=p,s.u="deg",e._props.push(r),s},me=function(e,t,r){var n,a,o,s,l,c,f,p=u.style,m=r._gsap;for(a in p.cssText=getComputedStyle(r).cssText+";position:absolute;display:block;",p[R]=t,i.body.appendChild(u),n=ae(u,1),d)(o=m[a])!==(s=n[a])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(a)<0&&(l=Object(h.v)(o)!==(f=Object(h.v)(s))?X(r,a,o,f):parseFloat(o),c=parseFloat(s),e._pt=new h.b(e._pt,m,a,l,c-l,_),e._pt.u=f||0,e._props.push(a));i.body.removeChild(u)};Object(h.f)("padding,margin,Width,Radius",(function(e,t){var r="Top",n="Right",i="Bottom",a="Left",o=(t<3?[r,n,i,a]:[r+a,r+n,i+n,i+a]).map((function(r){return t<2?e+r:"border"+r+e}));K[t>1?"border"+e:e]=function(e,t,r,n,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return Y(e,t,r)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(n+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var ve={name:"css",register:z,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,n,i){var a,s,u,l,c,f,p,m,v,g,x,S,E,M,P,A=this._props,C=e.style;for(p in o||z(),t)if("autoRound"!==p&&(s=t[p],!h.o[p]||!Object(h.c)(p,t,r,n,e,i)))if(c=typeof s,f=K[p],"function"===c&&(c=typeof(s=s.call(r,n,e,i))),"string"===c&&~s.indexOf("random(")&&(s=Object(h.r)(s)),f)f(this,e,p,s,r)&&(P=1);else if("--"===p.substr(0,2))this.add(C,"setProperty",getComputedStyle(e).getPropertyValue(p)+"",s+"",n,i,0,0,p);else if("undefined"!==c){if(a=Y(e,p),l=parseFloat(a),(g="string"===c&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),u=parseFloat(s),p in b&&("autoAlpha"===p&&(1===l&&"hidden"===Y(e,"visibility")&&u&&(l=0),V(this,C,"visibility",l?"inherit":"hidden",u?"inherit":"hidden",!u)),"scale"!==p&&"transform"!==p&&~(p=b[p]).indexOf(",")&&(p=p.split(",")[0])),x=p in d)if(S||((E=e._gsap).renderTransform||ae(e),M=!1!==t.smoothOrigin&&E.smooth,(S=this._pt=new h.b(this._pt,C,R,0,1,E.renderTransform,E,0,-1)).dep=1),"scale"===p)this._pt=new h.b(this._pt,E,"scaleY",E.scaleY,g?g*u:u-E.scaleY),A.push("scaleY",p),p+="X";else{if("transformOrigin"===p){s=J(s),E.svg?ie(e,s,0,M,0,this):((v=parseFloat(s.split(" ")[2])||0)!==E.zOrigin&&V(this,E,"zOrigin",E.zOrigin,v),V(this,C,p,oe(a),oe(s)));continue}if("svgOrigin"===p){ie(e,s,1,M,0,this);continue}if(p in ee){pe(this,E,p,l,s,g);continue}if("smoothOrigin"===p){V(this,E,"smooth",E.smooth,s);continue}if("force3D"===p){E[p]=s;continue}if("transform"===p){me(this,s,e);continue}}else p in C||(p=F(p)||p);if(x||(u||0===u)&&(l||0===l)&&!y.test(s)&&p in C)u||(u=0),(m=(a+"").substr((l+"").length))!==(v=Object(h.v)(s)||(p in h.e.units?h.e.units[p]:m))&&(l=X(e,p,a,v)),this._pt=new h.b(this._pt,x?E:C,p,l,g?g*u:u-l,"px"!==v||!1===t.autoRound||x?_:T),this._pt.u=v||0,m!==v&&(this._pt.b=a,this._pt.r=w);else if(p in C)q.call(this,e,p,a,s);else{if(!(p in e)){Object(h.l)(p,s);continue}this.add(e,p,e[p],s,n,i)}A.push(p)}P&&Object(h.t)(this)},get:Y,aliases:b,getSetter:function(e,t,r){var n=b[t];return n&&n.indexOf(",")<0&&(t=n),t in d&&t!==L&&(e._gsap.x||Y(e,"x"))?r&&l===r?"scale"===t?C:A:(l=r||{})&&("scale"===t?O:k):e.style&&!Object(h.k)(e.style[t])?M:~t.indexOf("-")?P:Object(h.i)(e,t)},core:{_removeProperty:G,_getMatrix:ne}};h.w.utils.checkPrefix=F,function(e,t,r,n){var i=Object(h.f)(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){d[e]=1}));Object(h.f)(t,(function(e){h.e.units[e]="deg",ee[e]=1})),b[i[13]]=e+","+t,Object(h.f)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");b[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Object(h.f)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){h.e.units[e]="px"})),h.w.registerPlugin(ve)},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;0!==i--;){var o=a[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRoutes=t.getWorkingPath=t.usePath=t.getPath=t.setPath=t.navigate=t.ParentContext=t.getBasepath=t.setBasepath=void 0;var n=s(r(1)),i=s(r(33)),a=r(44),o=r(34);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l={},c={},h=1,d=i.default?"":location.pathname,f="",p=null,m=[];t.setBasepath=function(e){f=e,p=new RegExp("^"+f)};t.getBasepath=function(){return f};var v=function(e){if(i.default)return r(20).resolve(d,e);var t=new URL(d,location.href);return new URL(e,t).pathname},g=n.default.createContext(null);t.ParentContext=g;var y=function(e){if(l[e])return l[e];var t=[new RegExp("".concat("*"===e.substr(0,1)?"":"^").concat(e.replace(/:[a-zA-Z]+/g,"([^/]+)").replace(/\*/g,"")).concat("*"===e.substr(-1)?"":"$"))],r=e.match(/:[a-zA-Z]+/g);return t.push(r?r.map((function(e){return e.substr(1)})):[]),l[e]=t,t};t.navigate=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if((e=(0,o.interceptRoute)(d,v(e)))&&e!==d){if(d=e,i.default)return _(e),T(),void x();var s=p?e.match(p)?e:f+e:e;window.history["".concat(t?"replace":"push","State")](null,null,s),T(),x(),r&&(0,a.setQueryParams)(r,n)}};var b="/",_=function(e){var t=r(20);b=t.resolve(b,e)};t.setPath=_;t.getPath=function(){return b};t.usePath=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.default.useState(0),i=u(r,2),a=i[1];return n.default.useEffect((function(){if(e)return m.push(a),function(){var e=m.indexOf(a);-1!==e&&m.splice(e,1)}}),[a]),t?d:d.replace(p,"")};var x=function(){var e=Date.now();m.forEach((function(t){return t(e)}))},w=function(e){if(!e)return i.default?b:window.location.pathname.replace(p,"")||"/";var t=c[e];if(!t)throw"wth";return null!==t.reducedPath?t.reducedPath||"/":window.location.pathname};t.getWorkingPath=w;var T=function(){return Object.values(c).forEach(E)};i.default||window.addEventListener("popstate",(function(e){var t=(0,o.interceptRoute)(d,location.pathname);if(!t||t===d)return e.preventDefault(),e.stopPropagation(),void history.pushState(null,null,d);d=t,t!==location.pathname&&history.replaceState(null,null,t),T(),x()}));var S=function(){return null},E=function(e,t){for(var r=e.routerId,n=e.parentRouterId,i=e.routes,a=e.setUpdate,o=e.resultFunc,s=e.resultProps,h=e.reducedPath,d=w(n),f=null,p=null,m=null,v=null,g=!1,b=0;b<i.length;b++){var _=u(i[b],2);f=_[0],p=_[1];var x=u(l[f]?l[f]:y(f),2),T=x[0],E=x[1],M=d.match(T);if(M){if(E.length){m={};for(var P=0;P<E.length;P++)m[E[P]]=M[P+1]}v=d.replace(M[0],""),g=!0;break}p=S}if(c[r]){g||(f=null,p=null,m=null,v=null);var A=o!==p,C=v!==h,O=!0;if(A||(O=!(!s&&!m)&&!(s&&m&&!0===function(e,t){var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((function(r){return t.hasOwnProperty(r)&&e[r]===t[r]}))}(s,m)))||C){var k=A||O?p?p(m):null:e.result;Object.assign(c[r],{result:k,reducedPath:v,matchedRoute:f,passContext:!!f&&"*"===f.substr(-1)}),t||!A&&!O&&null!==f||a(Date.now())}}};t.useRoutes=function(e){var t=u(n.default.useState(h),1)[0],r=n.default.useState(0)[1],i=n.default.useContext(g);t===h&&(h+=1),n.default.useEffect((function(){return function(){return delete c[t]}}),[t]);var a=c[t];if(a&&a.originalRouteObj!==e&&(a=null),a||(a={routerId:t,originalRouteObj:e,routes:Object.entries(e),setUpdate:r,parentRouterId:i,matchedRoute:null,reducedPath:null,passContext:!1,result:null},c[t]=a,E(a,!0)),n.default.useDebugValue(a.matchedRoute),!a.matchedRoute)return null;var o=a.result;if(a.passContext){var s=function(e){var r=e.children;return n.default.createElement(g.Provider,{value:t},r)};return"function"===typeof o?function(e,t){return function(){return n.default.createElement(e,null,t.apply(t,arguments))}}(s,o):n.default.isValidElement(o)&&o.type!==s?n.default.createElement(s,null,o):o}return o}},function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){(function(e){e.exports=function(){"use strict";var t,r;function n(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function f(e,t){for(var r in t)s(t,r)&&(e[r]=t[r]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,r,n){return Xr(e,t,r,n,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=m()),e._pf}function g(e){if(null==e._isValid){var t=v(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=p(NaN);return null!=e?f(v(t),e):v(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),n=r.length>>>0;for(t=0;t<n;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var b=n.momentProperties=[],_=!1;function x(e,t){var r,n,i;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=v(t)),l(t._locale)||(e._locale=t._locale),b.length>0)for(r=0;r<b.length;r++)l(i=t[n=b[r]])||(e[n]=i);return e}function w(e){x(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,n.updateOffset(this),_=!1)}function T(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function S(e){!1===n.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var r=!0;return f((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){var i,a,o,u=[];for(a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var M,P={};function A(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),P[e]||(S(t),P[e]=!0)}function C(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,r;for(r in e)s(e,r)&&(C(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function k(e,t){var r,n=f({},e);for(r in t)s(t,r)&&(o(e[r])&&o(t[r])?(n[r]={},f(n[r],e[r]),f(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)s(e,r)&&!s(t,r)&&o(e[r])&&(n[r]=f({},n[r]));return n}function R(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,M=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)s(e,t)&&r.push(t);return r};var L={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function I(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return C(n)?n.call(t,r):n}function D(e,t,r){var n=""+Math.abs(e),i=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},B={};function U(e,t,r,n){var i=n;"string"===typeof n&&(i=function(){return this[n]()}),e&&(B[e]=i),t&&(B[t[0]]=function(){return D(i.apply(this,arguments),t[1],t[2])}),r&&(B[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function j(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e){var t,r,n=e.match(N);for(t=0,r=n.length;t<r;t++)B[n[t]]?n[t]=B[n[t]]:n[t]=j(n[t]);return function(t){var i,a="";for(i=0;i<r;i++)a+=C(n[i])?n[i].call(t,e):n[i];return a}}function G(e,t){return e.isValid()?(t=V(t,e.localeData()),z[t]=z[t]||H(t),z[t](e)):e.localeData().invalidDate()}function V(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;r>=0&&F.test(e);)e=e.replace(F,n),F.lastIndex=0,r-=1;return e}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function X(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(N).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function q(){return this._invalidDate}var Z="%d",J=/\d{1,2}/;function Q(e){return this._ordinal.replace("%d",e)}var K={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,r,n){var i=this._relativeTime[r];return C(i)?i(e,t,r,n):i.replace(/%d/i,e)}function ee(e,t){var r=this._relativeTime[e>0?"future":"past"];return C(r)?r(t):r.replace(/%s/i,t)}var te={};function re(e,t){var r=e.toLowerCase();te[r]=te[r+"s"]=te[t]=e}function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,r,n={};for(r in e)s(e,r)&&(t=ne(r))&&(n[t]=e[r]);return n}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,r=[];for(t in e)s(e,t)&&r.push({unit:t,priority:ae[t]});return r.sort((function(e,t){return e.priority-t.priority})),r}function ue(e){return e%4===0&&e%100!==0||e%400===0}function le(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=le(t)),r}function he(e,t){return function(r){return null!=r?(fe(this,e,r),n.updateOffset(this,t),this):de(this,e)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(r=ce(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),$e(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function pe(e){return C(this[e=ne(e)])?this[e]():this}function me(e,t){if("object"===typeof e){var r,n=se(e=ie(e));for(r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(C(this[e=ne(e)]))return this[e](t);return this}var ve,ge=/\d/,ye=/\d\d/,be=/\d{3}/,_e=/\d{4}/,xe=/[+-]?\d{6}/,we=/\d\d?/,Te=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Me=/\d{1,4}/,Pe=/[+-]?\d{1,6}/,Ae=/\d+/,Ce=/[+-]?\d+/,Oe=/Z|[+-]\d\d:?\d\d/gi,ke=/Z|[+-]\d\d(?::?\d\d)?/gi,Re=/[+-]?\d+(\.\d{1,3})?/,Le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ie(e,t,r){ve[e]=C(t)?t:function(e,n){return e&&r?r:t}}function De(e,t){return s(ve,e)?ve[e](t._strict,t._locale):new RegExp(Ne(e))}function Ne(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,i){return t||r||n||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ve={};var ze={};function Be(e,t){var r,n=t;for("string"===typeof e&&(e=[e]),c(t)&&(n=function(e,r){r[t]=ce(e)}),r=0;r<e.length;r++)ze[e[r]]=n}function Ue(e,t){Be(e,(function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)}))}function je(e,t,r){null!=t&&s(ze,e)&&ze[e](t,r._a,r,e)}var He,Ge=0,Ve=1,We=2,Xe=3,Ye=4,qe=5,Ze=6,Je=7,Qe=8;function Ke(e,t){return(e%t+t)%t}function $e(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Ke(t,12);return e+=(t-r)/12,1===r?ue(e)?29:28:31-r%7%2}He=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),U("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),re("month","M"),oe("month",8),Ie("M",we),Ie("MM",we,ye),Ie("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ie("MMMM",(function(e,t){return t.monthsRegex(e)})),Be(["M","MM"],(function(e,t){t[Ve]=ce(e)-1})),Be(["MMM","MMMM"],(function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[Ve]=i:v(r).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nt=Le,it=Le;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,r){var n,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=p([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(i=He.call(this._shortMonthsParse,o))?i:null:-1!==(i=He.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=He.call(this._shortMonthsParse,o))||-1!==(i=He.call(this._longMonthsParse,o))?i:null:-1!==(i=He.call(this._longMonthsParse,o))||-1!==(i=He.call(this._shortMonthsParse,o))?i:null}function ut(e,t,r){var n,i,a;if(this._monthsParseExact)return st.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=p([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function lt(e,t){var r;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),$e(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function ct(e){return null!=e?(lt(this,e),n.updateOffset(this,!0),this):de(this,"Month")}function ht(){return $e(this.year(),this.month())}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=nt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,r,n=[],i=[],a=[];for(t=0;t<12;t++)r=p([2e3,t]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),a.push(this.months(r,"")),a.push(this.monthsShort(r,""));for(n.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)n[t]=Fe(n[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)a[t]=Fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function mt(e){return ue(e)?366:365}U("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),re("year","y"),oe("year",1),Ie("Y",Ce),Ie("YY",we,ye),Ie("YYYY",Me,_e),Ie("YYYYY",Pe,xe),Ie("YYYYYY",Pe,xe),Be(["YYYYY","YYYYYY"],Ge),Be("YYYY",(function(e,t){t[Ge]=2===e.length?n.parseTwoDigitYear(e):ce(e)})),Be("YY",(function(e,t){t[Ge]=n.parseTwoDigitYear(e)})),Be("Y",(function(e,t){t[Ge]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var vt=he("FullYear",!0);function gt(){return ue(this.year())}function yt(e,t,r,n,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,r,n,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,r,n,i,a,o),s}function bt(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function _t(e,t,r){var n=7+t-r;return-(7+bt(e,0,n).getUTCDay()-t)%7+n-1}function xt(e,t,r,n,i){var a,o,s=1+7*(t-1)+(7+r-n)%7+_t(e,n,i);return s<=0?o=mt(a=e-1)+s:s>mt(e)?(a=e+1,o=s-mt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function wt(e,t,r){var n,i,a=_t(e.year(),t,r),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?n=o+Tt(i=e.year()-1,t,r):o>Tt(e.year(),t,r)?(n=o-Tt(e.year(),t,r),i=e.year()+1):(i=e.year(),n=o),{week:n,year:i}}function Tt(e,t,r){var n=_t(e,t,r),i=_t(e+1,t,r);return(mt(e)-n+i)/7}function St(e){return wt(e,this._week.dow,this._week.doy).week}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),re("week","w"),re("isoWeek","W"),oe("week",5),oe("isoWeek",5),Ie("w",we),Ie("ww",we,ye),Ie("W",we),Ie("WW",we,ye),Ue(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=ce(e)}));var Et={dow:0,doy:6};function Mt(){return this._week.dow}function Pt(){return this._week.doy}function At(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ct(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ot(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function kt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Rt(e,t){return e.slice(t,7).concat(e.slice(0,t))}U("d",0,"do","day"),U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),re("day","d"),re("weekday","e"),re("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Ie("d",we),Ie("e",we),Ie("E",we),Ie("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ie("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ie("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ue(["dd","ddd","dddd"],(function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);null!=i?t.d=i:v(r).invalidWeekday=e})),Ue(["d","e","E"],(function(e,t,r,n){t[n]=ce(e)}));var Lt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),It="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Nt=Le,Ft=Le,zt=Le;function Bt(e,t){var r=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Rt(r,this._week.dow):e?r[e.day()]:r}function Ut(e){return!0===e?Rt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function jt(e){return!0===e?Rt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ht(e,t,r){var n,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=p([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(i=He.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=He.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=He.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=He.call(this._weekdaysParse,o))||-1!==(i=He.call(this._shortWeekdaysParse,o))||-1!==(i=He.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=He.call(this._shortWeekdaysParse,o))||-1!==(i=He.call(this._weekdaysParse,o))||-1!==(i=He.call(this._minWeekdaysParse,o))?i:null:-1!==(i=He.call(this._minWeekdaysParse,o))||-1!==(i=He.call(this._weekdaysParse,o))||-1!==(i=He.call(this._shortWeekdaysParse,o))?i:null}function Gt(e,t,r){var n,i,a;if(this._weekdaysParseExact)return Ht.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=p([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function Vt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Xt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=kt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Nt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,r,n,i,a,o=[],s=[],u=[],l=[];for(t=0;t<7;t++)r=p([2e3,1]).day(t),n=Fe(this.weekdaysMin(r,"")),i=Fe(this.weekdaysShort(r,"")),a=Fe(this.weekdays(r,"")),o.push(n),s.push(i),u.push(a),l.push(n),l.push(i),l.push(a);o.sort(e),s.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Kt(){return this.hours()||24}function $t(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function er(e,t){return t._meridiemParse}function tr(e){return"p"===(e+"").toLowerCase().charAt(0)}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Qt),U("k",["kk",2],0,Kt),U("hmm",0,0,(function(){return""+Qt.apply(this)+D(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+Qt.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),$t("a",!0),$t("A",!1),re("hour","h"),oe("hour",13),Ie("a",er),Ie("A",er),Ie("H",we),Ie("h",we),Ie("k",we),Ie("HH",we,ye),Ie("hh",we,ye),Ie("kk",we,ye),Ie("hmm",Te),Ie("hmmss",Se),Ie("Hmm",Te),Ie("Hmmss",Se),Be(["H","HH"],Xe),Be(["k","kk"],(function(e,t,r){var n=ce(e);t[Xe]=24===n?0:n})),Be(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),Be(["h","hh"],(function(e,t,r){t[Xe]=ce(e),v(r).bigHour=!0})),Be("hmm",(function(e,t,r){var n=e.length-2;t[Xe]=ce(e.substr(0,n)),t[Ye]=ce(e.substr(n)),v(r).bigHour=!0})),Be("hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[Xe]=ce(e.substr(0,n)),t[Ye]=ce(e.substr(n,2)),t[qe]=ce(e.substr(i)),v(r).bigHour=!0})),Be("Hmm",(function(e,t,r){var n=e.length-2;t[Xe]=ce(e.substr(0,n)),t[Ye]=ce(e.substr(n))})),Be("Hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[Xe]=ce(e.substr(0,n)),t[Ye]=ce(e.substr(n,2)),t[qe]=ce(e.substr(i))}));var rr=/[ap]\.?m?\.?/i,nr=he("Hours",!0);function ir(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var ar,or={calendar:L,longDateFormat:W,invalidDate:Y,ordinal:Z,dayOfMonthOrdinalParse:J,relativeTime:K,months:et,monthsShort:tt,week:Et,weekdays:Lt,weekdaysMin:Dt,weekdaysShort:It,meridiemParse:rr},sr={},ur={};function lr(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function cr(e){return e?e.toLowerCase().replace("_","-"):e}function hr(e){for(var t,r,n,i,a=0;a<e.length;){for(t=(i=cr(e[a]).split("-")).length,r=(r=cr(e[a+1]))?r.split("-"):null;t>0;){if(n=dr(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&lr(i,r)>=t-1)break;t--}a++}return ar}function dr(t){var r=null;if(void 0===sr[t]&&"undefined"!==typeof e&&e&&e.exports)try{r=ar._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),fr(r)}catch(n){sr[t]=null}return sr[t]}function fr(e,t){var r;return e&&((r=l(t)?vr(e):pr(e,t))?ar=r:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ar._abbr}function pr(e,t){if(null!==t){var r,n=or;if(t.abbr=e,null!=sr[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=sr[e]._config;else if(null!=t.parentLocale)if(null!=sr[t.parentLocale])n=sr[t.parentLocale]._config;else{if(null==(r=dr(t.parentLocale)))return ur[t.parentLocale]||(ur[t.parentLocale]=[]),ur[t.parentLocale].push({name:e,config:t}),null;n=r._config}return sr[e]=new R(k(n,t)),ur[e]&&ur[e].forEach((function(e){pr(e.name,e.config)})),fr(e),sr[e]}return delete sr[e],null}function mr(e,t){if(null!=t){var r,n,i=or;null!=sr[e]&&null!=sr[e].parentLocale?sr[e].set(k(sr[e]._config,t)):(null!=(n=dr(e))&&(i=n._config),t=k(i,t),null==n&&(t.abbr=e),(r=new R(t)).parentLocale=sr[e],sr[e]=r),fr(e)}else null!=sr[e]&&(null!=sr[e].parentLocale?(sr[e]=sr[e].parentLocale,e===fr()&&fr(e)):null!=sr[e]&&delete sr[e]);return sr[e]}function vr(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ar;if(!a(e)){if(t=dr(e))return t;e=[e]}return hr(e)}function gr(){return M(sr)}function yr(e){var t,r=e._a;return r&&-2===v(e).overflow&&(t=r[Ve]<0||r[Ve]>11?Ve:r[We]<1||r[We]>$e(r[Ge],r[Ve])?We:r[Xe]<0||r[Xe]>24||24===r[Xe]&&(0!==r[Ye]||0!==r[qe]||0!==r[Ze])?Xe:r[Ye]<0||r[Ye]>59?Ye:r[qe]<0||r[qe]>59?qe:r[Ze]<0||r[Ze]>999?Ze:-1,v(e)._overflowDayOfYear&&(t<Ge||t>We)&&(t=We),v(e)._overflowWeeks&&-1===t&&(t=Je),v(e)._overflowWeekday&&-1===t&&(t=Qe),v(e).overflow=t),e}var br=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_r=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xr=/Z|[+-]\d\d(?::?\d\d)?/,wr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sr=/^\/?Date\((-?\d+)/i,Er=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Mr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pr(e){var t,r,n,i,a,o,s=e._i,u=br.exec(s)||_r.exec(s);if(u){for(v(e).iso=!0,t=0,r=wr.length;t<r;t++)if(wr[t][1].exec(u[1])){i=wr[t][0],n=!1!==wr[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,r=Tr.length;t<r;t++)if(Tr[t][1].exec(u[3])){a=(u[2]||" ")+Tr[t][0];break}if(null==a)return void(e._isValid=!1)}if(!n&&null!=a)return void(e._isValid=!1);if(u[4]){if(!xr.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Br(e)}else e._isValid=!1}function Ar(e,t,r,n,i,a){var o=[Cr(e),tt.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Cr(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Or(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function kr(e,t,r){return!e||It.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(r).weekdayMismatch=!0,r._isValid=!1,!1)}function Rr(e,t,r){if(e)return Mr[e];if(t)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}function Lr(e){var t,r=Er.exec(Or(e._i));if(r){if(t=Ar(r[4],r[3],r[2],r[5],r[6],r[7]),!kr(r[1],t,e))return;e._a=t,e._tzm=Rr(r[8],r[9],r[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Ir(e){var t=Sr.exec(e._i);null===t?(Pr(e),!1===e._isValid&&(delete e._isValid,Lr(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Dr(e,t,r){return null!=e?e:null!=t?t:r}function Nr(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fr(e){var t,r,n,i,a,o=[];if(!e._d){for(n=Nr(e),e._w&&null==e._a[We]&&null==e._a[Ve]&&zr(e),null!=e._dayOfYear&&(a=Dr(e._a[Ge],n[Ge]),(e._dayOfYear>mt(a)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),r=bt(a,0,e._dayOfYear),e._a[Ve]=r.getUTCMonth(),e._a[We]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=n[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Xe]&&0===e._a[Ye]&&0===e._a[qe]&&0===e._a[Ze]&&(e._nextDay=!0,e._a[Xe]=0),e._d=(e._useUTC?bt:yt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Xe]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(v(e).weekdayMismatch=!0)}}function zr(e){var t,r,n,i,a,o,s,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,r=Dr(t.GG,e._a[Ge],wt(Yr(),1,4).year),n=Dr(t.W,1),((i=Dr(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,l=wt(Yr(),a,o),r=Dr(t.gg,e._a[Ge],l.year),n=Dr(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),n<1||n>Tt(r,a,o)?v(e)._overflowWeeks=!0:null!=u?v(e)._overflowWeekday=!0:(s=xt(r,n,i,a,o),e._a[Ge]=s.year,e._dayOfYear=s.dayOfYear)}function Br(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],v(e).empty=!0;var t,r,i,a,o,s,u=""+e._i,l=u.length,c=0;for(i=V(e._f,e._locale).match(N)||[],t=0;t<i.length;t++)a=i[t],(r=(u.match(De(a,e))||[])[0])&&((o=u.substr(0,u.indexOf(r))).length>0&&v(e).unusedInput.push(o),u=u.slice(u.indexOf(r)+r.length),c+=r.length),B[a]?(r?v(e).empty=!1:v(e).unusedTokens.push(a),je(a,r,e)):e._strict&&!r&&v(e).unusedTokens.push(a);v(e).charsLeftOver=l-c,u.length>0&&v(e).unusedInput.push(u),e._a[Xe]<=12&&!0===v(e).bigHour&&e._a[Xe]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[Xe]=Ur(e._locale,e._a[Xe],e._meridiem),null!==(s=v(e).era)&&(e._a[Ge]=e._locale.erasConvertYear(s,e._a[Ge])),Fr(e),yr(e)}else Lr(e);else Pr(e)}function Ur(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function jr(e){var t,r,n,i,a,o,s=!1;if(0===e._f.length)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,o=!1,t=x({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Br(t),g(t)&&(o=!0),a+=v(t).charsLeftOver,a+=10*v(t).unusedTokens.length,v(t).score=a,s?a<n&&(n=a,r=t):(null==n||a<n||o)&&(n=a,r=t,o&&(s=!0));f(e,r||t)}function Hr(e){if(!e._d){var t=ie(e._i),r=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fr(e)}}function Gr(e){var t=new w(yr(Vr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Vr(e){var t=e._i,r=e._f;return e._locale=e._locale||vr(e._l),null===t||void 0===r&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),T(t)?new w(yr(t)):(h(t)?e._d=t:a(r)?jr(e):r?Br(e):Wr(e),g(e)||(e._d=null),e))}function Wr(e){var t=e._i;l(t)?e._d=new Date(n.now()):h(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ir(e):a(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Fr(e)):o(t)?Hr(e):c(t)?e._d=new Date(t):n.createFromInputFallback(e)}function Xr(e,t,r,n,i){var s={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=r,s._i=e,s._f=t,s._strict=n,Gr(s)}function Yr(e,t,r,n){return Xr(e,t,r,n,!1)}n.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var qr=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Zr=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Jr(e,t){var r,n;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Yr();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}function Qr(){return Jr("isBefore",[].slice.call(arguments,0))}function Kr(){return Jr("isAfter",[].slice.call(arguments,0))}var $r=function(){return Date.now?Date.now():+new Date},en=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tn(e){var t,r,n=!1;for(t in e)if(s(e,t)&&(-1===He.call(en,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<en.length;++r)if(e[en[r]]){if(n)return!1;parseFloat(e[en[r]])!==ce(e[en[r]])&&(n=!0)}return!0}function rn(){return this._isValid}function nn(){return Pn(NaN)}function an(e){var t=ie(e),r=t.year||0,n=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=tn(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*n+12*r,this._data={},this._locale=vr(),this._bubble()}function on(e){return e instanceof an}function sn(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function un(e,t,r){var n,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(n=0;n<i;n++)(r&&e[n]!==t[n]||!r&&ce(e[n])!==ce(t[n]))&&o++;return o+a}function ln(e,t){U(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+D(~~(e/60),2)+t+D(~~e%60,2)}))}ln("Z",":"),ln("ZZ",""),Ie("Z",ke),Ie("ZZ",ke),Be(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=hn(ke,e)}));var cn=/([\+\-]|\d\d)/gi;function hn(e,t){var r,n,i=(t||"").match(e);return null===i?null:0===(n=60*(r=((i[i.length-1]||[])+"").match(cn)||["-",0,0])[1]+ce(r[2]))?0:"+"===r[0]?n:-n}function dn(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(T(e)||h(e)?e.valueOf():Yr(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Yr(e).local()}function fn(e){return-Math.round(e._d.getTimezoneOffset())}function pn(e,t,r){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hn(ke,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=fn(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Rn(this,Pn(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:fn(this)}function mn(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vn(e){return this.utcOffset(0,e)}function gn(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fn(this),"m")),this}function yn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hn(Oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function bn(e){return!!this.isValid()&&(e=e?Yr(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _n(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xn(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return x(t,this),(t=Vr(t))._a?(e=t._isUTC?p(t._a):Yr(t._a),this._isDSTShifted=this.isValid()&&un(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function wn(){return!!this.isValid()&&!this._isUTC}function Tn(){return!!this.isValid()&&this._isUTC}function Sn(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var En=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Mn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Pn(e,t){var r,n,i,a=e,o=null;return on(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=En.exec(e))?(r="-"===o[1]?-1:1,a={y:0,d:ce(o[We])*r,h:ce(o[Xe])*r,m:ce(o[Ye])*r,s:ce(o[qe])*r,ms:ce(sn(1e3*o[Ze]))*r}):(o=Mn.exec(e))?(r="-"===o[1]?-1:1,a={y:An(o[2],r),M:An(o[3],r),w:An(o[4],r),d:An(o[5],r),h:An(o[6],r),m:An(o[7],r),s:An(o[8],r)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=On(Yr(a.from),Yr(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),n=new an(a),on(e)&&s(e,"_locale")&&(n._locale=e._locale),on(e)&&s(e,"_isValid")&&(n._isValid=e._isValid),n}function An(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Cn(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function On(e,t){var r;return e.isValid()&&t.isValid()?(t=dn(t,e),e.isBefore(t)?r=Cn(e,t):((r=Cn(t,e)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function kn(e,t){return function(r,n){var i;return null===n||isNaN(+n)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),Rn(this,Pn(r,n),e),this}}function Rn(e,t,r,i){var a=t._milliseconds,o=sn(t._days),s=sn(t._months);e.isValid()&&(i=null==i||i,s&&lt(e,de(e,"Month")+s*r),o&&fe(e,"Date",de(e,"Date")+o*r),a&&e._d.setTime(e._d.valueOf()+a*r),i&&n.updateOffset(e,o||s))}Pn.fn=an.prototype,Pn.invalid=nn;var Ln=kn(1,"add"),In=kn(-1,"subtract");function Dn(e){return"string"===typeof e||e instanceof String}function Nn(e){return T(e)||h(e)||Dn(e)||c(e)||zn(e)||Fn(e)||null===e||void 0===e}function Fn(e){var t,r,n=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<a.length;t+=1)r=a[t],i=i||s(e,r);return n&&i}function zn(e){var t=a(e),r=!1;return t&&(r=0===e.filter((function(t){return!c(t)&&Dn(e)})).length),t&&r}function Bn(e){var t,r,n=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)r=a[t],i=i||s(e,r);return n&&i}function Un(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function jn(e,t){1===arguments.length&&(arguments[0]?Nn(arguments[0])?(e=arguments[0],t=void 0):Bn(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Yr(),i=dn(r,this).startOf("day"),a=n.calendarFormat(this,i)||"sameElse",o=t&&(C(t[a])?t[a].call(this,r):t[a]);return this.format(o||this.localeData().calendar(a,this,Yr(r)))}function Hn(){return new w(this)}function Gn(e,t){var r=T(e)?e:Yr(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())}function Vn(e,t){var r=T(e)?e:Yr(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())}function Wn(e,t,r,n){var i=T(e)?e:Yr(e),a=T(t)?t:Yr(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(n=n||"()")[0]?this.isAfter(i,r):!this.isBefore(i,r))&&(")"===n[1]?this.isBefore(a,r):!this.isAfter(a,r))}function Xn(e,t){var r,n=T(e)?e:Yr(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))}function Yn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function qn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Zn(e,t,r){var n,i,a;if(!this.isValid())return NaN;if(!(n=dn(e,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),t=ne(t)){case"year":a=Jn(this,n)/12;break;case"month":a=Jn(this,n);break;case"quarter":a=Jn(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:le(a)}function Jn(e,t){if(e.date()<t.date())return-Jn(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function Qn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Kn(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?G(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(r,"Z")):G(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $n(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,n,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",n=a+'[")]',this.format(e+t+r+n)}function ei(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=G(this,e);return this.localeData().postformat(t)}function ti(e,t){return this.isValid()&&(T(e)&&e.isValid()||Yr(e).isValid())?Pn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Yr(),e)}function ni(e,t){return this.isValid()&&(T(e)&&e.isValid()||Yr(e).isValid())?Pn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.to(Yr(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=vr(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oi=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var ui=1e3,li=60*ui,ci=60*li,hi=3506328*ci;function di(e,t){return(e%t+t)%t}function fi(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-hi:new Date(e,t,r).valueOf()}function pi(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-hi:Date.UTC(e,t,r)}function mi(e){var t,r;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?pi:fi,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),ci);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ui)}return this._d.setTime(t),n.updateOffset(this,!0),this}function vi(e){var t,r;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?pi:fi,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ci-di(t+(this._isUTC?0:this.utcOffset()*li),ci)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ui-di(t,ui)-1}return this._d.setTime(t),n.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function yi(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function _i(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function wi(){return this.isValid()?this.toISOString():null}function Ti(){return g(this)}function Si(){return f({},v(this))}function Ei(){return v(this).overflow}function Mi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Pi(e,t){var r,i,a,o=this._eras||vr("en")._eras;for(r=0,i=o.length;r<i;++r){switch(typeof o[r].since){case"string":a=n(o[r].since).startOf("day"),o[r].since=a.valueOf()}switch(typeof o[r].until){case"undefined":o[r].until=1/0;break;case"string":a=n(o[r].until).startOf("day").valueOf(),o[r].until=a.valueOf()}}return o}function Ai(e,t,r){var n,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),n=0,i=u.length;n<i;++n)if(a=u[n].name.toUpperCase(),o=u[n].abbr.toUpperCase(),s=u[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[n];break;case"NNNN":if(a===e)return u[n];break;case"NNNNN":if(s===e)return u[n]}else if([a,o,s].indexOf(e)>=0)return u[n]}function Ci(e,t){var r=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*r}function Oi(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].name;if(n[e].until<=r&&r<=n[e].since)return n[e].name}return""}function ki(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].narrow;if(n[e].until<=r&&r<=n[e].since)return n[e].narrow}return""}function Ri(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].abbr;if(n[e].until<=r&&r<=n[e].since)return n[e].abbr}return""}function Li(){var e,t,r,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-n(a[e].since).year())*r+a[e].offset;return this.year()}function Ii(e){return s(this,"_erasNameRegex")||ji.call(this),e?this._erasNameRegex:this._erasRegex}function Di(e){return s(this,"_erasAbbrRegex")||ji.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ni(e){return s(this,"_erasNarrowRegex")||ji.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function zi(e,t){return t.erasNameRegex(e)}function Bi(e,t){return t.erasNarrowRegex(e)}function Ui(e,t){return t._eraYearOrdinalRegex||Ae}function ji(){var e,t,r=[],n=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)n.push(Fe(o[e].name)),r.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),a.push(Fe(o[e].name)),a.push(Fe(o[e].abbr)),a.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Hi(e,t){U(0,[e,e.length],0,t)}function Gi(e){return Zi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Vi(e){return Zi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wi(){return Tt(this.year(),1,4)}function Xi(){return Tt(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return Tt(this.year(),e.dow,e.doy)}function qi(){var e=this.localeData()._week;return Tt(this.weekYear(),e.dow,e.doy)}function Zi(e,t,r,n,i){var a;return null==e?wt(this,n,i).year:(t>(a=Tt(e,n,i))&&(t=a),Ji.call(this,e,t,r,n,i))}function Ji(e,t,r,n,i){var a=xt(e,t,r,n,i),o=bt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Qi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),Ie("N",Fi),Ie("NN",Fi),Ie("NNN",Fi),Ie("NNNN",zi),Ie("NNNNN",Bi),Be(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?v(r).era=i:v(r).invalidEra=e})),Ie("y",Ae),Ie("yy",Ae),Ie("yyy",Ae),Ie("yyyy",Ae),Ie("yo",Ui),Be(["y","yy","yyy","yyyy"],Ge),Be(["yo"],(function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Ge]=r._locale.eraYearOrdinalParse(e,i):t[Ge]=parseInt(e,10)})),U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Hi("gggg","weekYear"),Hi("ggggg","weekYear"),Hi("GGGG","isoWeekYear"),Hi("GGGGG","isoWeekYear"),re("weekYear","gg"),re("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Ie("G",Ce),Ie("g",Ce),Ie("GG",we,ye),Ie("gg",we,ye),Ie("GGGG",Me,_e),Ie("gggg",Me,_e),Ie("GGGGG",Pe,xe),Ie("ggggg",Pe,xe),Ue(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=ce(e)})),Ue(["gg","GG"],(function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)})),U("Q",0,"Qo","quarter"),re("quarter","Q"),oe("quarter",7),Ie("Q",ge),Be("Q",(function(e,t){t[Ve]=3*(ce(e)-1)})),U("D",["DD",2],"Do","date"),re("date","D"),oe("date",9),Ie("D",we),Ie("DD",we,ye),Ie("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Be(["D","DD"],We),Be("Do",(function(e,t){t[We]=ce(e.match(we)[0])}));var Ki=he("Date",!0);function $i(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}U("DDD",["DDDD",3],"DDDo","dayOfYear"),re("dayOfYear","DDD"),oe("dayOfYear",4),Ie("DDD",Ee),Ie("DDDD",be),Be(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=ce(e)})),U("m",["mm",2],0,"minute"),re("minute","m"),oe("minute",14),Ie("m",we),Ie("mm",we,ye),Be(["m","mm"],Ye);var ea=he("Minutes",!1);U("s",["ss",2],0,"second"),re("second","s"),oe("second",15),Ie("s",we),Ie("ss",we,ye),Be(["s","ss"],qe);var ta,ra,na=he("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),re("millisecond","ms"),oe("millisecond",16),Ie("S",Ee,ge),Ie("SS",Ee,ye),Ie("SSS",Ee,be),ta="SSSS";ta.length<=9;ta+="S")Ie(ta,Ae);function ia(e,t){t[Ze]=ce(1e3*("0."+e))}for(ta="S";ta.length<=9;ta+="S")Be(ta,ia);function aa(){return this._isUTC?"UTC":""}function oa(){return this._isUTC?"Coordinated Universal Time":""}ra=he("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var sa=w.prototype;function ua(e){return Yr(1e3*e)}function la(){return Yr.apply(null,arguments).parseZone()}function ca(e){return e}sa.add=Ln,sa.calendar=jn,sa.clone=Hn,sa.diff=Zn,sa.endOf=vi,sa.format=ei,sa.from=ti,sa.fromNow=ri,sa.to=ni,sa.toNow=ii,sa.get=pe,sa.invalidAt=Ei,sa.isAfter=Gn,sa.isBefore=Vn,sa.isBetween=Wn,sa.isSame=Xn,sa.isSameOrAfter=Yn,sa.isSameOrBefore=qn,sa.isValid=Ti,sa.lang=oi,sa.locale=ai,sa.localeData=si,sa.max=Zr,sa.min=qr,sa.parsingFlags=Si,sa.set=me,sa.startOf=mi,sa.subtract=In,sa.toArray=_i,sa.toObject=xi,sa.toDate=bi,sa.toISOString=Kn,sa.inspect=$n,"undefined"!==typeof Symbol&&null!=Symbol.for&&(sa[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),sa.toJSON=wi,sa.toString=Qn,sa.unix=yi,sa.valueOf=gi,sa.creationData=Mi,sa.eraName=Oi,sa.eraNarrow=ki,sa.eraAbbr=Ri,sa.eraYear=Li,sa.year=vt,sa.isLeapYear=gt,sa.weekYear=Gi,sa.isoWeekYear=Vi,sa.quarter=sa.quarters=Qi,sa.month=ct,sa.daysInMonth=ht,sa.week=sa.weeks=At,sa.isoWeek=sa.isoWeeks=Ct,sa.weeksInYear=Yi,sa.weeksInWeekYear=qi,sa.isoWeeksInYear=Wi,sa.isoWeeksInISOWeekYear=Xi,sa.date=Ki,sa.day=sa.days=Vt,sa.weekday=Wt,sa.isoWeekday=Xt,sa.dayOfYear=$i,sa.hour=sa.hours=nr,sa.minute=sa.minutes=ea,sa.second=sa.seconds=na,sa.millisecond=sa.milliseconds=ra,sa.utcOffset=pn,sa.utc=vn,sa.local=gn,sa.parseZone=yn,sa.hasAlignedHourOffset=bn,sa.isDST=_n,sa.isLocal=wn,sa.isUtcOffset=Tn,sa.isUtc=Sn,sa.isUTC=Sn,sa.zoneAbbr=aa,sa.zoneName=oa,sa.dates=E("dates accessor is deprecated. Use date instead.",Ki),sa.months=E("months accessor is deprecated. Use month instead",ct),sa.years=E("years accessor is deprecated. Use year instead",vt),sa.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mn),sa.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xn);var ha=R.prototype;function da(e,t,r,n){var i=vr(),a=p().set(n,t);return i[r](a,e)}function fa(e,t,r){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return da(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=da(e,n,r,"month");return i}function pa(e,t,r,n){"boolean"===typeof e?(c(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,c(t)&&(r=t,t=void 0),t=t||"");var i,a=vr(),o=e?a._week.dow:0,s=[];if(null!=r)return da(t,(r+o)%7,n,"day");for(i=0;i<7;i++)s[i]=da(t,(i+o)%7,n,"day");return s}function ma(e,t){return fa(e,t,"months")}function va(e,t){return fa(e,t,"monthsShort")}function ga(e,t,r){return pa(e,t,r,"weekdays")}function ya(e,t,r){return pa(e,t,r,"weekdaysShort")}function ba(e,t,r){return pa(e,t,r,"weekdaysMin")}ha.calendar=I,ha.longDateFormat=X,ha.invalidDate=q,ha.ordinal=Q,ha.preparse=ca,ha.postformat=ca,ha.relativeTime=$,ha.pastFuture=ee,ha.set=O,ha.eras=Pi,ha.erasParse=Ai,ha.erasConvertYear=Ci,ha.erasAbbrRegex=Di,ha.erasNameRegex=Ii,ha.erasNarrowRegex=Ni,ha.months=at,ha.monthsShort=ot,ha.monthsParse=ut,ha.monthsRegex=ft,ha.monthsShortRegex=dt,ha.week=St,ha.firstDayOfYear=Pt,ha.firstDayOfWeek=Mt,ha.weekdays=Bt,ha.weekdaysMin=jt,ha.weekdaysShort=Ut,ha.weekdaysParse=Gt,ha.weekdaysRegex=Yt,ha.weekdaysShortRegex=qt,ha.weekdaysMinRegex=Zt,ha.isPM=tr,ha.meridiem=ir,fr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=E("moment.lang is deprecated. Use moment.locale instead.",fr),n.langData=E("moment.langData is deprecated. Use moment.localeData instead.",vr);var _a=Math.abs;function xa(){var e=this._data;return this._milliseconds=_a(this._milliseconds),this._days=_a(this._days),this._months=_a(this._months),e.milliseconds=_a(e.milliseconds),e.seconds=_a(e.seconds),e.minutes=_a(e.minutes),e.hours=_a(e.hours),e.months=_a(e.months),e.years=_a(e.years),this}function wa(e,t,r,n){var i=Pn(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function Ta(e,t){return wa(this,e,t,1)}function Sa(e,t){return wa(this,e,t,-1)}function Ea(e){return e<0?Math.floor(e):Math.ceil(e)}function Ma(){var e,t,r,n,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ea(Aa(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=le(a/1e3),u.seconds=e%60,t=le(e/60),u.minutes=t%60,r=le(t/60),u.hours=r%24,o+=le(r/24),s+=i=le(Pa(o)),o-=Ea(Aa(i)),n=le(s/12),s%=12,u.days=o,u.months=s,u.years=n,this}function Pa(e){return 4800*e/146097}function Aa(e){return 146097*e/4800}function Ca(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+Pa(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Aa(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function Oa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function ka(e){return function(){return this.as(e)}}var Ra=ka("ms"),La=ka("s"),Ia=ka("m"),Da=ka("h"),Na=ka("d"),Fa=ka("w"),za=ka("M"),Ba=ka("Q"),Ua=ka("y");function ja(){return Pn(this)}function Ha(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Ga(e){return function(){return this.isValid()?this._data[e]:NaN}}var Va=Ga("milliseconds"),Wa=Ga("seconds"),Xa=Ga("minutes"),Ya=Ga("hours"),qa=Ga("days"),Za=Ga("months"),Ja=Ga("years");function Qa(){return le(this.days()/7)}var Ka=Math.round,$a={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function eo(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function to(e,t,r,n){var i=Pn(e).abs(),a=Ka(i.as("s")),o=Ka(i.as("m")),s=Ka(i.as("h")),u=Ka(i.as("d")),l=Ka(i.as("M")),c=Ka(i.as("w")),h=Ka(i.as("y")),d=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||u<=1&&["d"]||u<r.d&&["dd",u];return null!=r.w&&(d=d||c<=1&&["w"]||c<r.w&&["ww",c]),(d=d||l<=1&&["M"]||l<r.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=n,eo.apply(null,d)}function ro(e){return void 0===e?Ka:"function"===typeof e&&(Ka=e,!0)}function no(e,t){return void 0!==$a[e]&&(void 0===t?$a[e]:($a[e]=t,"s"===e&&($a.ss=t-1),!0))}function io(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,n,i=!1,a=$a;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},$a,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),n=to(this,!i,a,r=this.localeData()),i&&(n=r.pastFuture(+this,n)),r.postformat(n)}var ao=Math.abs;function oo(e){return(e>0)-(e<0)||+e}function so(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n,i,a,o,s,u=ao(this._milliseconds)/1e3,l=ao(this._days),c=ao(this._months),h=this.asSeconds();return h?(e=le(u/60),t=le(e/60),u%=60,e%=60,r=le(c/12),c%=12,n=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",a=oo(this._months)!==oo(h)?"-":"",o=oo(this._days)!==oo(h)?"-":"",s=oo(this._milliseconds)!==oo(h)?"-":"",i+"P"+(r?a+r+"Y":"")+(c?a+c+"M":"")+(l?o+l+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+n+"S":"")):"P0D"}var uo=an.prototype;return uo.isValid=rn,uo.abs=xa,uo.add=Ta,uo.subtract=Sa,uo.as=Ca,uo.asMilliseconds=Ra,uo.asSeconds=La,uo.asMinutes=Ia,uo.asHours=Da,uo.asDays=Na,uo.asWeeks=Fa,uo.asMonths=za,uo.asQuarters=Ba,uo.asYears=Ua,uo.valueOf=Oa,uo._bubble=Ma,uo.clone=ja,uo.get=Ha,uo.milliseconds=Va,uo.seconds=Wa,uo.minutes=Xa,uo.hours=Ya,uo.days=qa,uo.weeks=Qa,uo.months=Za,uo.years=Ja,uo.humanize=io,uo.toISOString=so,uo.toString=so,uo.toJSON=so,uo.locale=ai,uo.localeData=si,uo.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so),uo.lang=oi,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Ie("x",Ce),Ie("X",Re),Be("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e))})),Be("x",(function(e,t,r){r._d=new Date(ce(e))})),n.version="2.29.1",i(Yr),n.fn=sa,n.min=Qr,n.max=Kr,n.now=$r,n.utc=p,n.unix=ua,n.months=ma,n.isDate=h,n.locale=fr,n.invalid=y,n.duration=Pn,n.isMoment=T,n.weekdays=ga,n.parseZone=la,n.localeData=vr,n.isDuration=on,n.monthsShort=va,n.weekdaysMin=ba,n.defineLocale=pr,n.updateLocale=mr,n.locales=gr,n.weekdaysShort=ya,n.normalizeUnits=ne,n.relativeTimeRounding=ro,n.relativeTimeThreshold=no,n.calendarFormat=Un,n.prototype=sa,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}).call(this,r(35)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=!0;try{n=void 0===window}catch(a){}var i=n;t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInterceptor=t.interceptRoute=void 0;var n,i=(n=r(1))&&n.__esModule?n:{default:n};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=1,s=[];t.interceptRoute=function(e,t){return s.length?s.reduceRight((function(t,r){return t===e?t:r.handlerFunction(e,t)}),t):t};t.useInterceptor=function(e){var t=a(i.default.useState(o++),1)[0],r=function(e){return s.find((function(t){return t.componentId===e}))||null}(t);return r||(r={componentId:t,stop:function(){return function(e){var t=s.findIndex((function(t){return t.componentId===e}));-1!==t&&s.splice(t,1)}(t)},handlerFunction:e},s.unshift(r)),i.default.useEffect((function(){return function(){return r.stop()}}),[]),r.stop}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return d(e,u)},t.parseEndTime=function(e){return d(e,l)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.default,o=f(t);if(o&&i(o))return Promise.resolve(o);return new Promise((function(n,i){if(p[e])p[e].push({resolve:n,reject:i});else{p[e]=[{resolve:n,reject:i}];var o=function(t){p[e].forEach((function(e){return e.resolve(t)}))};if(r){var s=window[r];window[r]=function(){s&&s(),o(f(t))}}a(e,(function(n){n?(p[e].forEach((function(e){return e.reject(n)})),p[e]=null):r||o(f(t))}))}}))},t.getConfig=function(e,t){return(0,i.default)(t.config,e.config)},t.omit=function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(var a=(t=[]).concat.apply(t,n),o={},s=Object.keys(e),u=0,l=s;u<l.length;u++){var c=l[u];-1===a.indexOf(c)&&(o[c]=e[c])}return o},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var r="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this.player)[e].apply(t,i)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.isBlobUrl=function(e){return/^blob:/.test(e)},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var n=a(r(85)),i=a(r(45));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=/[?&#](?:start|t)=([0-9hms]+)/,l=/[?&#]end=([0-9hms]+)/,c=/(\d+)(h|m|s)/g,h=/^\d+$/;function d(e,t){if(!(e instanceof Array)){var r=e.match(t);if(r){var n=r[1];if(n.match(c))return function(e){var t=0,r=c.exec(e);for(;null!==r;){var n=o(r,3),i=n[1],a=n[2];"h"===a&&(t+=60*parseInt(i,10)*60),"m"===a&&(t+=60*parseInt(i,10)),"s"===a&&(t+=parseInt(i,10)),r=c.exec(e)}return t}(n);if(h.test(n))return parseInt(n)}}}function f(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var p={}},,,,,function(e,t){function r(e,t,r){var n,i,a,o,s;function u(){var l=Date.now()-o;l<t&&l>=0?n=setTimeout(u,t-l):(n=null,r||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=r&&!n;return n||(n=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(s=e.apply(a,i),a=i=null,clearTimeout(n),n=null)},l}r.debounce=r,e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ResponsiveMasonry",{enumerable:!0,get:function(){return i.default}}),t.default=void 0;var n=a(r(90)),i=a(r(91));function a(e){return e&&e.__esModule?e:{default:e}}var o=n.default;t.default=o},function(e,t,r){"use strict";e.exports=function(e,t){if(e){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,(function(e,t,n){t&&(i[r.q.name][t]=n)})),i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useQueryParams=t.getQueryParams=t.setQueryParams=void 0;var n=a(r(1)),i=a(r(33));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=[],u={},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof Object))throw new Error("Object required");t?u=e:Object.assign(u,e);var r=Date.now();if(s.forEach((function(e){return e(r)})),!i.default){var n="?"+c(u);if(n===location.search)return;history.replaceState(null,null,location.pathname+("?"!==n?n:""))}};t.setQueryParams=l;t.getQueryParams=function(){return Object.assign({},u)};var c=function(e){var t=new URLSearchParams;return Object.entries(e).forEach((function(e){var r=o(e,2),n=r[0],i=r[1];return void 0!==i?t.append(n,i):null})),t.toString()};i.default||(u=function(e){var t=new URLSearchParams(e),r={},n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;r[u[0]]=u[1]}}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(location.search.substr(1)));t.useQueryParams=function(){var e=n.default.useState(0)[1];return n.default.useEffect((function(){return s.push(e),function(){var t=s.indexOf(e);-1!==t&&s.splice(t,1)}}),[e]),[u,l]}},function(e,t,r){"use strict";var n=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)};var i="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function o(e,t,r){return e.concat(t).map((function(e){return a(e,r)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function u(e,t){try{return t in e}catch(r){return!1}}function l(e,t,r){var n={};return r.isMergeableObject(e)&&s(e).forEach((function(t){n[t]=a(e[t],r)})),s(t).forEach((function(i){(function(e,t){return u(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(u(e,i)&&r.isMergeableObject(t[i])?n[i]=function(e,t){if(!t.customMerge)return c;var r=t.customMerge(e);return"function"===typeof r?r:c}(i,r)(e[i],t[i],r):n[i]=a(t[i],r))})),n}function c(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||o,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=a;var i=Array.isArray(t);return i===Array.isArray(e)?i?r.arrayMerge(e,t,r):l(e,t,r):a(t,r)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return c(e,r,t)}),{})};var h=c;e.exports=h},function(e,t){var r="undefined"!==typeof Element,n="function"===typeof Map,i="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,u,l,c;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(u=s;0!==u--;)if(!o(e[u],t[u]))return!1;return!0}if(n&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(c=e.entries();!(u=c.next()).done;)if(!t.has(u.value[0]))return!1;for(c=e.entries();!(u=c.next()).done;)if(!o(u.value[1],t.get(u.value[0])))return!1;return!0}if(i&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(c=e.entries();!(u=c.next()).done;)if(!t.has(u.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(u=s;0!==u--;)if(e[u]!==t[u])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((s=(l=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(t,l[u]))return!1;if(r&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==l[u]&&"__v"!==l[u]&&"__o"!==l[u]||!e.$$typeof)&&!o(e[l[u]],t[l[u]]))return!1;return!0}return e!==e&&t!==t}e.exports=function(e,t){try{return o(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var n,i=(n=r(10))&&n.__esModule?n:{default:n};var a=i.default.string,o=i.default.bool,s=i.default.number,u=i.default.array,l=i.default.oneOfType,c=i.default.shape,h=i.default.object,d=i.default.func,f=i.default.node,p={url:l([a,u,h]),playing:o,loop:o,controls:o,volume:s,muted:o,playbackRate:s,width:l([a,s]),height:l([a,s]),style:h,progressInterval:s,playsinline:o,pip:o,stopOnUnmount:o,light:l([o,a]),playIcon:f,previewTabIndex:s,fallback:f,wrapper:l([a,d,c({render:d.isRequired})]),config:c({soundcloud:c({options:h}),youtube:c({playerVars:h,embedOptions:h,onUnstarted:d}),facebook:c({appId:a,version:a,playerId:a,attributes:h}),dailymotion:c({params:h}),vimeo:c({playerOptions:h}),file:c({attributes:h,tracks:u,forceVideo:o,forceAudio:o,forceHLS:o,forceDASH:o,forceFLV:o,hlsOptions:h,hlsVersion:a,dashVersion:a,flvVersion:a}),wistia:c({options:h,playerId:a,customControls:u}),mixcloud:c({options:h}),twitch:c({options:h,playerId:a}),vidyard:c({options:h})}),onReady:d,onStart:d,onPlay:d,onPause:d,onBuffer:d,onBufferEnd:d,onEnded:d,onError:d,onDuration:d,onSeek:d,onProgress:d,onClickPreview:d,onEnablePIP:d,onDisablePIP:d};t.propTypes=p;var m=function(){},v={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:m},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1}},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"0.14.16",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:m,onStart:m,onPlay:m,onPause:m,onBuffer:m,onBufferEnd:m,onEnded:m,onError:m,onDuration:m,onSeek:m,onProgress:m,onClickPreview:m,onEnablePIP:m,onDisablePIP:m};t.defaultProps=v},,function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new o(r,n||e,a),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function l(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,o=new Array(a);n<a;n++)o[n]=r[n].fn;return o},l.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,n,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,a),!0;case 6:return c.fn.call(c.context,t,r,n,a,o),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,n);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return u(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||u(this,a);else{for(var s=0,l=[],c=o.length;s<c;s++)(o[s].fn!==t||n&&!o[s].once||r&&o[s].context!==r)&&l.push(o[s]);l.length?this._events[a]=1===l.length?l[0]:l:u(this,a)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},function(e,t,r){"use strict";function n(e,t,r){r=r||2;var n,s,u,l,c,f,p,v=t&&t.length,g=v?t[0]*r:e.length,y=i(e,0,g,r,!0),b=[];if(!y||y.next===y.prev)return b;if(v&&(y=function(e,t,r,n){var o,s,u,l=[];for(o=0,s=t.length;o<s;o++)(u=i(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n,!1))===u.next&&(u.steiner=!0),l.push(m(u));for(l.sort(h),o=0;o<l.length;o++)d(l[o],r),r=a(r,r.next);return r}(e,t,y,r)),e.length>80*r){n=u=e[0],s=l=e[1];for(var _=r;_<g;_+=r)(c=e[_])<n&&(n=c),(f=e[_+1])<s&&(s=f),c>u&&(u=c),f>l&&(l=f);p=0!==(p=Math.max(u-n,l-s))?1/p:0}return o(y,b,r,n,s,p),b}function i(e,t,r,n,i){var a,o;if(i===A(e,t,r,n)>0)for(a=t;a<r;a+=n)o=E(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=E(a,e[a],e[a+1],o);return o&&b(o,o.next)&&(M(o),o=o.next),o}function a(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!b(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(M(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function o(e,t,r,n,i,h,d){if(e){!d&&h&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=p(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,a,o,s,u,l=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1)}(i)}(e,n,i,h);for(var f,m,v=e;e.prev!==e.next;)if(f=e.prev,m=e.next,h?u(e,n,i,h):s(e))t.push(f.i/r),t.push(e.i/r),t.push(m.i/r),M(e),e=m.next,v=m.next;else if((e=m)===v){d?1===d?o(e=l(a(e),t,r),t,r,n,i,h,2):2===d&&c(e,t,r,n,i,h):o(a(e),t,r,n,i,h,1);break}}}function s(e){var t=e.prev,r=e,n=e.next;if(y(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(v(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(e,t,r,n){var i=e.prev,a=e,o=e.next;if(y(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,h=p(s,u,t,r,n),d=p(l,c,t,r,n),f=e.prevZ,m=e.nextZ;f&&f.z>=h&&m&&m.z<=d;){if(f!==e.prev&&f!==e.next&&v(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,m!==e.prev&&m!==e.next&&v(i.x,i.y,a.x,a.y,o.x,o.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&v(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;m&&m.z<=d;){if(m!==e.prev&&m!==e.next&&v(i.x,i.y,a.x,a.y,o.x,o.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function l(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!b(i,o)&&_(i,n,n.next,o)&&T(i,o)&&T(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),M(n),M(n.next),n=e=o),n=n.next}while(n!==e);return a(n)}function c(e,t,r,n,i,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var c=S(u,l);return u=a(u,u.next),c=a(c,c.next),o(u,t,r,n,i,s),void o(c,t,r,n,i,s)}l=l.next}u=u.next}while(u!==e)}function h(e,t){return e.x-t.x}function d(e,t){if(t=function(e,t){var r,n=t,i=e.x,a=e.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>o){if(o=s,s===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===o)return r;var u,l=r,c=r.x,h=r.y,d=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&v(a<h?i:o,a,c,h,a<h?o:i,a,n.x,n.y)&&(u=Math.abs(a-n.y)/(i-n.x),T(n,e)&&(u<d||u===d&&(n.x>r.x||n.x===r.x&&f(r,n)))&&(r=n,d=u)),n=n.next}while(n!==l);return r}(e,t)){var r=S(t,e);a(t,t.next),a(r,r.next)}}function f(e,t){return y(e.prev,e,t.prev)<0&&y(t.next,e,e.next)<0}function p(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function m(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function v(e,t,r,n,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0}function g(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&_(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(T(e,t)&&T(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!==r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(y(e.prev,e,t.prev)||y(e,t.prev,t))||b(e,t)&&y(e.prev,e,e.next)>0&&y(t.prev,t,t.next)>0)}function y(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function b(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,r,n){var i=w(y(e,t,r)),a=w(y(e,t,n)),o=w(y(r,n,e)),s=w(y(r,n,t));return i!==a&&o!==s||(!(0!==i||!x(e,r,t))||(!(0!==a||!x(e,n,t))||(!(0!==o||!x(r,e,n))||!(0!==s||!x(r,t,n)))))}function x(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function w(e){return e>0?1:e<0?-1:0}function T(e,t){return y(e.prev,e,e.next)<0?y(e,t,e.next)>=0&&y(e,e.prev,t)>=0:y(e,t,e.prev)<0||y(e,e.next,t)<0}function S(e,t){var r=new P(e.i,e.x,e.y),n=new P(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function E(e,t,r,n){var i=new P(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function M(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function P(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(e,t,r,n){for(var i=0,a=t,o=r-n;a<r;a+=n)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}e.exports=n,e.exports.default=n,n.deviation=function(e,t,r,n){var i=t&&t.length,a=i?t[0]*r:e.length,o=Math.abs(A(e,0,a,r));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*r,c=s<u-1?t[s+1]*r:e.length;o-=Math.abs(A(e,l,c,r))}var h=0;for(s=0;s<n.length;s+=3){var d=n[s]*r,f=n[s+1]*r,p=n[s+2]*r;h+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},n.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)r.vertices.push(e[i][a][o]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r}},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(63)},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(1),i=r.n(n),a=r(10),o=r.n(a);var s={hamburger:"burger_hamburger__21cuQ","hamburger-box":"burger_hamburger-box__3lYk7","hamburger-inner":"burger_hamburger-inner__14XT2","hamburger--3dx":"burger_hamburger--3dx__2oteh","is-active":"burger_is-active__3Yxiv","hamburger--3dx-r":"burger_hamburger--3dx-r__pG3Bz","hamburger--3dy":"burger_hamburger--3dy__AmHpp","hamburger--3dy-r":"burger_hamburger--3dy-r__1E-eP","hamburger--3dxy":"burger_hamburger--3dxy__1aoa4","hamburger--3dxy-r":"burger_hamburger--3dxy-r__s2GrG","hamburger--arrow":"burger_hamburger--arrow__hxulI","hamburger--arrow-r":"burger_hamburger--arrow-r__6nHIK","hamburger--arrowalt":"burger_hamburger--arrowalt__N65uR","hamburger--arrowalt-r":"burger_hamburger--arrowalt-r__1Xsms","hamburger--arrowturn":"burger_hamburger--arrowturn__1RlAg","hamburger--arrowturn-r":"burger_hamburger--arrowturn-r__Gvu6L","hamburger--boring":"burger_hamburger--boring__uIpmj","hamburger--collapse":"burger_hamburger--collapse__2GQh2","hamburger--collapse-r":"burger_hamburger--collapse-r__1OFSR","hamburger--elastic":"burger_hamburger--elastic__3PuJ4","hamburger--elastic-r":"burger_hamburger--elastic-r__221PF","hamburger--emphatic":"burger_hamburger--emphatic__cLD7P","hamburger--emphatic-r":"burger_hamburger--emphatic-r__3P8gW","hamburger--minus":"burger_hamburger--minus__19ELM","hamburger--slider":"burger_hamburger--slider__3_wqL","hamburger--slider-r":"burger_hamburger--slider-r__3vbfv","hamburger--spin":"burger_hamburger--spin__3aNMq","hamburger--spin-r":"burger_hamburger--spin-r__3WD7Y","hamburger--spring":"burger_hamburger--spring__lGgOO","hamburger--spring-r":"burger_hamburger--spring-r__3pX-Z","hamburger--stand":"burger_hamburger--stand__JHjrW","hamburger--stand-r":"burger_hamburger--stand-r__18DUV","hamburger--squeeze":"burger_hamburger--squeeze__8Jiuw","hamburger--vortex":"burger_hamburger--vortex__26OQz","hamburger--vortex-r":"burger_hamburger--vortex-r__3VIpG"};!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!==typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(':root{--burger-color:#000;--burger-scale:1;--burger-opacity-hover:1;--burger-margin-top:25px;--burger-margin-left:25px}.burger_hamburger__21cuQ{-webkit-transform:scale(var(--burger-scale,1));transform:scale(var(--burger-scale,1));padding:4px;display:inline-block;cursor:pointer;transition-property:opacity,-webkit-filter;transition-property:opacity,filter;transition-property:opacity,filter,-webkit-filter;transition-duration:.15s;transition-timing-function:linear;font:inherit;color:inherit;text-transform:none;background-color:transparent;border:0;margin:25px 0 0 25px;margin:var(--burger-margin-top,25px) 0 0 var(--burger-margin-left,25px);overflow:visible;outline:none;box-sizing:border-box}.burger_hamburger__21cuQ:hover{opacity:var(--burger-opacity-hover)}.burger_hamburger-box__3lYk7{width:40px;height:24px;display:inline-block;position:relative}.burger_hamburger-inner__14XT2{display:block;top:50%;margin-top:-2px}.burger_hamburger-inner__14XT2,.burger_hamburger-inner__14XT2:after,.burger_hamburger-inner__14XT2:before{width:40px;height:4px;background-color:#000;background-color:var(--burger-color,#000);border-radius:4px;position:absolute;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;transition-duration:.15s;transition-timing-function:ease}.burger_hamburger-inner__14XT2:after,.burger_hamburger-inner__14XT2:before{content:"";display:block}.burger_hamburger-inner__14XT2:before{top:-10px}.burger_hamburger-inner__14XT2:after{bottom:-10px}.burger_hamburger--3dx__2oteh .burger_hamburger-box__3lYk7{-webkit-perspective:80px;perspective:80px}.burger_hamburger--3dx__2oteh .burger_hamburger-inner__14XT2{transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1);transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1)}.burger_hamburger--3dx__2oteh .burger_hamburger-inner__14XT2:after,.burger_hamburger--3dx__2oteh .burger_hamburger-inner__14XT2:before{transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s}.burger_hamburger--3dx__2oteh.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{background-color:transparent;-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.burger_hamburger--3dx__2oteh.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.burger_hamburger--3dx__2oteh.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg)}.burger_hamburger--3dx-r__pG3Bz .burger_hamburger-box__3lYk7{-webkit-perspective:80px;perspective:80px}.burger_hamburger--3dx-r__pG3Bz .burger_hamburger-inner__14XT2{transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1);transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1)}.burger_hamburger--3dx-r__pG3Bz .burger_hamburger-inner__14XT2:after,.burger_hamburger--3dx-r__pG3Bz .burger_hamburger-inner__14XT2:before{transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s}.burger_hamburger--3dx-r__pG3Bz.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{background-color:transparent;-webkit-transform:rotateY(-180deg);transform:rotateY(-180deg)}.burger_hamburger--3dx-r__pG3Bz.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.burger_hamburger--3dx-r__pG3Bz.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg)}.burger_hamburger--3dy__AmHpp .burger_hamburger-box__3lYk7{-webkit-perspective:80px;perspective:80px}.burger_hamburger--3dy__AmHpp .burger_hamburger-inner__14XT2{transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1);transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1)}.burger_hamburger--3dy__AmHpp .burger_hamburger-inner__14XT2:after,.burger_hamburger--3dy__AmHpp .burger_hamburger-inner__14XT2:before{transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s}.burger_hamburger--3dy__AmHpp.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{background-color:transparent;-webkit-transform:rotateX(-180deg);transform:rotateX(-180deg)}.burger_hamburger--3dy__AmHpp.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.burger_hamburger--3dy__AmHpp.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg)}.burger_hamburger--3dy-r__1E-eP .burger_hamburger-box__3lYk7{-webkit-perspective:80px;perspective:80px}.burger_hamburger--3dy-r__1E-eP .burger_hamburger-inner__14XT2{transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1);transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1)}.burger_hamburger--3dy-r__1E-eP .burger_hamburger-inner__14XT2:after,.burger_hamburger--3dy-r__1E-eP .burger_hamburger-inner__14XT2:before{transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s}.burger_hamburger--3dy-r__1E-eP.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{background-color:transparent;-webkit-transform:rotateX(180deg);transform:rotateX(180deg)}.burger_hamburger--3dy-r__1E-eP.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.burger_hamburger--3dy-r__1E-eP.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg)}.burger_hamburger--3dxy__1aoa4 .burger_hamburger-box__3lYk7{-webkit-perspective:80px;perspective:80px}.burger_hamburger--3dxy__1aoa4 .burger_hamburger-inner__14XT2{transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1);transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1)}.burger_hamburger--3dxy__1aoa4 .burger_hamburger-inner__14XT2:after,.burger_hamburger--3dxy__1aoa4 .burger_hamburger-inner__14XT2:before{transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s}.burger_hamburger--3dxy__1aoa4.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{background-color:transparent;-webkit-transform:rotateX(180deg) rotateY(180deg);transform:rotateX(180deg) rotateY(180deg)}.burger_hamburger--3dxy__1aoa4.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.burger_hamburger--3dxy__1aoa4.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg)}.burger_hamburger--3dxy-r__s2GrG .burger_hamburger-box__3lYk7{-webkit-perspective:80px;perspective:80px}.burger_hamburger--3dxy-r__s2GrG .burger_hamburger-inner__14XT2{transition:background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1);transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform .15s cubic-bezier(.645,.045,.355,1),background-color 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform .15s cubic-bezier(.645,.045,.355,1)}.burger_hamburger--3dxy-r__s2GrG .burger_hamburger-inner__14XT2:after,.burger_hamburger--3dxy-r__s2GrG .burger_hamburger-inner__14XT2:before{transition:-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s;transition:transform 0s cubic-bezier(.645,.045,.355,1) .1s,-webkit-transform 0s cubic-bezier(.645,.045,.355,1) .1s}.burger_hamburger--3dxy-r__s2GrG.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{background-color:transparent;-webkit-transform:rotateX(180deg) rotateY(180deg) rotate(-180deg);transform:rotateX(180deg) rotateY(180deg) rotate(-180deg)}.burger_hamburger--3dxy-r__s2GrG.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.burger_hamburger--3dxy-r__s2GrG.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg)}.burger_hamburger--arrow__hxulI.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:translate3d(-8px,0,0) rotate(-45deg) scaleX(.7);transform:translate3d(-8px,0,0) rotate(-45deg) scaleX(.7)}.burger_hamburger--arrow__hxulI.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(-8px,0,0) rotate(45deg) scaleX(.7);transform:translate3d(-8px,0,0) rotate(45deg) scaleX(.7)}.burger_hamburger--arrow-r__6nHIK.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:translate3d(8px,0,0) rotate(45deg) scaleX(.7);transform:translate3d(8px,0,0) rotate(45deg) scaleX(.7)}.burger_hamburger--arrow-r__6nHIK.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(8px,0,0) rotate(-45deg) scaleX(.7);transform:translate3d(8px,0,0) rotate(-45deg) scaleX(.7)}.burger_hamburger--arrowalt__N65uR .burger_hamburger-inner__14XT2:before{transition:top .1s ease .1s,-webkit-transform .1s cubic-bezier(.165,.84,.44,1);transition:top .1s ease .1s,transform .1s cubic-bezier(.165,.84,.44,1);transition:top .1s ease .1s,transform .1s cubic-bezier(.165,.84,.44,1),-webkit-transform .1s cubic-bezier(.165,.84,.44,1)}.burger_hamburger--arrowalt__N65uR .burger_hamburger-inner__14XT2:after{transition:bottom .1s ease .1s,-webkit-transform .1s cubic-bezier(.165,.84,.44,1);transition:bottom .1s ease .1s,transform .1s cubic-bezier(.165,.84,.44,1);transition:bottom .1s ease .1s,transform .1s cubic-bezier(.165,.84,.44,1),-webkit-transform .1s cubic-bezier(.165,.84,.44,1)}.burger_hamburger--arrowalt__N65uR.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;-webkit-transform:translate3d(-8px,-10px,0) rotate(-45deg) scaleX(.7);transform:translate3d(-8px,-10px,0) rotate(-45deg) scaleX(.7);transition:top .1s ease,-webkit-transform .1s cubic-bezier(.895,.03,.685,.22) .1s;transition:top .1s ease,transform .1s cubic-bezier(.895,.03,.685,.22) .1s;transition:top .1s ease,transform .1s cubic-bezier(.895,.03,.685,.22) .1s,-webkit-transform .1s cubic-bezier(.895,.03,.685,.22) .1s}.burger_hamburger--arrowalt__N65uR.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0;-webkit-transform:translate3d(-8px,10px,0) rotate(45deg) scaleX(.7);transform:translate3d(-8px,10px,0) rotate(45deg) scaleX(.7);transition:bottom .1s ease,-webkit-transform .1s cubic-bezier(.895,.03,.685,.22) .1s;transition:bottom .1s ease,transform .1s cubic-bezier(.895,.03,.685,.22) .1s;transition:bottom .1s ease,transform .1s cubic-bezier(.895,.03,.685,.22) .1s,-webkit-transform .1s cubic-bezier(.895,.03,.685,.22) .1s}.burger_hamburger--arrowalt-r__1Xsms .burger_hamburger-inner__14XT2:before{transition:top .1s ease .1s,-webkit-transform .1s cubic-bezier(.165,.84,.44,1);transition:top .1s ease .1s,transform .1s cubic-bezier(.165,.84,.44,1);transition:top .1s ease .1s,transform .1s cubic-bezier(.165,.84,.44,1),-webkit-transform .1s cubic-bezier(.165,.84,.44,1)}.burger_hamburger--arrowalt-r__1Xsms .burger_hamburger-inner__14XT2:after{transition:bottom .1s ease .1s,-webkit-transform .1s cubic-bezier(.165,.84,.44,1);transition:bottom .1s ease .1s,transform .1s cubic-bezier(.165,.84,.44,1);transition:bottom .1s ease .1s,transform .1s cubic-bezier(.165,.84,.44,1),-webkit-transform .1s cubic-bezier(.165,.84,.44,1)}.burger_hamburger--arrowalt-r__1Xsms.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;-webkit-transform:translate3d(8px,-10px,0) rotate(45deg) scaleX(.7);transform:translate3d(8px,-10px,0) rotate(45deg) scaleX(.7);transition:top .1s ease,-webkit-transform .1s cubic-bezier(.895,.03,.685,.22) .1s;transition:top .1s ease,transform .1s cubic-bezier(.895,.03,.685,.22) .1s;transition:top .1s ease,transform .1s cubic-bezier(.895,.03,.685,.22) .1s,-webkit-transform .1s cubic-bezier(.895,.03,.685,.22) .1s}.burger_hamburger--arrowalt-r__1Xsms.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0;-webkit-transform:translate3d(8px,10px,0) rotate(-45deg) scaleX(.7);transform:translate3d(8px,10px,0) rotate(-45deg) scaleX(.7);transition:bottom .1s ease,-webkit-transform .1s cubic-bezier(.895,.03,.685,.22) .1s;transition:bottom .1s ease,transform .1s cubic-bezier(.895,.03,.685,.22) .1s;transition:bottom .1s ease,transform .1s cubic-bezier(.895,.03,.685,.22) .1s,-webkit-transform .1s cubic-bezier(.895,.03,.685,.22) .1s}.burger_hamburger--arrowturn__1RlAg.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.burger_hamburger--arrowturn__1RlAg.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:translate3d(8px,0,0) rotate(45deg) scaleX(.7);transform:translate3d(8px,0,0) rotate(45deg) scaleX(.7)}.burger_hamburger--arrowturn__1RlAg.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(8px,0,0) rotate(-45deg) scaleX(.7);transform:translate3d(8px,0,0) rotate(-45deg) scaleX(.7)}.burger_hamburger--arrowturn-r__Gvu6L.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.burger_hamburger--arrowturn-r__Gvu6L.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:translate3d(-8px,0,0) rotate(-45deg) scaleX(.7);transform:translate3d(-8px,0,0) rotate(-45deg) scaleX(.7)}.burger_hamburger--arrowturn-r__Gvu6L.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(-8px,0,0) rotate(45deg) scaleX(.7);transform:translate3d(-8px,0,0) rotate(45deg) scaleX(.7)}.burger_hamburger--boring__uIpmj .burger_hamburger-inner__14XT2,.burger_hamburger--boring__uIpmj .burger_hamburger-inner__14XT2:after,.burger_hamburger--boring__uIpmj .burger_hamburger-inner__14XT2:before{transition-property:none}.burger_hamburger--boring__uIpmj.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.burger_hamburger--boring__uIpmj.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;opacity:0}.burger_hamburger--boring__uIpmj.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.burger_hamburger--collapse__2GQh2 .burger_hamburger-inner__14XT2{top:auto;bottom:0;transition-duration:.13s;transition-delay:.13s;transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--collapse__2GQh2 .burger_hamburger-inner__14XT2:after{top:-20px;transition:top .2s cubic-bezier(.33333,.66667,.66667,1) .2s,opacity .1s linear}.burger_hamburger--collapse__2GQh2 .burger_hamburger-inner__14XT2:before{transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .2s,-webkit-transform .13s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .2s,transform .13s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .2s,transform .13s cubic-bezier(.55,.055,.675,.19),-webkit-transform .13s cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--collapse__2GQh2.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg);transition-delay:.22s;transition-timing-function:cubic-bezier(.215,.61,.355,1)}.burger_hamburger--collapse__2GQh2.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{top:0;opacity:0;transition:top .2s cubic-bezier(.33333,0,.66667,.33333),opacity .1s linear .22s}.burger_hamburger--collapse__2GQh2.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .16s,-webkit-transform .13s cubic-bezier(.215,.61,.355,1) .25s;transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .16s,transform .13s cubic-bezier(.215,.61,.355,1) .25s;transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .16s,transform .13s cubic-bezier(.215,.61,.355,1) .25s,-webkit-transform .13s cubic-bezier(.215,.61,.355,1) .25s}.burger_hamburger--collapse-r__1OFSR .burger_hamburger-inner__14XT2{top:auto;bottom:0;transition-duration:.13s;transition-delay:.13s;transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--collapse-r__1OFSR .burger_hamburger-inner__14XT2:after{top:-20px;transition:top .2s cubic-bezier(.33333,.66667,.66667,1) .2s,opacity .1s linear}.burger_hamburger--collapse-r__1OFSR .burger_hamburger-inner__14XT2:before{transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .2s,-webkit-transform .13s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .2s,transform .13s cubic-bezier(.55,.055,.675,.19);transition:top .12s cubic-bezier(.33333,.66667,.66667,1) .2s,transform .13s cubic-bezier(.55,.055,.675,.19),-webkit-transform .13s cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--collapse-r__1OFSR.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:translate3d(0,-10px,0) rotate(45deg);transform:translate3d(0,-10px,0) rotate(45deg);transition-delay:.22s;transition-timing-function:cubic-bezier(.215,.61,.355,1)}.burger_hamburger--collapse-r__1OFSR.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{top:0;opacity:0;transition:top .2s cubic-bezier(.33333,0,.66667,.33333),opacity .1s linear .22s}.burger_hamburger--collapse-r__1OFSR.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .16s,-webkit-transform .13s cubic-bezier(.215,.61,.355,1) .25s;transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .16s,transform .13s cubic-bezier(.215,.61,.355,1) .25s;transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .16s,transform .13s cubic-bezier(.215,.61,.355,1) .25s,-webkit-transform .13s cubic-bezier(.215,.61,.355,1) .25s}.burger_hamburger--elastic__3PuJ4 .burger_hamburger-inner__14XT2{top:2px;transition-duration:.275s;transition-timing-function:cubic-bezier(.68,-.55,.265,1.55)}.burger_hamburger--elastic__3PuJ4 .burger_hamburger-inner__14XT2:before{top:10px;transition:opacity .125s ease .275s}.burger_hamburger--elastic__3PuJ4 .burger_hamburger-inner__14XT2:after{top:20px;transition:-webkit-transform .275s cubic-bezier(.68,-.55,.265,1.55);transition:transform .275s cubic-bezier(.68,-.55,.265,1.55);transition:transform .275s cubic-bezier(.68,-.55,.265,1.55),-webkit-transform .275s cubic-bezier(.68,-.55,.265,1.55)}.burger_hamburger--elastic__3PuJ4.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:translate3d(0,10px,0) rotate(135deg);transform:translate3d(0,10px,0) rotate(135deg);transition-delay:75ms}.burger_hamburger--elastic__3PuJ4.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{transition-delay:0s;opacity:0}.burger_hamburger--elastic__3PuJ4.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(0,-20px,0) rotate(-270deg);transform:translate3d(0,-20px,0) rotate(-270deg);transition-delay:75ms}.burger_hamburger--elastic-r__221PF .burger_hamburger-inner__14XT2{top:2px;transition-duration:.275s;transition-timing-function:cubic-bezier(.68,-.55,.265,1.55)}.burger_hamburger--elastic-r__221PF .burger_hamburger-inner__14XT2:before{top:10px;transition:opacity .125s ease .275s}.burger_hamburger--elastic-r__221PF .burger_hamburger-inner__14XT2:after{top:20px;transition:-webkit-transform .275s cubic-bezier(.68,-.55,.265,1.55);transition:transform .275s cubic-bezier(.68,-.55,.265,1.55);transition:transform .275s cubic-bezier(.68,-.55,.265,1.55),-webkit-transform .275s cubic-bezier(.68,-.55,.265,1.55)}.burger_hamburger--elastic-r__221PF.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:translate3d(0,10px,0) rotate(-135deg);transform:translate3d(0,10px,0) rotate(-135deg);transition-delay:75ms}.burger_hamburger--elastic-r__221PF.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{transition-delay:0s;opacity:0}.burger_hamburger--elastic-r__221PF.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(0,-20px,0) rotate(270deg);transform:translate3d(0,-20px,0) rotate(270deg);transition-delay:75ms}.burger_hamburger--emphatic__cLD7P{overflow:hidden}.burger_hamburger--emphatic__cLD7P .burger_hamburger-inner__14XT2{transition:background-color .125s ease-in .175s}.burger_hamburger--emphatic__cLD7P .burger_hamburger-inner__14XT2:before{left:0;transition:top .05s linear .125s,left .125s ease-in .175s,-webkit-transform .125s cubic-bezier(.6,.04,.98,.335);transition:transform .125s cubic-bezier(.6,.04,.98,.335),top .05s linear .125s,left .125s ease-in .175s;transition:transform .125s cubic-bezier(.6,.04,.98,.335),top .05s linear .125s,left .125s ease-in .175s,-webkit-transform .125s cubic-bezier(.6,.04,.98,.335)}.burger_hamburger--emphatic__cLD7P .burger_hamburger-inner__14XT2:after{top:10px;right:0;transition:top .05s linear .125s,right .125s ease-in .175s,-webkit-transform .125s cubic-bezier(.6,.04,.98,.335);transition:transform .125s cubic-bezier(.6,.04,.98,.335),top .05s linear .125s,right .125s ease-in .175s;transition:transform .125s cubic-bezier(.6,.04,.98,.335),top .05s linear .125s,right .125s ease-in .175s,-webkit-transform .125s cubic-bezier(.6,.04,.98,.335)}.burger_hamburger--emphatic__cLD7P.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{transition-delay:0s;transition-timing-function:ease-out;background-color:transparent}.burger_hamburger--emphatic__cLD7P.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{left:-80px;top:-80px;-webkit-transform:translate3d(80px,80px,0) rotate(45deg);transform:translate3d(80px,80px,0) rotate(45deg);transition:left .125s ease-out,top .05s linear .125s,-webkit-transform .125s cubic-bezier(.075,.82,.165,1) .175s;transition:left .125s ease-out,top .05s linear .125s,transform .125s cubic-bezier(.075,.82,.165,1) .175s;transition:left .125s ease-out,top .05s linear .125s,transform .125s cubic-bezier(.075,.82,.165,1) .175s,-webkit-transform .125s cubic-bezier(.075,.82,.165,1) .175s}.burger_hamburger--emphatic__cLD7P.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{right:-80px;top:-80px;-webkit-transform:translate3d(-80px,80px,0) rotate(-45deg);transform:translate3d(-80px,80px,0) rotate(-45deg);transition:right .125s ease-out,top .05s linear .125s,-webkit-transform .125s cubic-bezier(.075,.82,.165,1) .175s;transition:right .125s ease-out,top .05s linear .125s,transform .125s cubic-bezier(.075,.82,.165,1) .175s;transition:right .125s ease-out,top .05s linear .125s,transform .125s cubic-bezier(.075,.82,.165,1) .175s,-webkit-transform .125s cubic-bezier(.075,.82,.165,1) .175s}.burger_hamburger--emphatic-r__3P8gW{overflow:hidden}.burger_hamburger--emphatic-r__3P8gW .burger_hamburger-inner__14XT2{transition:background-color .125s ease-in .175s}.burger_hamburger--emphatic-r__3P8gW .burger_hamburger-inner__14XT2:before{left:0;transition:top .05s linear .125s,left .125s ease-in .175s,-webkit-transform .125s cubic-bezier(.6,.04,.98,.335);transition:transform .125s cubic-bezier(.6,.04,.98,.335),top .05s linear .125s,left .125s ease-in .175s;transition:transform .125s cubic-bezier(.6,.04,.98,.335),top .05s linear .125s,left .125s ease-in .175s,-webkit-transform .125s cubic-bezier(.6,.04,.98,.335)}.burger_hamburger--emphatic-r__3P8gW .burger_hamburger-inner__14XT2:after{top:10px;right:0;transition:top .05s linear .125s,right .125s ease-in .175s,-webkit-transform .125s cubic-bezier(.6,.04,.98,.335);transition:transform .125s cubic-bezier(.6,.04,.98,.335),top .05s linear .125s,right .125s ease-in .175s;transition:transform .125s cubic-bezier(.6,.04,.98,.335),top .05s linear .125s,right .125s ease-in .175s,-webkit-transform .125s cubic-bezier(.6,.04,.98,.335)}.burger_hamburger--emphatic-r__3P8gW.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{transition-delay:0s;transition-timing-function:ease-out;background-color:transparent}.burger_hamburger--emphatic-r__3P8gW.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{left:-80px;top:80px;-webkit-transform:translate3d(80px,-80px,0) rotate(-45deg);transform:translate3d(80px,-80px,0) rotate(-45deg);transition:left .125s ease-out,top .05s linear .125s,-webkit-transform .125s cubic-bezier(.075,.82,.165,1) .175s;transition:left .125s ease-out,top .05s linear .125s,transform .125s cubic-bezier(.075,.82,.165,1) .175s;transition:left .125s ease-out,top .05s linear .125s,transform .125s cubic-bezier(.075,.82,.165,1) .175s,-webkit-transform .125s cubic-bezier(.075,.82,.165,1) .175s}.burger_hamburger--emphatic-r__3P8gW.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{right:-80px;top:80px;-webkit-transform:translate3d(-80px,-80px,0) rotate(45deg);transform:translate3d(-80px,-80px,0) rotate(45deg);transition:right .125s ease-out,top .05s linear .125s,-webkit-transform .125s cubic-bezier(.075,.82,.165,1) .175s;transition:right .125s ease-out,top .05s linear .125s,transform .125s cubic-bezier(.075,.82,.165,1) .175s;transition:right .125s ease-out,top .05s linear .125s,transform .125s cubic-bezier(.075,.82,.165,1) .175s,-webkit-transform .125s cubic-bezier(.075,.82,.165,1) .175s}.burger_hamburger--minus__19ELM .burger_hamburger-inner__14XT2:after,.burger_hamburger--minus__19ELM .burger_hamburger-inner__14XT2:before{transition:bottom .08s ease-out 0s,top .08s ease-out 0s,opacity 0s linear}.burger_hamburger--minus__19ELM.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after,.burger_hamburger--minus__19ELM.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{opacity:0;transition:bottom .08s ease-out,top .08s ease-out,opacity 0s linear .08s}.burger_hamburger--minus__19ELM.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0}.burger_hamburger--minus__19ELM.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0}.burger_hamburger--slider__3_wqL .burger_hamburger-inner__14XT2{top:2px}.burger_hamburger--slider__3_wqL .burger_hamburger-inner__14XT2:before{top:10px;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;transition-timing-function:ease;transition-duration:.15s}.burger_hamburger--slider__3_wqL .burger_hamburger-inner__14XT2:after{top:20px}.burger_hamburger--slider__3_wqL.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.burger_hamburger--slider__3_wqL.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);opacity:0}.burger_hamburger--slider__3_wqL.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(0,-20px,0) rotate(-90deg);transform:translate3d(0,-20px,0) rotate(-90deg)}.burger_hamburger--slider-r__3vbfv .burger_hamburger-inner__14XT2{top:2px}.burger_hamburger--slider-r__3vbfv .burger_hamburger-inner__14XT2:before{top:10px;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;transition-timing-function:ease;transition-duration:.15s}.burger_hamburger--slider-r__3vbfv .burger_hamburger-inner__14XT2:after{top:20px}.burger_hamburger--slider-r__3vbfv.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:translate3d(0,10px,0) rotate(-45deg);transform:translate3d(0,10px,0) rotate(-45deg)}.burger_hamburger--slider-r__3vbfv.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{-webkit-transform:rotate(45deg) translate3d(5.71429px,-6px,0);transform:rotate(45deg) translate3d(5.71429px,-6px,0);opacity:0}.burger_hamburger--slider-r__3vbfv.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{-webkit-transform:translate3d(0,-20px,0) rotate(90deg);transform:translate3d(0,-20px,0) rotate(90deg)}.burger_hamburger--spin__3aNMq .burger_hamburger-inner__14XT2{transition-duration:.22s;transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--spin__3aNMq .burger_hamburger-inner__14XT2:before{transition:top .1s ease-in .25s,opacity .1s ease-in}.burger_hamburger--spin__3aNMq .burger_hamburger-inner__14XT2:after{transition:bottom .1s ease-in .25s,-webkit-transform .22s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease-in .25s,transform .22s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease-in .25s,transform .22s cubic-bezier(.55,.055,.675,.19),-webkit-transform .22s cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--spin__3aNMq.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:rotate(225deg);transform:rotate(225deg);transition-delay:.12s;transition-timing-function:cubic-bezier(.215,.61,.355,1)}.burger_hamburger--spin__3aNMq.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;opacity:0;transition:top .1s ease-out,opacity .1s ease-out .12s}.burger_hamburger--spin__3aNMq.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);transition:bottom .1s ease-out,-webkit-transform .22s cubic-bezier(.215,.61,.355,1) .12s;transition:bottom .1s ease-out,transform .22s cubic-bezier(.215,.61,.355,1) .12s;transition:bottom .1s ease-out,transform .22s cubic-bezier(.215,.61,.355,1) .12s,-webkit-transform .22s cubic-bezier(.215,.61,.355,1) .12s}.burger_hamburger--spin-r__3WD7Y .burger_hamburger-inner__14XT2{transition-duration:.22s;transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--spin-r__3WD7Y .burger_hamburger-inner__14XT2:before{transition:top .1s ease-in .25s,opacity .1s ease-in}.burger_hamburger--spin-r__3WD7Y .burger_hamburger-inner__14XT2:after{transition:bottom .1s ease-in .25s,-webkit-transform .22s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease-in .25s,transform .22s cubic-bezier(.55,.055,.675,.19);transition:bottom .1s ease-in .25s,transform .22s cubic-bezier(.55,.055,.675,.19),-webkit-transform .22s cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--spin-r__3WD7Y.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:rotate(-225deg);transform:rotate(-225deg);transition-delay:.12s;transition-timing-function:cubic-bezier(.215,.61,.355,1)}.burger_hamburger--spin-r__3WD7Y.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;opacity:0;transition:top .1s ease-out,opacity .1s ease-out .12s}.burger_hamburger--spin-r__3WD7Y.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);transition:bottom .1s ease-out,-webkit-transform .22s cubic-bezier(.215,.61,.355,1) .12s;transition:bottom .1s ease-out,transform .22s cubic-bezier(.215,.61,.355,1) .12s;transition:bottom .1s ease-out,transform .22s cubic-bezier(.215,.61,.355,1) .12s,-webkit-transform .22s cubic-bezier(.215,.61,.355,1) .12s}.burger_hamburger--spring__lGgOO .burger_hamburger-inner__14XT2{top:2px;transition:background-color 0s linear .13s}.burger_hamburger--spring__lGgOO .burger_hamburger-inner__14XT2:before{top:10px;transition:top .1s cubic-bezier(.33333,.66667,.66667,1) .2s,-webkit-transform .13s cubic-bezier(.55,.055,.675,.19);transition:top .1s cubic-bezier(.33333,.66667,.66667,1) .2s,transform .13s cubic-bezier(.55,.055,.675,.19);transition:top .1s cubic-bezier(.33333,.66667,.66667,1) .2s,transform .13s cubic-bezier(.55,.055,.675,.19),-webkit-transform .13s cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--spring__lGgOO .burger_hamburger-inner__14XT2:after{top:20px;transition:top .2s cubic-bezier(.33333,.66667,.66667,1) .2s,-webkit-transform .13s cubic-bezier(.55,.055,.675,.19);transition:top .2s cubic-bezier(.33333,.66667,.66667,1) .2s,transform .13s cubic-bezier(.55,.055,.675,.19);transition:top .2s cubic-bezier(.33333,.66667,.66667,1) .2s,transform .13s cubic-bezier(.55,.055,.675,.19),-webkit-transform .13s cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--spring__lGgOO.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{transition-delay:.22s;background-color:transparent}.burger_hamburger--spring__lGgOO.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .15s,-webkit-transform .13s cubic-bezier(.215,.61,.355,1) .22s;transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .15s,transform .13s cubic-bezier(.215,.61,.355,1) .22s;transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .15s,transform .13s cubic-bezier(.215,.61,.355,1) .22s,-webkit-transform .13s cubic-bezier(.215,.61,.355,1) .22s;-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.burger_hamburger--spring__lGgOO.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{top:0;transition:top .2s cubic-bezier(.33333,0,.66667,.33333),-webkit-transform .13s cubic-bezier(.215,.61,.355,1) .22s;transition:top .2s cubic-bezier(.33333,0,.66667,.33333),transform .13s cubic-bezier(.215,.61,.355,1) .22s;transition:top .2s cubic-bezier(.33333,0,.66667,.33333),transform .13s cubic-bezier(.215,.61,.355,1) .22s,-webkit-transform .13s cubic-bezier(.215,.61,.355,1) .22s;-webkit-transform:translate3d(0,10px,0) rotate(-45deg);transform:translate3d(0,10px,0) rotate(-45deg)}.burger_hamburger--spring-r__3pX-Z .burger_hamburger-inner__14XT2{top:auto;bottom:0;transition-duration:.13s;transition-delay:0s;transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--spring-r__3pX-Z .burger_hamburger-inner__14XT2:after{top:-20px;transition:top .2s cubic-bezier(.33333,.66667,.66667,1) .2s,opacity 0s linear}.burger_hamburger--spring-r__3pX-Z .burger_hamburger-inner__14XT2:before{transition:top .1s cubic-bezier(.33333,.66667,.66667,1) .2s,-webkit-transform .13s cubic-bezier(.55,.055,.675,.19);transition:top .1s cubic-bezier(.33333,.66667,.66667,1) .2s,transform .13s cubic-bezier(.55,.055,.675,.19);transition:top .1s cubic-bezier(.33333,.66667,.66667,1) .2s,transform .13s cubic-bezier(.55,.055,.675,.19),-webkit-transform .13s cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--spring-r__3pX-Z.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:translate3d(0,-10px,0) rotate(-45deg);transform:translate3d(0,-10px,0) rotate(-45deg);transition-delay:.22s;transition-timing-function:cubic-bezier(.215,.61,.355,1)}.burger_hamburger--spring-r__3pX-Z.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{top:0;opacity:0;transition:top .2s cubic-bezier(.33333,0,.66667,.33333),opacity 0s linear .22s}.burger_hamburger--spring-r__3pX-Z.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .15s,-webkit-transform .13s cubic-bezier(.215,.61,.355,1) .22s;transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .15s,transform .13s cubic-bezier(.215,.61,.355,1) .22s;transition:top .1s cubic-bezier(.33333,0,.66667,.33333) .15s,transform .13s cubic-bezier(.215,.61,.355,1) .22s,-webkit-transform .13s cubic-bezier(.215,.61,.355,1) .22s}.burger_hamburger--stand__JHjrW .burger_hamburger-inner__14XT2{transition:background-color 0s linear 75ms,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) .15s;transition:transform 75ms cubic-bezier(.55,.055,.675,.19) .15s,background-color 0s linear 75ms;transition:transform 75ms cubic-bezier(.55,.055,.675,.19) .15s,background-color 0s linear 75ms,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) .15s}.burger_hamburger--stand__JHjrW .burger_hamburger-inner__14XT2:before{transition:top 75ms ease-in 75ms,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) 0s;transition:top 75ms ease-in 75ms,transform 75ms cubic-bezier(.55,.055,.675,.19) 0s;transition:top 75ms ease-in 75ms,transform 75ms cubic-bezier(.55,.055,.675,.19) 0s,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) 0s}.burger_hamburger--stand__JHjrW .burger_hamburger-inner__14XT2:after{transition:bottom 75ms ease-in 75ms,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) 0s;transition:bottom 75ms ease-in 75ms,transform 75ms cubic-bezier(.55,.055,.675,.19) 0s;transition:bottom 75ms ease-in 75ms,transform 75ms cubic-bezier(.55,.055,.675,.19) 0s,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) 0s}.burger_hamburger--stand__JHjrW.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:rotate(90deg);transform:rotate(90deg);background-color:transparent;transition:background-color 0s linear .15s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) 0s;transition:transform 75ms cubic-bezier(.215,.61,.355,1) 0s,background-color 0s linear .15s;transition:transform 75ms cubic-bezier(.215,.61,.355,1) 0s,background-color 0s linear .15s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) 0s}.burger_hamburger--stand__JHjrW.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);transition:top 75ms ease-out .1s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .15s;transition:top 75ms ease-out .1s,transform 75ms cubic-bezier(.215,.61,.355,1) .15s;transition:top 75ms ease-out .1s,transform 75ms cubic-bezier(.215,.61,.355,1) .15s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .15s}.burger_hamburger--stand__JHjrW.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0;-webkit-transform:rotate(45deg);transform:rotate(45deg);transition:bottom 75ms ease-out .1s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .15s;transition:bottom 75ms ease-out .1s,transform 75ms cubic-bezier(.215,.61,.355,1) .15s;transition:bottom 75ms ease-out .1s,transform 75ms cubic-bezier(.215,.61,.355,1) .15s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .15s}.burger_hamburger--stand-r__18DUV .burger_hamburger-inner__14XT2{transition:background-color 0s linear 75ms,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) .15s;transition:transform 75ms cubic-bezier(.55,.055,.675,.19) .15s,background-color 0s linear 75ms;transition:transform 75ms cubic-bezier(.55,.055,.675,.19) .15s,background-color 0s linear 75ms,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) .15s}.burger_hamburger--stand-r__18DUV .burger_hamburger-inner__14XT2:before{transition:top 75ms ease-in 75ms,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) 0s;transition:top 75ms ease-in 75ms,transform 75ms cubic-bezier(.55,.055,.675,.19) 0s;transition:top 75ms ease-in 75ms,transform 75ms cubic-bezier(.55,.055,.675,.19) 0s,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) 0s}.burger_hamburger--stand-r__18DUV .burger_hamburger-inner__14XT2:after{transition:bottom 75ms ease-in 75ms,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) 0s;transition:bottom 75ms ease-in 75ms,transform 75ms cubic-bezier(.55,.055,.675,.19) 0s;transition:bottom 75ms ease-in 75ms,transform 75ms cubic-bezier(.55,.055,.675,.19) 0s,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19) 0s}.burger_hamburger--stand-r__18DUV.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);background-color:transparent;transition:background-color 0s linear .15s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) 0s;transition:transform 75ms cubic-bezier(.215,.61,.355,1) 0s,background-color 0s linear .15s;transition:transform 75ms cubic-bezier(.215,.61,.355,1) 0s,background-color 0s linear .15s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) 0s}.burger_hamburger--stand-r__18DUV.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);transition:top 75ms ease-out .1s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .15s;transition:top 75ms ease-out .1s,transform 75ms cubic-bezier(.215,.61,.355,1) .15s;transition:top 75ms ease-out .1s,transform 75ms cubic-bezier(.215,.61,.355,1) .15s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .15s}.burger_hamburger--stand-r__18DUV.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0;-webkit-transform:rotate(45deg);transform:rotate(45deg);transition:bottom 75ms ease-out .1s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .15s;transition:bottom 75ms ease-out .1s,transform 75ms cubic-bezier(.215,.61,.355,1) .15s;transition:bottom 75ms ease-out .1s,transform 75ms cubic-bezier(.215,.61,.355,1) .15s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .15s}.burger_hamburger--squeeze__8Jiuw .burger_hamburger-inner__14XT2{transition-duration:75ms;transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--squeeze__8Jiuw .burger_hamburger-inner__14XT2:before{transition:top 75ms ease .12s,opacity 75ms ease}.burger_hamburger--squeeze__8Jiuw .burger_hamburger-inner__14XT2:after{transition:bottom 75ms ease .12s,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19);transition:bottom 75ms ease .12s,transform 75ms cubic-bezier(.55,.055,.675,.19);transition:bottom 75ms ease .12s,transform 75ms cubic-bezier(.55,.055,.675,.19),-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19)}.burger_hamburger--squeeze__8Jiuw.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:rotate(45deg);transform:rotate(45deg);transition-delay:.12s;transition-timing-function:cubic-bezier(.215,.61,.355,1)}.burger_hamburger--squeeze__8Jiuw.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;opacity:0;transition:top 75ms ease,opacity 75ms ease .12s}.burger_hamburger--squeeze__8Jiuw.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);transition:bottom 75ms ease,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .12s;transition:bottom 75ms ease,transform 75ms cubic-bezier(.215,.61,.355,1) .12s;transition:bottom 75ms ease,transform 75ms cubic-bezier(.215,.61,.355,1) .12s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .12s}.burger_hamburger--vortex__26OQz .burger_hamburger-inner__14XT2{transition-duration:.2s;transition-timing-function:cubic-bezier(.19,1,.22,1)}.burger_hamburger--vortex__26OQz .burger_hamburger-inner__14XT2:after,.burger_hamburger--vortex__26OQz .burger_hamburger-inner__14XT2:before{transition-duration:0s;transition-delay:.1s;transition-timing-function:linear}.burger_hamburger--vortex__26OQz .burger_hamburger-inner__14XT2:before{transition-property:top,opacity}.burger_hamburger--vortex__26OQz .burger_hamburger-inner__14XT2:after{transition-property:bottom,-webkit-transform;transition-property:bottom,transform;transition-property:bottom,transform,-webkit-transform}.burger_hamburger--vortex__26OQz.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:rotate(765deg);transform:rotate(765deg);transition-timing-function:cubic-bezier(.19,1,.22,1)}.burger_hamburger--vortex__26OQz.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after,.burger_hamburger--vortex__26OQz.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{transition-delay:0s}.burger_hamburger--vortex__26OQz.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;opacity:0}.burger_hamburger--vortex__26OQz.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.burger_hamburger--vortex-r__3VIpG .burger_hamburger-inner__14XT2{transition-duration:.2s;transition-timing-function:cubic-bezier(.19,1,.22,1)}.burger_hamburger--vortex-r__3VIpG .burger_hamburger-inner__14XT2:after,.burger_hamburger--vortex-r__3VIpG .burger_hamburger-inner__14XT2:before{transition-duration:0s;transition-delay:.1s;transition-timing-function:linear}.burger_hamburger--vortex-r__3VIpG .burger_hamburger-inner__14XT2:before{transition-property:top,opacity}.burger_hamburger--vortex-r__3VIpG .burger_hamburger-inner__14XT2:after{transition-property:bottom,-webkit-transform;transition-property:bottom,transform;transition-property:bottom,transform,-webkit-transform}.burger_hamburger--vortex-r__3VIpG.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2{-webkit-transform:rotate(-765deg);transform:rotate(-765deg);transition-timing-function:cubic-bezier(.19,1,.22,1)}.burger_hamburger--vortex-r__3VIpG.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after,.burger_hamburger--vortex-r__3VIpG.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{transition-delay:0s}.burger_hamburger--vortex-r__3VIpG.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:before{top:0;opacity:0}.burger_hamburger--vortex-r__3VIpG.burger_is-active__3Yxiv .burger_hamburger-inner__14XT2:after{bottom:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}');var u=function(e){var t=document.documentElement,r=e.active,n=e.onClick,a=e.burger,o=e.color,u=e.hoverOpacity,l=e.scale,c=e.marginTop,h=e.marginLeft,d=e.style;t.style.setProperty("--burger-color",o),t.style.setProperty("--burger-opacity-hover",u),t.style.setProperty("--burger-scale",l),t.style.setProperty("--burger-margin-top",c),t.style.setProperty("--burger-margin-left",h);var f={burger:s.hamburger+" "+s["hamburger--"+a],box:""+s["hamburger-box"],inner:""+s["hamburger-inner"],active:r?""+s["is-active"]:""};return i.a.createElement("button",{onClick:n,className:f.burger+" "+f.active,type:"button",style:d},i.a.createElement("span",{className:f.box},i.a.createElement("span",{className:f.inner})))};u.propTypes={active:o.a.bool,onClick:o.a.func,burger:o.a.oneOf(["arrow","arrowalt","arrowturn","boring","collapse","elastic","emphatic","minus","slider","spin","spring","squeeze","stand","vortex","3dx","3dy","3dxy"]),color:o.a.string,hoverOpacity:o.a.number,scale:o.a.number,marginTop:o.a.string,marginLeft:o.a.string,style:o.a.object},u.defaultProps={burger:"boring",color:"#000",hoverOpacity:1,scale:1,marginTop:"25px",marginLeft:"25px"}},function(e,t,r){"use strict";e.exports=r(81)},function(e,t){function r(){}r.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function i(){n.off(e,i),t.apply(r,arguments)}return i._=t,this.on(e,i,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],i=[];if(n&&t)for(var a=0,o=n.length;a<o;a++)n[a].fn!==t&&n[a].fn._!==t&&i.push(n[a]);return i.length?r[e]=i:delete r[e],this}},e.exports=r,e.exports.TinyEmitter=r},function(e,t,r){"use strict";(function(e){var n=r(11),i=r(8),a=r(3),o=r(1),s=r(41);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1},t=e.debounce,r=e.scroll,n=e.polyfill,u=n||("undefined"===typeof window?function e(){Object(a.a)(this,e)}:window.ResizeObserver);if(!u)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var d=Object(o.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=Object(i.a)(d,2),m=p[0],v=p[1],g=Object(o.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m}),y=t?"number"===typeof t?t:t.scroll:null,b=t?"number"===typeof t?t:t.resize:null,_=Object(o.useRef)(!1);Object(o.useEffect)((function(){return _.current=!0,function(){_.current=!1}}));var x=Object(o.useMemo)((function(){var e=function(){if(g.current.element){var e=g.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};Object.freeze(t),_.current&&!f(g.current.lastBounds,t)&&v(g.current.lastBounds=t)}};return[e,b?Object(s.debounce)(e,b):e,y?Object(s.debounce)(e,y):e]}),[v,y,b]),w=Object(i.a)(x,3),T=w[0],S=w[1],E=w[2];function M(){g.current.scrollContainers&&(g.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",E,!0)})),g.current.scrollContainers=null),g.current.resizeObserver&&(g.current.resizeObserver.disconnect(),g.current.resizeObserver=null)}function P(){g.current.element&&(g.current.resizeObserver=new u(E),g.current.resizeObserver.observe(g.current.element),r&&g.current.scrollContainers&&g.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",E,{capture:!0,passive:!0})})))}var A=function(e){e&&e!==g.current.element&&(M(),g.current.element=e,g.current.scrollContainers=h(e),P())};return c(E,Boolean(r)),l(S),Object(o.useEffect)((function(){M(),P()}),[r,E,S]),Object(o.useEffect)((function(){return M}),[]),[A,m,T]}function l(e){Object(o.useEffect)((function(){var t=e;return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e])}function c(e,t){Object(o.useEffect)((function(){if(t){var r=e;return window.addEventListener("scroll",r,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",r,!0)}}}),[e,t])}function h(e){var t=[];if(!e||e===document.body)return t;var r=window.getComputedStyle(e);return[r.overflow,r.overflowX,r.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,Object(n.a)(h(e.parentElement)))}var d=["x","y","top","bottom","left","right","width","height"],f=function(e,t){return d.every((function(r){return e[r]===t[r]}))};Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(e,"exports").writable&&(e.exports=u),t.a=u}).call(this,r(82)(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(4),i=function(e){n.Loader.call(this,e),this.defaultDPI=90,this.defaultUnit="px"};i.prototype=Object.assign(Object.create(n.Loader.prototype),{constructor:i,load:function(e,t,r,i){var a=this,o=new n.FileLoader(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,(function(r){try{t(a.parse(r))}catch(n){i?i(n):console.error(n),a.manager.itemError(e)}}),r,i)},parse:function(e){var t=this;function r(e,t,r,n,a,o,s,u){if(0!=t&&0!=r){n=n*Math.PI/180,t=Math.abs(t),r=Math.abs(r);var l=(s.x-u.x)/2,c=(s.y-u.y)/2,h=Math.cos(n)*l+Math.sin(n)*c,d=-Math.sin(n)*l+Math.cos(n)*c,f=t*t,p=r*r,m=h*h,v=d*d,g=m/f+v/p;if(g>1){var y=Math.sqrt(g);f=(t*=y)*t,p=(r*=y)*r}var b=f*v+p*m,_=(f*p-b)/b,x=Math.sqrt(Math.max(0,_));a===o&&(x=-x);var w=x*t*d/r,T=-x*r*h/t,S=Math.cos(n)*w-Math.sin(n)*T+(s.x+u.x)/2,E=Math.sin(n)*w+Math.cos(n)*T+(s.y+u.y)/2,M=i(1,0,(h-w)/t,(d-T)/r),P=i((h-w)/t,(d-T)/r,(-h-w)/t,(-d-T)/r)%(2*Math.PI);e.currentPath.absellipse(S,E,t,r,M,M+P,0===o,n)}else e.lineTo(u.x,u.y)}function i(e,t,r,n){var i=e*r+t*n,a=Math.sqrt(e*e+t*t)*Math.sqrt(r*r+n*n),o=Math.acos(Math.max(-1,Math.min(1,i/a)));return e*n-t*r<0&&(o=-o),o}function a(e,t){t=Object.assign({},t);var r={};if(e.hasAttribute("class"))for(var n=e.getAttribute("class").split(/\s/).filter(Boolean).map((function(e){return e.trim()})),i=0;i<n.length;i++)r=Object.assign(r,p["."+n[i]]);function a(n,i,a){void 0===a&&(a=function(e){return e.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),e}),e.hasAttribute(n)&&(t[i]=a(e.getAttribute(n))),r[n]&&(t[i]=a(r[n])),e.style&&""!==e.style[n]&&(t[i]=a(e.style[n]))}function o(e){return Math.max(0,Math.min(1,c(e)))}function s(e){return Math.max(0,c(e))}return e.hasAttribute("id")&&(r=Object.assign(r,p["#"+e.getAttribute("id")])),a("fill","fill"),a("fill-opacity","fillOpacity",o),a("opacity","opacity",o),a("stroke","stroke"),a("stroke-opacity","strokeOpacity",o),a("stroke-width","strokeWidth",s),a("stroke-linejoin","strokeLineJoin"),a("stroke-linecap","strokeLineCap"),a("stroke-miterlimit","strokeMiterLimit",s),a("visibility","visibility"),t}function o(e,t){return e-(t-e)}function s(e){for(var t=e.split(/[\s,]+|(?=\s?[+\-])/),r=0;r<t.length;r++){var n=t[r];if(n.indexOf(".")!==n.lastIndexOf("."))for(var i=n.split("."),a=2;a<i.length;a++)t.splice(r+a-1,0,"0."+i[a]);t[r]=c(n)}return t}var u=["mm","cm","in","pt","pc","px"],l={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function c(e){var r="px";if("string"===typeof e||e instanceof String)for(var n=0,i=u.length;n<i;n++){var a=u[n];if(e.endsWith(a)){r=a,e=e.substring(0,e.length-a.length);break}}var o=void 0;return"px"===r&&"px"!==t.defaultUnit?o=l.in[t.defaultUnit]/t.defaultDPI:(o=l[r][t.defaultUnit])<0&&(o=l[r].in*t.defaultDPI),o*parseFloat(e)}function h(e){var t=e.elements;return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function d(e){var t=e.elements;return Math.sqrt(t[3]*t[3]+t[4]*t[4])}var f=[],p={},m=[],v=new n.Matrix3,g=new n.Matrix3,y=new n.Matrix3,b=new n.Matrix3,_=new n.Vector2,x=new n.Vector3,w=new n.Matrix3,T=(new DOMParser).parseFromString(e,"image/svg+xml");return function e(t,i){if(1===t.nodeType){var u=function(e){if(!(e.hasAttribute("transform")||"use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))))return null;var t=function(e){var t=new n.Matrix3,r=v;if("use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))){var i=c(e.getAttribute("x")),a=c(e.getAttribute("y"));t.translate(i,a)}if(e.hasAttribute("transform"))for(var o=e.getAttribute("transform").split(")"),u=o.length-1;u>=0;u--){var l=o[u].trim();if(""!==l){var h=l.indexOf("("),d=l.length;if(h>0&&h<d){var f=l.substr(0,h),p=s(l.substr(h+1,d-h-1));switch(r.identity(),f){case"translate":if(p.length>=1){a=i=p[0];p.length>=2&&(a=p[1]),r.translate(i,a)}break;case"rotate":if(p.length>=1){var m=0,_=0,x=0;m=-p[0]*Math.PI/180,p.length>=3&&(_=p[1],x=p[2]),g.identity().translate(-_,-x),y.identity().rotate(m),b.multiplyMatrices(y,g),g.identity().translate(_,x),r.multiplyMatrices(g,b)}break;case"scale":if(p.length>=1){var w=p[0],T=w;p.length>=2&&(T=p[1]),r.scale(w,T)}break;case"skewX":1===p.length&&r.set(1,Math.tan(p[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===p.length&&r.set(1,0,0,Math.tan(p[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===p.length&&r.set(p[0],p[2],p[4],p[1],p[3],p[5],0,0,1)}}t.premultiply(r)}}return t}(e);m.length>0&&t.premultiply(m[m.length-1]);return w.copy(t),m.push(t),t}(t),l=!0,T=null;switch(t.nodeName){case"svg":break;case"style":!function(e){if(!e.sheet||!e.sheet.cssRules||!e.sheet.cssRules.length)return;for(var t=0;t<e.sheet.cssRules.length;t++){var r=e.sheet.cssRules[t];if(1===r.type)for(var n=r.selectorText.split(/,/gm).filter(Boolean).map((function(e){return e.trim()})),i=0;i<n.length;i++)p[n[i]]=Object.assign(p[n[i]]||{},r.style)}}(t);break;case"g":i=a(t,i);break;case"path":i=a(t,i),t.hasAttribute("d")&&(T=function(e){for(var t=new n.ShapePath,i=new n.Vector2,a=new n.Vector2,u=new n.Vector2,l=!0,c=!1,h=e.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi),d=0,f=h.length;d<f;d++){var p=h[d],m=p.charAt(0),v=p.substr(1).trim();switch(!0===l&&(c=!0,l=!1),m){case"M":for(var g=0,y=(w=s(v)).length;g<y;g+=2)i.x=w[g+0],i.y=w[g+1],a.x=i.x,a.y=i.y,0===g?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y),0===g&&!0===c&&u.copy(i);break;case"H":for(g=0,y=(w=s(v)).length;g<y;g++)i.x=w[g],a.x=i.x,a.y=i.y,t.lineTo(i.x,i.y),0===g&&!0===c&&u.copy(i);break;case"V":for(g=0,y=(w=s(v)).length;g<y;g++)i.y=w[g],a.x=i.x,a.y=i.y,t.lineTo(i.x,i.y),0===g&&!0===c&&u.copy(i);break;case"L":for(g=0,y=(w=s(v)).length;g<y;g+=2)i.x=w[g+0],i.y=w[g+1],a.x=i.x,a.y=i.y,t.lineTo(i.x,i.y),0===g&&!0===c&&u.copy(i);break;case"C":for(g=0,y=(w=s(v)).length;g<y;g+=6)t.bezierCurveTo(w[g+0],w[g+1],w[g+2],w[g+3],w[g+4],w[g+5]),a.x=w[g+2],a.y=w[g+3],i.x=w[g+4],i.y=w[g+5],0===g&&!0===c&&u.copy(i);break;case"S":for(g=0,y=(w=s(v)).length;g<y;g+=4)t.bezierCurveTo(o(i.x,a.x),o(i.y,a.y),w[g+0],w[g+1],w[g+2],w[g+3]),a.x=w[g+0],a.y=w[g+1],i.x=w[g+2],i.y=w[g+3],0===g&&!0===c&&u.copy(i);break;case"Q":for(g=0,y=(w=s(v)).length;g<y;g+=4)t.quadraticCurveTo(w[g+0],w[g+1],w[g+2],w[g+3]),a.x=w[g+0],a.y=w[g+1],i.x=w[g+2],i.y=w[g+3],0===g&&!0===c&&u.copy(i);break;case"T":for(g=0,y=(w=s(v)).length;g<y;g+=2){var b=o(i.x,a.x),_=o(i.y,a.y);t.quadraticCurveTo(b,_,w[g+0],w[g+1]),a.x=b,a.y=_,i.x=w[g+0],i.y=w[g+1],0===g&&!0===c&&u.copy(i)}break;case"A":for(g=0,y=(w=s(v)).length;g<y;g+=7)if(w[g+5]!=i.x||w[g+6]!=i.y){var x=i.clone();i.x=w[g+5],i.y=w[g+6],a.x=i.x,a.y=i.y,r(t,w[g],w[g+1],w[g+2],w[g+3],w[g+4],x,i),0===g&&!0===c&&u.copy(i)}break;case"m":for(g=0,y=(w=s(v)).length;g<y;g+=2)i.x+=w[g+0],i.y+=w[g+1],a.x=i.x,a.y=i.y,0===g?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y),0===g&&!0===c&&u.copy(i);break;case"h":for(g=0,y=(w=s(v)).length;g<y;g++)i.x+=w[g],a.x=i.x,a.y=i.y,t.lineTo(i.x,i.y),0===g&&!0===c&&u.copy(i);break;case"v":for(g=0,y=(w=s(v)).length;g<y;g++)i.y+=w[g],a.x=i.x,a.y=i.y,t.lineTo(i.x,i.y),0===g&&!0===c&&u.copy(i);break;case"l":for(g=0,y=(w=s(v)).length;g<y;g+=2)i.x+=w[g+0],i.y+=w[g+1],a.x=i.x,a.y=i.y,t.lineTo(i.x,i.y),0===g&&!0===c&&u.copy(i);break;case"c":for(g=0,y=(w=s(v)).length;g<y;g+=6)t.bezierCurveTo(i.x+w[g+0],i.y+w[g+1],i.x+w[g+2],i.y+w[g+3],i.x+w[g+4],i.y+w[g+5]),a.x=i.x+w[g+2],a.y=i.y+w[g+3],i.x+=w[g+4],i.y+=w[g+5],0===g&&!0===c&&u.copy(i);break;case"s":for(g=0,y=(w=s(v)).length;g<y;g+=4)t.bezierCurveTo(o(i.x,a.x),o(i.y,a.y),i.x+w[g+0],i.y+w[g+1],i.x+w[g+2],i.y+w[g+3]),a.x=i.x+w[g+0],a.y=i.y+w[g+1],i.x+=w[g+2],i.y+=w[g+3],0===g&&!0===c&&u.copy(i);break;case"q":for(g=0,y=(w=s(v)).length;g<y;g+=4)t.quadraticCurveTo(i.x+w[g+0],i.y+w[g+1],i.x+w[g+2],i.y+w[g+3]),a.x=i.x+w[g+0],a.y=i.y+w[g+1],i.x+=w[g+2],i.y+=w[g+3],0===g&&!0===c&&u.copy(i);break;case"t":for(g=0,y=(w=s(v)).length;g<y;g+=2){b=o(i.x,a.x),_=o(i.y,a.y);t.quadraticCurveTo(b,_,i.x+w[g+0],i.y+w[g+1]),a.x=b,a.y=_,i.x=i.x+w[g+0],i.y=i.y+w[g+1],0===g&&!0===c&&u.copy(i)}break;case"a":var w;for(g=0,y=(w=s(v)).length;g<y;g+=7)if(0!=w[g+5]||0!=w[g+6]){x=i.clone();i.x+=w[g+5],i.y+=w[g+6],a.x=i.x,a.y=i.y,r(t,w[g],w[g+1],w[g+2],w[g+3],w[g+4],x,i),0===g&&!0===c&&u.copy(i)}break;case"Z":case"z":t.currentPath.autoClose=!0,t.currentPath.curves.length>0&&(i.copy(u),t.currentPath.currentPoint.copy(i),l=!0);break;default:console.warn(p)}c=!1}return t}(t));break;case"rect":i=a(t,i),T=function(e){var t=c(e.getAttribute("x")||0),r=c(e.getAttribute("y")||0),i=c(e.getAttribute("rx")||0),a=c(e.getAttribute("ry")||0),o=c(e.getAttribute("width")),s=c(e.getAttribute("height")),u=new n.ShapePath;u.moveTo(t+2*i,r),u.lineTo(t+o-2*i,r),(0!==i||0!==a)&&u.bezierCurveTo(t+o,r,t+o,r,t+o,r+2*a);u.lineTo(t+o,r+s-2*a),(0!==i||0!==a)&&u.bezierCurveTo(t+o,r+s,t+o,r+s,t+o-2*i,r+s);u.lineTo(t+2*i,r+s),(0!==i||0!==a)&&u.bezierCurveTo(t,r+s,t,r+s,t,r+s-2*a);u.lineTo(t,r+2*a),(0!==i||0!==a)&&u.bezierCurveTo(t,r,t,r,t+2*i,r);return u}(t);break;case"polygon":i=a(t,i),T=function(e){function t(e,t,r){var n=c(t),o=c(r);0===a?i.moveTo(n,o):i.lineTo(n,o),a++}var r=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,i=new n.ShapePath,a=0;return e.getAttribute("points").replace(r,t),i.currentPath.autoClose=!0,i}(t);break;case"polyline":i=a(t,i),T=function(e){function t(e,t,r){var n=c(t),o=c(r);0===a?i.moveTo(n,o):i.lineTo(n,o),a++}var r=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,i=new n.ShapePath,a=0;return e.getAttribute("points").replace(r,t),i.currentPath.autoClose=!1,i}(t);break;case"circle":i=a(t,i),T=function(e){var t=c(e.getAttribute("cx")),r=c(e.getAttribute("cy")),i=c(e.getAttribute("r")),a=new n.Path;a.absarc(t,r,i,0,2*Math.PI);var o=new n.ShapePath;return o.subPaths.push(a),o}(t);break;case"ellipse":i=a(t,i),T=function(e){var t=c(e.getAttribute("cx")),r=c(e.getAttribute("cy")),i=c(e.getAttribute("rx")),a=c(e.getAttribute("ry")),o=new n.Path;o.absellipse(t,r,i,a,0,2*Math.PI);var s=new n.ShapePath;return s.subPaths.push(o),s}(t);break;case"line":i=a(t,i),T=function(e){var t=c(e.getAttribute("x1")),r=c(e.getAttribute("y1")),i=c(e.getAttribute("x2")),a=c(e.getAttribute("y2")),o=new n.ShapePath;return o.moveTo(t,r),o.lineTo(i,a),o.currentPath.autoClose=!1,o}(t);break;case"defs":l=!1;break;case"use":i=a(t,i);var S=t.href.baseVal.substring(1),E=t.viewportElement.getElementById(S);E?e(E,i):console.warn("SVGLoader: 'use node' references non-existent node id: "+S)}if(T&&(void 0!==i.fill&&"none"!==i.fill&&T.color.setStyle(i.fill),function(e,t){function r(e){x.set(e.x,e.y,1).applyMatrix3(t),e.set(x.x,x.y)}for(var n=function(e){return 0!==e.elements[1]||0!==e.elements[3]}(t),i=e.subPaths,a=0,o=i.length;a<o;a++)for(var s=i[a].curves,u=0;u<s.length;u++){var l=s[u];l.isLineCurve?(r(l.v1),r(l.v2)):l.isCubicBezierCurve?(r(l.v0),r(l.v1),r(l.v2),r(l.v3)):l.isQuadraticBezierCurve?(r(l.v0),r(l.v1),r(l.v2)):l.isEllipseCurve&&(n&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),_.set(l.aX,l.aY),r(_),l.aX=_.x,l.aY=_.y,l.xRadius*=h(t),l.yRadius*=d(t))}}(T,w),f.push(T),T.userData={node:t,style:i}),l)for(var M=t.childNodes,P=0;P<M.length;P++)e(M[P],i);u&&(m.pop(),m.length>0?w.copy(m[m.length-1]):w.identity())}}(T.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:f,xml:T.documentElement}}}),i.getStrokeStyle=function(e,t,r,n,i){return{strokeColor:t=void 0!==t?t:"#000",strokeWidth:e=void 0!==e?e:1,strokeLineJoin:r=void 0!==r?r:"miter",strokeLineCap:n=void 0!==n?n:"butt",strokeMiterLimit:i=void 0!==i?i:4}},i.pointsToStroke=function(e,t,r,a){var o=[],s=[],u=[];if(0===i.pointsToStrokeWithBuffers(e,t,r,a,o,s,u))return null;var l=new n.BufferGeometry;return l.setAttribute("position",new n.Float32BufferAttribute(o,3)),l.setAttribute("normal",new n.Float32BufferAttribute(s,3)),l.setAttribute("uv",new n.Float32BufferAttribute(u,2)),l},i.pointsToStrokeWithBuffers=function(){var e=new n.Vector2,t=new n.Vector2,r=new n.Vector2,i=new n.Vector2,a=new n.Vector2,o=new n.Vector2,s=new n.Vector2,u=new n.Vector2,l=new n.Vector2,c=new n.Vector2,h=new n.Vector2,d=new n.Vector2,f=new n.Vector2,p=new n.Vector2,m=new n.Vector2,v=new n.Vector2,g=new n.Vector2;return function(n,y,b,_,x,w,T,S){b=void 0!==b?b:12,_=void 0!==_?_:.001,S=void 0!==S?S:0;var E=(n=function(e){for(var t=!1,r=1,n=e.length-1;r<n;r++)if(e[r].distanceTo(e[r+1])<_){t=!0;break}if(!t)return e;var i=[];i.push(e[0]);for(r=1,n=e.length-1;r<n;r++)e[r].distanceTo(e[r+1])>=_&&i.push(e[r]);return i.push(e[e.length-1]),i}(n)).length;if(E<2)return 0;var M,P,A,C,O,k=n[0].equals(n[E-1]),R=n[0],L=y.strokeWidth/2,I=1/(E-1),D=0,N=!1,F=0,z=3*S,B=2*S;Q(n[0],n[1],e).multiplyScalar(L),u.copy(n[0]).sub(e),l.copy(n[0]).add(e),c.copy(u),h.copy(l);for(var U=1;U<E;U++){M=n[U],P=U===E-1?k?n[1]:void 0:n[U+1];var j=e;Q(R,M,j),r.copy(j).multiplyScalar(L),d.copy(M).sub(r),f.copy(M).add(r);var H=D+I;if(A=!1,void 0!==P){Q(M,P,t),r.copy(t).multiplyScalar(L),p.copy(M).sub(r),m.copy(M).add(r),C=!0,r.subVectors(P,R),j.dot(r)<0&&(C=!1),1===U&&(N=C),r.subVectors(P,M),r.normalize();var G=Math.abs(j.dot(r));if(0!==G){var V=L/G;r.multiplyScalar(-V),i.subVectors(M,R),a.copy(i).setLength(V).add(r),v.copy(a).negate();var W=a.length(),X=i.length();i.divideScalar(X),o.subVectors(P,M);var Y=o.length();switch(o.divideScalar(Y),i.dot(v)<X&&o.dot(v)<Y&&(A=!0),g.copy(a).add(M),v.add(M),O=!1,A?C?(m.copy(v),f.copy(v)):(p.copy(v),d.copy(v)):ee(),y.strokeLineJoin){case"bevel":te(C,A,H);break;case"round":re(C,A),C?$(M,d,p,H,0):$(M,m,f,H,1);break;case"miter":case"miter-clip":default:var q=L*y.strokeMiterLimit/W;if(q<1){if("miter-clip"!==y.strokeLineJoin){te(C,A,H);break}re(C,A),C?(o.subVectors(g,d).multiplyScalar(q).add(d),s.subVectors(g,p).multiplyScalar(q).add(p),K(d,H,0),K(o,H,0),K(M,H,.5),K(M,H,.5),K(o,H,0),K(s,H,0),K(M,H,.5),K(s,H,0),K(p,H,0)):(o.subVectors(g,f).multiplyScalar(q).add(f),s.subVectors(g,m).multiplyScalar(q).add(m),K(f,H,1),K(o,H,1),K(M,H,.5),K(M,H,.5),K(o,H,1),K(s,H,1),K(M,H,.5),K(s,H,1),K(m,H,1))}else A?(C?(K(l,D,1),K(u,D,0),K(g,H,0),K(l,D,1),K(g,H,0),K(v,H,1)):(K(l,D,1),K(u,D,0),K(g,H,1),K(u,D,0),K(v,H,0),K(g,H,1)),C?p.copy(g):m.copy(g)):C?(K(d,H,0),K(g,H,0),K(M,H,.5),K(M,H,.5),K(g,H,0),K(p,H,0)):(K(f,H,1),K(g,H,1),K(M,H,.5),K(M,H,.5),K(g,H,1),K(m,H,1)),O=!0}}else ee()}else ee();k||U!==E-1||ne(n[0],c,h,C,!0,D),D=H,R=M,u.copy(p),l.copy(m)}if(k){if(A&&x){var Z=g,J=v;N!==C&&(Z=v,J=g),C?(O||N)&&(J.toArray(x,0),J.toArray(x,9),O&&Z.toArray(x,3)):!O&&N||(J.toArray(x,3),J.toArray(x,9),O&&Z.toArray(x,0))}}else ne(M,d,f,C,!1,H);return F;function Q(e,t,r){return r.subVectors(t,e),r.set(-r.y,r.x).normalize()}function K(e,t,r){x&&(x[z]=e.x,x[z+1]=e.y,x[z+2]=0,w&&(w[z]=0,w[z+1]=0,w[z+2]=1),z+=3,T&&(T[B]=t,T[B+1]=r,B+=2)),F+=3}function $(n,a,o,s,u){e.copy(a).sub(n).normalize(),t.copy(o).sub(n).normalize();var l=Math.PI,c=e.dot(t);Math.abs(c)<1&&(l=Math.abs(Math.acos(c))),l/=b,r.copy(a);for(var h=0,d=b-1;h<d;h++)i.copy(r).rotateAround(n,l),K(r,s,u),K(i,s,u),K(n,s,.5),r.copy(i);K(i,s,u),K(o,s,u),K(n,s,.5)}function ee(){K(l,D,1),K(u,D,0),K(d,H,0),K(l,D,1),K(d,H,1),K(f,H,0)}function te(e,t,r){t?e?(K(l,D,1),K(u,D,0),K(d,H,0),K(l,D,1),K(d,H,0),K(v,H,1),K(d,r,0),K(p,r,0),K(v,r,.5)):(K(l,D,1),K(u,D,0),K(f,H,1),K(u,D,0),K(v,H,0),K(f,H,1),K(f,r,1),K(m,r,0),K(v,r,.5)):e?(K(d,r,0),K(p,r,0),K(M,r,.5)):(K(f,r,1),K(m,r,0),K(M,r,.5))}function re(e,t){t&&(e?(K(l,D,1),K(u,D,0),K(d,H,0),K(l,D,1),K(d,H,0),K(v,H,1),K(d,D,0),K(M,H,.5),K(v,H,1),K(M,H,.5),K(p,D,0),K(v,H,1)):(K(l,D,1),K(u,D,0),K(f,H,1),K(u,D,0),K(v,H,0),K(f,H,1),K(f,D,1),K(v,H,0),K(M,H,.5),K(M,H,.5),K(v,H,0),K(m,D,1)))}function ne(n,a,o,s,u,l){switch(y.strokeLineCap){case"round":u?$(n,o,a,l,.5):$(n,a,o,l,.5);break;case"square":if(u)e.subVectors(a,n),t.set(e.y,-e.x),r.addVectors(e,t).add(n),i.subVectors(t,e).add(n),s?(r.toArray(x,3),i.toArray(x,0),i.toArray(x,9)):(r.toArray(x,3),r.toArray(x,9),i.toArray(x,0));else{e.subVectors(o,n),t.set(e.y,-e.x),r.addVectors(e,t).add(n),i.subVectors(t,e).add(n);var c=x.length;s?(r.toArray(x,c-3),i.toArray(x,c-6),i.toArray(x,c-12)):(r.toArray(x,c-6),i.toArray(x,c-3),i.toArray(x,c-12))}}}}}()},function(e,t,r){var n=r(83).createReactPlayer,i=r(88).default;e.exports=n([{key:"vimeo",canPlay:i.canPlay,lazyPlayer:i}])},function(e,t,r){(function(n,i){var a;!function(n){var o=n.Promise,s=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var e;return new o((function(t){e=t})),"function"===typeof e}();t?(t.Promise=s?o:P,t.Polyfill=P):void 0===(a=function(){return s?o:P}.call(t,r,t,e))||(e.exports=a);var u="pending",l="sealed",c="fulfilled",h="rejected",d=function(){};function f(e){return"[object Array]"===Object.prototype.toString.call(e)}var p,m="undefined"!==typeof i?i:setTimeout,v=[];function g(){for(var e=0;e<v.length;e++)v[e][0](v[e][1]);v=[],p=!1}function y(e,t){v.push([e,t]),p||(p=!0,m(g,0))}function b(e){var t=e.owner,r=t.state_,n=t.data_,i=e[r],a=e.then;if("function"===typeof i){r=c;try{n=i(n)}catch(o){T(a,o)}}_(a,n)||(r===c&&x(a,n),r===h&&T(a,n))}function _(e,t){var r;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===typeof t)){var n=t.then;if("function"===typeof n)return n.call(t,(function(n){r||(r=!0,t!==n?x(e,n):w(e,n))}),(function(t){r||(r=!0,T(e,t))})),!0}}catch(i){return r||T(e,i),!0}return!1}function x(e,t){e!==t&&_(e,t)||w(e,t)}function w(e,t){e.state_===u&&(e.state_=l,e.data_=t,y(E,e))}function T(e,t){e.state_===u&&(e.state_=l,e.data_=t,y(M,e))}function S(e){var t=e.then_;e.then_=void 0;for(var r=0;r<t.length;r++)b(t[r])}function E(e){e.state_=c,S(e)}function M(e){e.state_=h,S(e)}function P(e){if("function"!==typeof e)throw new TypeError("Promise constructor takes a function argument");if(this instanceof P===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(e,t){function r(e){T(t,e)}try{e((function(e){x(t,e)}),r)}catch(n){r(n)}}(e,this)}P.prototype={constructor:P,state_:u,then_:null,data_:void 0,then:function(e,t){var r={owner:this,then:new this.constructor(d),fulfilled:e,rejected:t};return this.state_===c||this.state_===h?y(b,r):this.then_.push(r),r.then},catch:function(e){return this.then(null,e)}},P.all=function(e){if(!f(e))throw new TypeError("You must pass an array to Promise.all().");return new this((function(t,r){var n=[],i=0;function a(e){return i++,function(r){n[e]=r,--i||t(n)}}for(var o,s=0;s<e.length;s++)(o=e[s])&&"function"===typeof o.then?o.then(a(s),r):n[s]=o;i||t(n)}))},P.race=function(e){if(!f(e))throw new TypeError("You must pass an array to Promise.race().");return new this((function(t,r){for(var n,i=0;i<e.length;i++)(n=e[i])&&"function"===typeof n.then?n.then(t,r):t(n)}))},P.resolve=function(e){return e&&"object"===typeof e&&e.constructor===this?e:new this((function(t){t(e)}))},P.reject=function(e){return new this((function(t,r){r(e)}))}}("undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:this)}).call(this,r(22),r(94).setImmediate)},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n,i,a=function(){return n||"undefined"!==typeof window&&(n=window.gsap)&&n.registerPlugin&&n},o=function(e,t){return!!("undefined"===typeof e?t:e&&!~(e+"").indexOf("false"))},s=function(e){if(n=e||a()){i=n.registerEase;var t,r=n.parseEase(),o=function(e){return function(t){var r=.5+t/2;e.config=function(t){return e(2*(1-t)*t*r+t*t)}}};for(t in r)r[t].config||o(r[t]);for(t in i("slow",d),i("expoScale",f),i("rough",p),m)"version"!==t&&n.core.globals(t,m[t]);1}},u=function(e,t,r){var n=(e=Math.min(1,e||.7))<1?t||0===t?t:.7:0,i=(1-e)/2,a=i+e,s=o(r);return function(e){var t=e+(.5-e)*n;return e<i?s?1-(e=1-e/i)*e:t-(e=1-e/i)*e*e*e*t:e>a?s?1===e?0:1-(e=(e-a)/i)*e:t+(e-t)*(e=(e-a)/i)*e*e*e:s?1:t}},l=function(e,t,r){var i=Math.log(t/e),a=t-e;return r&&(r=n.parseEase(r)),function(t){return(e*Math.exp(i*(r?r(t):t))-e)/a}},c=function(e,t,r){this.t=e,this.v=t,r&&(this.next=r,r.prev=this,this.c=r.v-t,this.gap=r.t-e)},h=function(e){"object"!==typeof e&&(e={points:+e||20});for(var t,r,i,a,s,u,l,h=e.taper||"none",d=[],f=0,p=0|(+e.points||20),m=p,v=o(e.randomize,!0),g=o(e.clamp),y=n?n.parseEase(e.template):0,b=.4*(+e.strength||1);--m>-1;)t=v?Math.random():1/p*m,r=y?y(t):t,i="none"===h?b:"out"===h?(a=1-t)*a*b:"in"===h?t*t*b:t<.5?(a=2*t)*a*.5*b:(a=2*(1-t))*a*.5*b,v?r+=Math.random()*i-.5*i:m%2?r+=.5*i:r-=.5*i,g&&(r>1?r=1:r<0&&(r=0)),d[f++]={x:t,y:r};for(d.sort((function(e,t){return e.x-t.x})),u=new c(1,1,null),m=p;m--;)s=d[m],u=new c(s.x,s.y,u);return l=new c(0,0,u.t?u:u.next),function(e){var t=l;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return l=t,t.v+(e-t.t)/t.gap*t.c}},d=u(.7);d.ease=d,d.config=u;var f=l(1,2);f.config=l;var p=h();p.ease=p,p.config=h;var m={SlowMo:d,RoughEase:p,ExpoScaleEase:f};for(var v in m)m[v].register=s,m[v].version="3.5.1";a()&&n.registerPlugin(d)},function(e,t,r){"use strict";r.d(t,"a",(function(){return T}));var n,i,a=r(6),o=function(){function e(e,t,r){this.value=e,this.time=t,this.next=null,this.isStepped=!1,this.ease=r?"function"===typeof r?r:i.generateEase(r):null}return e.createList=function(t){if("list"in t){var r=t.list,n=void 0,a=r[0],o=a.value,s=a.time,u=n=new e("string"===typeof o?i.hexToRGB(o):o,s,t.ease);if(r.length>2||2===r.length&&r[1].value!==o)for(var l=1;l<r.length;++l){var c=r[l],h=c.value,d=c.time;n.next=new e("string"===typeof h?i.hexToRGB(h):h,d),n=n.next}return u.isStepped=!!t.isStepped,u}var f=new e("string"===typeof t.start?i.hexToRGB(t.start):t.start,0);return t.end!==t.start&&(f.next=new e("string"===typeof t.end?i.hexToRGB(t.end):t.end,1)),f},e}(),s=a;function u(e){return n(e)}n=parseInt(/^(\d+)\./.exec(a.VERSION)[1],10)<5?s.Texture.fromImage:s.Texture.from,function(e){e.verbose=!1,e.DEG_TO_RADS=Math.PI/180,e.rotatePoint=function(t,r){if(t){t*=e.DEG_TO_RADS;var n=Math.sin(t),i=Math.cos(t),a=r.x*i-r.y*n,o=r.x*n+r.y*i;r.x=a,r.y=o}},e.combineRGBComponents=function(e,t,r){return e<<16|t<<8|r},e.normalize=function(t){var r=1/e.length(t);t.x*=r,t.y*=r},e.scaleBy=function(e,t){e.x*=t,e.y*=t},e.length=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.hexToRGB=function(e,t){var r;return t||(t={}),"#"===e.charAt(0)?e=e.substr(1):0===e.indexOf("0x")&&(e=e.substr(2)),8===e.length&&(r=e.substr(0,2),e=e.substr(2)),t.r=parseInt(e.substr(0,2),16),t.g=parseInt(e.substr(2,2),16),t.b=parseInt(e.substr(4,2),16),r&&(t.a=parseInt(r,16)),t},e.generateEase=function(e){var t=e.length,r=1/t;return function(n){var i=t*n|0,a=(n-i*r)*t,o=e[i]||e[t-1];return o.s+a*(2*(1-a)*(o.cp-o.s)+a*(o.e-o.s))}},e.getBlendMode=function(e){if(!e)return a.BLEND_MODES.NORMAL;for(e=e.toUpperCase();e.indexOf(" ")>=0;)e=e.replace(" ","_");return a.BLEND_MODES[e]||a.BLEND_MODES.NORMAL},e.createSteppedGradient=function(t,r){void 0===r&&(r=10),("number"!==typeof r||r<=0)&&(r=10);var n=new o(e.hexToRGB(t[0].value),t[0].time);n.isStepped=!0;for(var i=n,a=t[0],s=1,u=t[s],l=1;l<r;++l){for(var c=l/r;c>u.time;)a=u,u=t[++s];c=(c-a.time)/(u.time-a.time);var h=e.hexToRGB(a.value),d=e.hexToRGB(u.value),f={r:(d.r-h.r)*c+h.r,g:(d.g-h.g)*c+h.g,b:(d.b-h.b)*c+h.b};i.next=new o(f,l/r),i=i.next}return n}}(i||(i={}));var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function c(e,t){function r(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function h(e){return this.ease&&(e=this.ease(e)),(this.next.value-this.current.value)*e+this.current.value}function d(e){this.ease&&(e=this.ease(e));var t=this.current.value,r=this.next.value,n=(r.r-t.r)*e+t.r,a=(r.g-t.g)*e+t.g,o=(r.b-t.b)*e+t.b;return i.combineRGBComponents(n,a,o)}function f(e){for(this.ease&&(e=this.ease(e));e>this.next.time;)this.current=this.next,this.next=this.next.next;return e=(e-this.current.time)/(this.next.time-this.current.time),(this.next.value-this.current.value)*e+this.current.value}function p(e){for(this.ease&&(e=this.ease(e));e>this.next.time;)this.current=this.next,this.next=this.next.next;e=(e-this.current.time)/(this.next.time-this.current.time);var t=this.current.value,r=this.next.value,n=(r.r-t.r)*e+t.r,a=(r.g-t.g)*e+t.g,o=(r.b-t.b)*e+t.b;return i.combineRGBComponents(n,a,o)}function m(e){for(this.ease&&(e=this.ease(e));this.next&&e>this.next.time;)this.current=this.next,this.next=this.next.next;return this.current.value}function v(e){for(this.ease&&(e=this.ease(e));this.next&&e>this.next.time;)this.current=this.next,this.next=this.next.next;var t=this.current.value;return i.combineRGBComponents(t.r,t.g,t.b)}var g,y=function(){function e(e){void 0===e&&(e=!1),this.current=null,this.next=null,this.isColor=!!e,this.interpolate=null,this.ease=null}return e.prototype.reset=function(e){this.current=e,this.next=e.next,this.next&&this.next.time>=1?this.interpolate=this.isColor?d:h:e.isStepped?this.interpolate=this.isColor?v:m:this.interpolate=this.isColor?p:f,this.ease=this.current.ease},e}(),b=function(e){function t(r){var n=e.call(this)||this;return n.prevChild=n.nextChild=null,n.emitter=r,n.anchor.x=n.anchor.y=.5,n.velocity=new a.Point,n.rotationSpeed=0,n.rotationAcceleration=0,n.maxLife=0,n.age=0,n.ease=null,n.extraData=null,n.alphaList=new y,n.speedList=new y,n.speedMultiplier=1,n.acceleration=new a.Point,n.maxSpeed=NaN,n.scaleList=new y,n.scaleMultiplier=1,n.colorList=new y(!0),n._doAlpha=!1,n._doScale=!1,n._doSpeed=!1,n._doAcceleration=!1,n._doColor=!1,n._doNormalMovement=!1,n._oneOverLife=0,n.next=null,n.prev=null,n.init=n.init,n.Particle_init=t.prototype.init,n.update=n.update,n.Particle_update=t.prototype.update,n.Sprite_destroy=e.prototype.destroy,n.Particle_destroy=t.prototype.destroy,n.applyArt=n.applyArt,n.kill=n.kill,n}return c(t,e),t.prototype.init=function(){this.age=0,this.velocity.x=this.speedList.current.value*this.speedMultiplier,this.velocity.y=0,i.rotatePoint(this.rotation,this.velocity),this.noRotation?this.rotation=0:this.rotation*=i.DEG_TO_RADS,this.rotationSpeed*=i.DEG_TO_RADS,this.rotationAcceleration*=i.DEG_TO_RADS,this.alpha=this.alphaList.current.value,this.scale.x=this.scale.y=this.scaleList.current.value,this._doAlpha=!!this.alphaList.current.next,this._doSpeed=!!this.speedList.current.next,this._doScale=!!this.scaleList.current.next,this._doColor=!!this.colorList.current.next,this._doAcceleration=0!==this.acceleration.x||0!==this.acceleration.y,this._doNormalMovement=this._doSpeed||0!==this.speedList.current.value||this._doAcceleration,this._oneOverLife=1/this.maxLife;var e=this.colorList.current.value;this.tint=i.combineRGBComponents(e.r,e.g,e.b),this.visible=!0},t.prototype.applyArt=function(e){this.texture=e||a.Texture.EMPTY},t.prototype.update=function(e){if(this.age+=e,this.age>=this.maxLife||this.age<0)return this.kill(),-1;var t=this.age*this._oneOverLife;if(this.ease&&(t=4===this.ease.length?this.ease(t,0,1,1):this.ease(t)),this._doAlpha&&(this.alpha=this.alphaList.interpolate(t)),this._doScale){var r=this.scaleList.interpolate(t)*this.scaleMultiplier;this.scale.x=this.scale.y=r}if(this._doNormalMovement){var n=void 0,a=void 0;if(this._doSpeed){var o=this.speedList.interpolate(t)*this.speedMultiplier;i.normalize(this.velocity),i.scaleBy(this.velocity,o),n=this.velocity.x*e,a=this.velocity.y*e}else if(this._doAcceleration){var s=this.velocity.x,u=this.velocity.y;if(this.velocity.x+=this.acceleration.x*e,this.velocity.y+=this.acceleration.y*e,this.maxSpeed){var l=i.length(this.velocity);l>this.maxSpeed&&i.scaleBy(this.velocity,this.maxSpeed/l)}n=(s+this.velocity.x)/2*e,a=(u+this.velocity.y)/2*e}else n=this.velocity.x*e,a=this.velocity.y*e;this.position.x+=n,this.position.y+=a}if(this._doColor&&(this.tint=this.colorList.interpolate(t)),0!==this.rotationAcceleration){var c=this.rotationSpeed+this.rotationAcceleration*e;this.rotation+=(this.rotationSpeed+c)/2*e,this.rotationSpeed=c}else 0!==this.rotationSpeed?this.rotation+=this.rotationSpeed*e:this.acceleration&&!this.noRotation&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x));return t},t.prototype.kill=function(){this.emitter.recycle(this)},t.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.Sprite_destroy(),this.emitter=this.velocity=this.colorList=this.scaleList=this.alphaList=this.speedList=this.ease=this.next=this.prev=null},t.parseArt=function(e){var t;for(t=e.length;t>=0;--t)"string"===typeof e[t]&&(e[t]=u(e[t]));if(i.verbose)for(t=e.length-1;t>0;--t)if(e[t].baseTexture!==e[t-1].baseTexture){window.console&&console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");break}return e},t.parseData=function(e){return e},t}(a.Sprite),_=function(){function e(e){this.segments=[],this.countingLengths=[],this.totalLength=0,this.init(e)}return e.prototype.init=function(e){if(e&&e.length)if(Array.isArray(e[0]))for(var t=0;t<e.length;++t)for(var r=e[t],n=r[0],i=1;i<r.length;++i){var a=r[i];this.segments.push({p1:n,p2:a,l:0}),n=a}else for(n=e[0],t=1;t<e.length;++t){a=e[t];this.segments.push({p1:n,p2:a,l:0}),n=a}else this.segments.push({p1:{x:0,y:0},p2:{x:0,y:0},l:0});for(t=0;t<this.segments.length;++t){var o=this.segments[t],s=o.p1,u=o.p2,l=Math.sqrt((u.x-s.x)*(u.x-s.x)+(u.y-s.y)*(u.y-s.y));this.segments[t].l=l,this.totalLength+=l,this.countingLengths.push(this.totalLength)}},e.prototype.getRandomPoint=function(e){var t,r,n=Math.random()*this.totalLength;if(1===this.segments.length)t=this.segments[0],r=n;else for(var i=0;i<this.countingLengths.length;++i)if(n<this.countingLengths[i]){t=this.segments[i],r=0===i?n:n-this.countingLengths[i-1];break}r/=t.l||1;var a=t.p1,o=t.p2;e.x=a.x+r*(o.x-a.x),e.y=a.y+r*(o.y-a.y)},e}(),x=a;g=parseInt(/^(\d+)\./.exec(a.VERSION)[1],10)<5?x.ticker.shared:x.Ticker.shared;var w=new a.Point,T=function(){function e(e,t,r){this._currentImageIndex=-1,this._particleConstructor=b,this.particleImages=null,this.startAlpha=null,this.startSpeed=null,this.minimumSpeedMultiplier=1,this.acceleration=null,this.maxSpeed=NaN,this.startScale=null,this.minimumScaleMultiplier=1,this.startColor=null,this.minLifetime=0,this.maxLifetime=0,this.minStartRotation=0,this.maxStartRotation=0,this.noRotation=!1,this.minRotationSpeed=0,this.maxRotationSpeed=0,this.particleBlendMode=0,this.customEase=null,this.extraData=null,this._frequency=1,this.spawnChance=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=null,this.spawnType=null,this._spawnFunc=null,this.spawnRect=null,this.spawnCircle=null,this.spawnPolygonalChain=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,this.rotation=0,this.ownerPos=null,this._prevEmitterPos=null,this._prevPosIsValid=!1,this._posChanged=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._origArt=null,this._autoUpdate=!1,this._currentImageIndex=-1,this._destroyWhenComplete=!1,this._completeCallback=null,this.parent=e,t&&r&&this.init(t,r),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos}return Object.defineProperty(e.prototype,"orderedArt",{get:function(){return-1!==this._currentImageIndex},set:function(e){this._currentImageIndex=e?0:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frequency",{get:function(){return this._frequency},set:function(e){this._frequency="number"===typeof e&&e>0?e:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"particleConstructor",{get:function(){return this._particleConstructor},set:function(e){if(e!==this._particleConstructor){this._particleConstructor=e,this.cleanup();for(var t=this._poolFirst;t;t=t.next)t.destroy();this._poolFirst=null,this._origConfig&&this._origArt&&this.init(this._origArt,this._origConfig)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){this.cleanup(),this._parent=e},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){if(e&&t){this.cleanup(),this._origConfig=t,this._origArt=e,e=Array.isArray(e)?e.slice():[e];var r=this._particleConstructor;this.particleImages=r.parseArt?r.parseArt(e):e,t.alpha?this.startAlpha=o.createList(t.alpha):this.startAlpha=new o(1,0),t.speed?(this.startSpeed=o.createList(t.speed),this.minimumSpeedMultiplier=("minimumSpeedMultiplier"in t?t.minimumSpeedMultiplier:t.speed.minimumSpeedMultiplier)||1):(this.minimumSpeedMultiplier=1,this.startSpeed=new o(0,0));var n=t.acceleration;n&&(n.x||n.y)?(this.startSpeed.next=null,this.acceleration=new a.Point(n.x,n.y),this.maxSpeed=t.maxSpeed||NaN):this.acceleration=new a.Point,t.scale?(this.startScale=o.createList(t.scale),this.minimumScaleMultiplier=("minimumScaleMultiplier"in t?t.minimumScaleMultiplier:t.scale.minimumScaleMultiplier)||1):(this.startScale=new o(1,0),this.minimumScaleMultiplier=1),t.color?this.startColor=o.createList(t.color):this.startColor=new o({r:255,g:255,b:255},0),t.startRotation?(this.minStartRotation=t.startRotation.min,this.maxStartRotation=t.startRotation.max):this.minStartRotation=this.maxStartRotation=0,t.noRotation&&(this.minStartRotation||this.maxStartRotation)?this.noRotation=!!t.noRotation:this.noRotation=!1,t.rotationSpeed?(this.minRotationSpeed=t.rotationSpeed.min,this.maxRotationSpeed=t.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0,this.rotationAcceleration=t.rotationAcceleration||0,this.minLifetime=t.lifetime.min,this.maxLifetime=t.lifetime.max,this.particleBlendMode=i.getBlendMode(t.blendMode),t.ease?this.customEase="function"===typeof t.ease?t.ease:i.generateEase(t.ease):this.customEase=null,r.parseData?this.extraData=r.parseData(t.extraData):this.extraData=t.extraData||null,this.spawnRect=this.spawnCircle=null,this.particlesPerWave=1,t.particlesPerWave&&t.particlesPerWave>1&&(this.particlesPerWave=t.particlesPerWave),this.particleSpacing=0,this.angleStart=0,this.parseSpawnType(t),this.frequency=t.frequency,this.spawnChance="number"===typeof t.spawnChance&&t.spawnChance>0?t.spawnChance:1,this.emitterLifetime=t.emitterLifetime||-1,this.maxParticles=t.maxParticles>0?t.maxParticles:1e3,this.addAtBack=!!t.addAtBack,this.rotation=0,this.ownerPos=new a.Point,this.spawnPos=new a.Point(t.pos.x,t.pos.y),this.initAdditional(e,t),this._prevEmitterPos=this.spawnPos.clone(),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=void 0===t.emit||!!t.emit,this.autoUpdate=!!t.autoUpdate,this.orderedArt=!!t.orderedArt}},e.prototype.initAdditional=function(e,t){},e.prototype.parseSpawnType=function(e){var t;switch(e.spawnType){case"rect":this.spawnType="rect",this._spawnFunc=this._spawnRect;var r=e.spawnRect;this.spawnRect=new a.Rectangle(r.x,r.y,r.w,r.h);break;case"circle":this.spawnType="circle",this._spawnFunc=this._spawnCircle,t=e.spawnCircle,this.spawnCircle=new a.Circle(t.x,t.y,t.r);break;case"ring":this.spawnType="ring",this._spawnFunc=this._spawnRing,t=e.spawnCircle,this.spawnCircle=new a.Circle(t.x,t.y,t.r),this.spawnCircle.minRadius=t.minR;break;case"burst":this.spawnType="burst",this._spawnFunc=this._spawnBurst,this.particleSpacing=e.particleSpacing,this.angleStart=e.angleStart?e.angleStart:0;break;case"point":this.spawnType="point",this._spawnFunc=this._spawnPoint;break;case"polygonalChain":this.spawnType="polygonalChain",this._spawnFunc=this._spawnPolygonalChain,this.spawnPolygonalChain=new _(e.spawnPolygon);break;default:this.spawnType="point",this._spawnFunc=this._spawnPoint}},e.prototype.recycle=function(e){e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===this._activeParticlesLast&&(this._activeParticlesLast=e.prev),e===this._activeParticlesFirst&&(this._activeParticlesFirst=e.next),e.prev=null,e.next=this._poolFirst,this._poolFirst=e,e.parent&&e.parent.removeChild(e),--this.particleCount},e.prototype.rotate=function(e){if(this.rotation!==e){var t=e-this.rotation;this.rotation=e,i.rotatePoint(t,this.spawnPos),this._posChanged=!0}},e.prototype.updateSpawnPos=function(e,t){this._posChanged=!0,this.spawnPos.x=e,this.spawnPos.y=t},e.prototype.updateOwnerPos=function(e,t){this._posChanged=!0,this.ownerPos.x=e,this.ownerPos.y=t},e.prototype.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(e.prototype,"emit",{get:function(){return this._emit},set:function(e){this._emit=!!e,this._emitterLife=this.emitterLifetime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){this._autoUpdate&&!e?g.remove(this.update,this):!this._autoUpdate&&e&&g.add(this.update,this),this._autoUpdate=!!e},enumerable:!0,configurable:!0}),e.prototype.playOnceAndDestroy=function(e){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0,this._completeCallback=e},e.prototype.playOnce=function(e){this.emit=!0,this._completeCallback=e},e.prototype.update=function(e){if(this._autoUpdate&&(e=e/a.settings.TARGET_FPMS/1e3),this._parent){var t,r,n,i,o;for(r=this._activeParticlesFirst;r;r=n)n=r.next,r.update(e);this._prevPosIsValid&&(i=this._prevEmitterPos.x,o=this._prevEmitterPos.y);var s=this.ownerPos.x+this.spawnPos.x,u=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=e<0?0:e;this._spawnTimer<=0;){if(this._emitterLife>=0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles)this._spawnTimer+=this._frequency;else{var l=void 0;if(l=this.minLifetime===this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer<l){var c=void 0,h=void 0;if(this._prevPosIsValid&&this._posChanged){var d=1+this._spawnTimer/e;c=(s-i)*d+i,h=(u-o)*d+o}else c=s,h=u;t=0;for(var f=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount);t<f;++t)if(!(this.spawnChance<1&&Math.random()>=this.spawnChance)){var p=void 0;this._poolFirst?(p=this._poolFirst,this._poolFirst=this._poolFirst.next,p.next=null):p=new this.particleConstructor(this),this.particleImages.length>1?-1!==this._currentImageIndex?(p.applyArt(this.particleImages[this._currentImageIndex++]),(this._currentImageIndex<0||this._currentImageIndex>=this.particleImages.length)&&(this._currentImageIndex=0)):p.applyArt(this.particleImages[Math.floor(Math.random()*this.particleImages.length)]):p.applyArt(this.particleImages[0]),p.alphaList.reset(this.startAlpha),1!==this.minimumSpeedMultiplier&&(p.speedMultiplier=Math.random()*(1-this.minimumSpeedMultiplier)+this.minimumSpeedMultiplier),p.speedList.reset(this.startSpeed),p.acceleration.x=this.acceleration.x,p.acceleration.y=this.acceleration.y,p.maxSpeed=this.maxSpeed,1!==this.minimumScaleMultiplier&&(p.scaleMultiplier=Math.random()*(1-this.minimumScaleMultiplier)+this.minimumScaleMultiplier),p.scaleList.reset(this.startScale),p.colorList.reset(this.startColor),this.minRotationSpeed===this.maxRotationSpeed?p.rotationSpeed=this.minRotationSpeed:p.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,p.rotationAcceleration=this.rotationAcceleration,p.noRotation=this.noRotation,p.maxLife=l,p.blendMode=this.particleBlendMode,p.ease=this.customEase,p.extraData=this.extraData,this.applyAdditionalProperties(p),this._spawnFunc(p,c,h,t),p.init(),this.addAtBack?this._parent.addChildAt(p,0):this._parent.addChild(p),this._activeParticlesLast?(this._activeParticlesLast.next=p,p.prev=this._activeParticlesLast,this._activeParticlesLast=p):this._activeParticlesLast=this._activeParticlesFirst=p,++this.particleCount,p.update(-this._spawnTimer)}}this._spawnTimer+=this._frequency}}if(this._posChanged&&(this._prevEmitterPos.x=s,this._prevEmitterPos.y=u,this._prevPosIsValid=!0,this._posChanged=!1),!this._emit&&!this._activeParticlesFirst){if(this._completeCallback){var m=this._completeCallback;this._completeCallback=null,m()}this._destroyWhenComplete&&this.destroy()}}},e.prototype.applyAdditionalProperties=function(e){},e.prototype._spawnPoint=function(e,t,r){this.minStartRotation===this.maxStartRotation?e.rotation=this.minStartRotation+this.rotation:e.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,e.position.x=t,e.position.y=r},e.prototype._spawnRect=function(e,t,r){this.minStartRotation===this.maxStartRotation?e.rotation=this.minStartRotation+this.rotation:e.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,w.x=Math.random()*this.spawnRect.width+this.spawnRect.x,w.y=Math.random()*this.spawnRect.height+this.spawnRect.y,0!==this.rotation&&i.rotatePoint(this.rotation,w),e.position.x=t+w.x,e.position.y=r+w.y},e.prototype._spawnCircle=function(e,t,r){this.minStartRotation===this.maxStartRotation?e.rotation=this.minStartRotation+this.rotation:e.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,w.x=Math.random()*this.spawnCircle.radius,w.y=0,i.rotatePoint(360*Math.random(),w),w.x+=this.spawnCircle.x,w.y+=this.spawnCircle.y,0!==this.rotation&&i.rotatePoint(this.rotation,w),e.position.x=t+w.x,e.position.y=r+w.y},e.prototype._spawnRing=function(e,t,r){var n=this.spawnCircle;this.minStartRotation===this.maxStartRotation?e.rotation=this.minStartRotation+this.rotation:e.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,n.minRadius!==n.radius?w.x=Math.random()*(n.radius-n.minRadius)+n.minRadius:w.x=n.radius,w.y=0;var a=360*Math.random();e.rotation+=a,i.rotatePoint(a,w),w.x+=this.spawnCircle.x,w.y+=this.spawnCircle.y,0!==this.rotation&&i.rotatePoint(this.rotation,w),e.position.x=t+w.x,e.position.y=r+w.y},e.prototype._spawnPolygonalChain=function(e,t,r){this.minStartRotation===this.maxStartRotation?e.rotation=this.minStartRotation+this.rotation:e.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,this.spawnPolygonalChain.getRandomPoint(w),0!==this.rotation&&i.rotatePoint(this.rotation,w),e.position.x=t+w.x,e.position.y=r+w.y},e.prototype._spawnBurst=function(e,t,r,n){0===this.particleSpacing?e.rotation=360*Math.random():e.rotation=this.angleStart+this.particleSpacing*n+this.rotation,e.position.x=t,e.position.y=r},e.prototype.cleanup=function(){var e,t;for(e=this._activeParticlesFirst;e;e=t)t=e.next,this.recycle(e),e.parent&&e.parent.removeChild(e);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0},e.prototype.destroy=function(){var e;this.autoUpdate=!1,this.cleanup();for(var t=this._poolFirst;t;t=e)e=t.next,t.destroy();this._poolFirst=this._parent=this.particleImages=this.spawnPos=this.ownerPos=this.startColor=this.startScale=this.startAlpha=this.startSpeed=this.customEase=this._completeCallback=null},e}(),S=new a.Point,E=["pow","sqrt","abs","floor","round","ceil","E","PI","sin","cos","tan","asin","acos","atan","atan2","log"],M=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(E).join("|"),"g");(function(e){function t(t){var r=e.call(this,t)||this;return r.path=null,r.initialRotation=0,r.initialPosition=new a.Point,r.movement=0,r}c(t,e),t.prototype.init=function(){this.initialRotation=this.rotation,this.Particle_init(),this.path=this.extraData.path,this._doNormalMovement=!this.path,this.movement=0,this.initialPosition.x=this.position.x,this.initialPosition.y=this.position.y},t.prototype.update=function(e){var t=this.Particle_update(e);if(t>=0&&this.path){if(this._doSpeed){var r=this.speedList.interpolate(t)*this.speedMultiplier;this.movement+=r*e}else{r=this.speedList.current.value*this.speedMultiplier;this.movement+=r*e}S.x=this.movement,S.y=this.path(this.movement),i.rotatePoint(this.initialRotation,S),this.position.x=this.initialPosition.x+S.x,this.position.y=this.initialPosition.y+S.y}return t},t.prototype.destroy=function(){this.Particle_destroy(),this.path=this.initialPosition=null},t.parseArt=function(e){return b.parseArt(e)},t.parseData=function(e){var t={};if(e&&e.path)try{t.path=function(e){for(var t=e.match(M),r=t.length-1;r>=0;--r)E.indexOf(t[r])>=0&&(t[r]="Math."+t[r]);return e=t.join(""),new Function("x","return "+e+";")}(e.path)}catch(r){i.verbose&&console.error("PathParticle: error in parsing path expression"),t.path=null}else i.verbose&&console.error("PathParticle requires a path string in extraData!"),t.path=null;return t}})(b),function(e){function t(t){var r=e.call(this,t)||this;return r.textures=null,r.duration=0,r.framerate=0,r.elapsed=0,r.loop=!1,r}c(t,e),t.prototype.init=function(){this.Particle_init(),this.elapsed=0,this.framerate<0&&(this.duration=this.maxLife,this.framerate=this.textures.length/this.duration)},t.prototype.applyArt=function(e){this.textures=e.textures,this.framerate=e.framerate,this.duration=e.duration,this.loop=e.loop},t.prototype.update=function(e){var t=this.Particle_update(e);if(t>=0){this.elapsed+=e,this.elapsed>this.duration&&(this.loop?this.elapsed=this.elapsed%this.duration:this.elapsed=this.duration-1e-6);var r=this.elapsed*this.framerate+1e-7|0;this.texture=this.textures[r]||a.Texture.EMPTY}return t},t.prototype.destroy=function(){this.Particle_destroy(),this.textures=null},t.parseArt=function(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=t[r]={},o=i.textures=[],s=n.textures,l=0;l<s.length;++l){var c=s[l];if("string"===typeof c)o.push(u(c));else if(c instanceof a.Texture)o.push(c);else{var h=c.count||1;for(c="string"===typeof c.texture?u(c.texture):c.texture;h>0;--h)o.push(c)}}"matchLife"===n.framerate?(i.framerate=-1,i.duration=0,i.loop=!1):(i.loop=!!n.loop,i.framerate=n.framerate>0?n.framerate:60,i.duration=o.length/i.framerate)}return t}}(b),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._firstChild=null,t._lastChild=null,t._childCount=0,t}c(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childCount",{get:function(){return this._childCount},enumerable:!0,configurable:!0}),t.prototype.addChild=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>1)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this._lastChild?(this._lastChild.nextChild=n,n.prevChild=this._lastChild,this._lastChild=n):this._firstChild=this._lastChild=n,++this._childCount,this._boundsID++,this.onChildrenChange(),this.emit("childAdded",n,this,this._childCount),n.emit("added",this)}return e[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this._childCount)throw new Error("addChildAt: The index "+t+" supplied is out of bounds "+this._childCount);e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1;var r=e;if(this._firstChild)if(0===t)this._firstChild.prevChild=r,r.nextChild=this._firstChild,this._firstChild=r;else if(t===this._childCount)this._lastChild.nextChild=r,r.prevChild=this._lastChild,this._lastChild=r;else{for(var n=0,i=this._firstChild;n<t;)i=i.nextChild,++n;i.prevChild.nextChild=r,r.prevChild=i.prevChild,r.nextChild=i,i.prevChild=r}else this._firstChild=this._lastChild=r;return++this._childCount,this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.addChildBelow=function(e,t){if(t.parent!==this)throw new Error("addChildBelow: The relative target must be a child of this parent");return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,t.prevChild.nextChild=e,e.prevChild=t.prevChild,e.nextChild=t,t.prevChild=e,this._firstChild===t&&(this._firstChild=e),++this._childCount,this._boundsID++,this.onChildrenChange(),this.emit("childAdded",e,this,this._childCount),e.emit("added",this),e},t.prototype.addChildAbove=function(e,t){if(t.parent!==this)throw new Error("addChildBelow: The relative target must be a child of this parent");return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,t.nextChild.prevChild=e,e.nextChild=t.nextChild,e.prevChild=t,t.nextChild=e,this._lastChild===t&&(this._lastChild=e),++this._childCount,this._boundsID++,this.onChildrenChange(),this.emit("childAdded",e,this,this._childCount),e.emit("added",this),e},t.prototype.swapChildren=function(e,t){if(e!==t&&e.parent===this&&t.parent===this){var r=e,n=r.prevChild,i=r.nextChild;e.prevChild=t.prevChild,e.nextChild=t.nextChild,t.prevChild=n,t.nextChild=i,this._firstChild===e?this._firstChild=t:this._firstChild===t&&(this._firstChild=e),this._lastChild===e?this._lastChild=t:this._lastChild===t&&(this._lastChild=e),this.onChildrenChange()}},t.prototype.getChildIndex=function(e){for(var t=0,r=this._firstChild;r&&r!==e;)r=r.nextChild,++t;if(!r)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this._childCount)throw new Error("The index "+t+" supplied is out of bounds "+this._childCount);if(e.parent!==this)throw new Error("The supplied DisplayObject must be a child of the caller");if(e.nextChild&&(e.nextChild.prevChild=e.prevChild),e.prevChild&&(e.prevChild.nextChild=e.nextChild),this._firstChild===e&&(this._firstChild=e.nextChild),this._lastChild===e&&(this._lastChild=e.prevChild),e.nextChild=null,e.prevChild=null,this._firstChild)if(0===t)this._firstChild.prevChild=e,e.nextChild=this._firstChild,this._firstChild=e;else if(t===this._childCount)this._lastChild.nextChild=e,e.prevChild=this._lastChild,this._lastChild=e;else{for(var r=0,n=this._firstChild;r<t;)n=n.nextChild,++r;n.prevChild.nextChild=e,e.prevChild=n.prevChild,e.nextChild=n,n.prevChild=e}else this._firstChild=this._lastChild=e;this.onChildrenChange(t)},t.prototype.removeChild=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var n=e[0];if(n.parent!==this)return null;n.parent=null,n.transform._parentID=-1,n.nextChild&&(n.nextChild.prevChild=n.prevChild),n.prevChild&&(n.prevChild.nextChild=n.nextChild),this._firstChild===n&&(this._firstChild=n.nextChild),this._lastChild===n&&(this._lastChild=n.prevChild),n.nextChild=null,n.prevChild=null,--this._childCount,this._boundsID++,this.onChildrenChange(),n.emit("removed",this),this.emit("childRemoved",n,this)}return e[0]},t.prototype.getChildAt=function(e){if(e<0||e>=this._childCount)throw new Error("getChildAt: Index ("+e+") does not exist.");if(0===e)return this._firstChild;if(e===this._childCount)return this._lastChild;for(var t=0,r=this._firstChild;t<e;)r=r.nextChild,++t;return r},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,t.nextChild&&(t.nextChild.prevChild=t.prevChild),t.prevChild&&(t.prevChild.nextChild=t.nextChild),this._firstChild===t&&(this._firstChild=t.nextChild),this._lastChild===t&&(this._lastChild=t.prevChild),t.nextChild=null,t.prevChild=null,--this._childCount,this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this._childCount);var r=e,n=t,i=n-r;if(i>0&&i<=n){for(var a=[],o=this._firstChild,s=0;s<=n&&o;++s,o=o.nextChild)s>=r&&a.push(o);var u=a[0].prevChild,l=a[a.length-1].nextChild;l?l.prevChild=u:this._lastChild=u,u?u.nextChild=l:this._firstChild=l;for(s=0;s<a.length;++s)a[s].parent=null,a[s].transform&&(a[s].transform._parentID=-1),a[s].nextChild=null,a[s].prevChild=null;this._boundsID++,this.onChildrenChange(e);for(s=0;s<a.length;++s)a[s].emit("removed",this),this.emit("childRemoved",a[s],this,s);return a}if(0===i&&0===this._childCount)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.updateTransform=function(){var e,t;for(this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,e=this._firstChild;e;e=t)t=e.nextChild,e.visible&&e.updateTransform()},t.prototype.calculateBounds=function(){var e,t;for(this._bounds.clear(),this._calculateBounds(),e=this._firstChild;e;e=t)if(t=e.nextChild,e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds);this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(e,t){void 0===t&&(t=!1);var r=a.DisplayObject.prototype.getLocalBounds.call(this,e);if(!t){var n=void 0,i=void 0;for(n=this._firstChild;n;n=i)i=n.nextChild,n.visible&&n.updateTransform()}return r},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);var t=void 0,r=void 0;for(t=this._firstChild;t;t=r)r=t.nextChild,t.render(e)}},t.prototype.renderAdvanced=function(e){e.batch.flush();var t,r,n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}for(i&&e.mask.push(this,this._mask),this._render(e),t=this._firstChild;t;t=r)r=t.nextChild,t.render(e);e.batch.flush(),i&&e.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype.renderWebGL=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);var t=void 0,r=void 0;for(t=this._firstChild;t;t=r)r=t.nextChild,t.renderWebGL(e)}},t.prototype.renderAdvancedWebGL=function(e){e.flush();var t,r,n=this._filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}for(i&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e),t=this._firstChild;t;t=r)r=t.nextChild,t.renderWebGL(e);e.flush(),i&&e.maskManager.popMask(this,this._mask),n&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},t.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var t,r;for(this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e),t=this._firstChild;t;t=r)r=t.nextChild,t.renderCanvas(e);this._mask&&e.maskManager.popMask(e)}}}(a.Container)},function(e,t,r){"use strict";r.d(t,"a",(function(){return Ee}));var n=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,i=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,a=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,o=/(^[#\.][a-z]|[a-y][a-z])/i,s=Math.PI/180,u=180/Math.PI,l=Math.sin,c=Math.cos,h=Math.abs,d=Math.sqrt,f=Math.atan2,p=1e8,m=function(e){return"string"===typeof e},v=function(e){return"number"===typeof e},g={},y={},b=1e5,_=function(e){return Math.round((e+p)%1*b)/b||(e<0?0:1)},x=function(e){return Math.round(e*b)/b||0},w=function(e,t,r,n){var i=e[t],a=1===n?6:L(i,r,n);if(a&&a+r+2<i.length)return e.splice(t,0,i.slice(0,r+a+2)),i.splice(0,r+a),1},T=function(e,t){return t.totalLength=e.totalLength,e.samples?(t.samples=e.samples.slice(0),t.lookup=e.lookup.slice(0),t.minLength=e.minLength,t.resolution=e.resolution):t.totalPoints=e.totalPoints,t},S=function(e,t){var r=e.length,n=e[r-1]||[],i=n.length;t[0]===n[i-2]&&t[1]===n[i-1]&&(t=n.concat(t.slice(2)),r--),e[r]=t};function E(e){var t,r=(e=m(e)&&o.test(e)&&document.querySelector(e)||e).getAttribute?e:0;return r&&(e=e.getAttribute("d"))?(r._gsPath||(r._gsPath={}),(t=r._gsPath[e])&&!t._dirty?t:r._gsPath[e]=z(e)):e?m(e)?z(e):v(e[0])?[e]:e:console.warn("Expecting a <path> element or an SVG path data string")}function M(e){var t,r=0;for(e.reverse();r<e.length;r+=2)t=e[r],e[r]=e[r+1],e[r+1]=t;e.reversed=!e.reversed}var P={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"};function A(e,t){var r,n,a,o,s,u,l,c,h,d,f,p,m,v,g,y,b,_,x,w,T,S,E=e.tagName.toLowerCase(),M=.552284749831;return"path"!==E&&e.getBBox?(u=function(e,t){var r,n=document.createElementNS("http://www.w3.org/2000/svg","path"),i=[].slice.call(e.attributes),a=i.length;for(t=","+t+",";--a>-1;)r=i[a].nodeName.toLowerCase(),t.indexOf(","+r+",")<0&&n.setAttributeNS(null,r,i[a].nodeValue);return n}(e,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),S=function(e,t){for(var r=t?t.split(","):[],n={},i=r.length;--i>-1;)n[r[i]]=+e.getAttribute(r[i])||0;return n}(e,P[E]),"rect"===E?(o=S.rx,s=S.ry||o,n=S.x,a=S.y,d=S.width-2*o,f=S.height-2*s,r=o||s?"M"+(y=(v=(m=n+o)+d)+o)+","+(_=a+s)+" V"+(x=_+f)+" C"+[y,w=x+s*M,g=v+o*M,T=x+s,v,T,v-(v-m)/3,T,m+(v-m)/3,T,m,T,p=n+o*(1-M),T,n,w,n,x,n,x-(x-_)/3,n,_+(x-_)/3,n,_,n,b=a+s*(1-M),p,a,m,a,m+(v-m)/3,a,v-(v-m)/3,a,v,a,g,a,y,b,y,_].join(",")+"z":"M"+(n+d)+","+a+" v"+f+" h"+-d+" v"+-f+" h"+d+"z"):"circle"===E||"ellipse"===E?("circle"===E?c=(o=s=S.r)*M:(o=S.rx,c=(s=S.ry)*M),r="M"+((n=S.cx)+o)+","+(a=S.cy)+" C"+[n+o,a+c,n+(l=o*M),a+s,n,a+s,n-l,a+s,n-o,a+c,n-o,a,n-o,a-c,n-l,a-s,n,a-s,n+l,a-s,n+o,a-c,n+o,a].join(",")+"z"):"line"===E?r="M"+S.x1+","+S.y1+" L"+S.x2+","+S.y2:"polyline"!==E&&"polygon"!==E||(r="M"+(n=(h=(e.getAttribute("points")+"").match(i)||[]).shift())+","+(a=h.shift())+" L"+h.join(","),"polygon"===E&&(r+=","+n+","+a+"z")),u.setAttribute("d",j(u._gsRawPath=z(r))),t&&e.parentNode&&(e.parentNode.insertBefore(u,e),e.parentNode.removeChild(e)),u):e}function C(e,t,r){var n,i=e[t],a=e[t+2],o=e[t+4];return i+=(a-i)*r,i+=((a+=(o-a)*r)-i)*r,n=a+(o+(e[t+6]-o)*r-a)*r-i,i=e[t+1],i+=((a=e[t+3])-i)*r,i+=((a+=((o=e[t+5])-a)*r)-i)*r,x(f(a+(o+(e[t+7]-o)*r-a)*r-i,n)*u)}function O(e,t,r){"undefined"===typeof r&&(r=1);var n=(t=t||0)>r,i=Math.max(0,~~(h(r-t)-1e-8));if(n&&(n=r,r=t,t=n,n=1,i-=i?1:0),t<0||r<0){var a=1+~~Math.min(t,r);t+=a,r+=a}var o,s,u,l,c,d,f,p=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=T(e[r],e[r].slice(0));return T(e,t)}(e.totalLength?e:R(e)),m=r>1,v=I(p,t,g,!0),b=I(p,r,y),_=b.segment,x=v.segment,E=b.segIndex,P=v.segIndex,A=b.i,O=v.i,k=P===E,D=A===O&&k,N=k&&O>A||D&&v.t>b.t;if(m||i){if(w(p,P,O,v.t)&&(o=1,P++,D?N?b.t/=v.t:(b.t=(b.t-v.t)/(1-v.t),E++,A=0):P<=E+1&&!N&&(E++,k&&(A-=O))),b.t?w(p,E,A,b.t)&&(N&&o&&P++,n&&E++):(E--,n&&P--),l=[],d=1+(c=p.length)*i,f=P,n)for(d+=(c-(E=(E||c)-1)+P)%c,u=0;u<d;u++)S(l,p[f]),f=(f||c)-1;else for(d+=(c-P+E)%c,u=0;u<d;u++)S(l,p[f++%c]);p=l}else if(s=1===b.t?6:L(_,A,b.t),t!==r)for(o=L(x,O,D?v.t/b.t:v.t),k&&(s+=o),_.splice(A+s+2),(o||O)&&x.splice(0,O+o),u=p.length;u--;)(u<P||u>E)&&p.splice(u,1);else _.angle=C(_,A+s,0),v=_[A+=s],b=_[A+1],_.length=_.totalLength=0,_.totalPoints=p.totalPoints=8,_.push(v,b,v,b,v,b,v,b);return n&&function(e,t){var r=e.length;for(t||e.reverse();r--;)e[r].reversed||M(e[r])}(p,m||i),p.totalLength=0,p}function k(e,t,r){t=t||0,e.samples||(e.samples=[],e.lookup=[]);var n,i,a,o,s,u,l,c,f,m,v,g,y,b,_,x,w,T=~~e.resolution||12,S=1/T,E=r?t+6*r+1:e.length,M=e[t],P=e[t+1],A=t?t/6*T:0,C=e.samples,O=e.lookup,k=(t?e.minLength:p)||p,R=C[A+r*T-1],L=t?C[A-1]:0;for(C.length=O.length=0,i=t+2;i<E;i+=6){if(a=e[i+4]-M,o=e[i+2]-M,s=e[i]-M,c=e[i+5]-P,f=e[i+3]-P,m=e[i+1]-P,u=l=v=g=0,h(a)<1e-5&&h(c)<1e-5&&h(s)+h(m)<1e-5)e.length>8&&(e.splice(i,6),i-=6,E-=6);else for(n=1;n<=T;n++)u=l-(l=((b=S*n)*b*a+3*(y=1-b)*(b*o+y*s))*b),v=g-(g=(b*b*c+3*y*(b*f+y*m))*b),(x=d(v*v+u*u))<k&&(k=x),L+=x,C[A++]=L;M+=a,P+=c}if(R)for(R-=L;A<C.length;A++)C[A]+=R;if(C.length&&k)for(e.totalLength=w=C[C.length-1]||0,e.minLength=k,x=_=0,n=0;n<w;n+=k)O[x++]=C[_]<n?++_:_;else e.totalLength=C[0]=0;return t?L-C[t/2-1]:L}function R(e,t){var r,n,i;for(i=r=n=0;i<e.length;i++)e[i].resolution=~~t||12,n+=e[i].length,r+=k(e[i]);return e.totalPoints=n,e.totalLength=r,e}function L(e,t,r){if(r<=0||r>=1)return 0;var n=e[t],i=e[t+1],a=e[t+2],o=e[t+3],s=e[t+4],u=e[t+5],l=n+(a-n)*r,c=a+(s-a)*r,h=i+(o-i)*r,d=o+(u-o)*r,f=l+(c-l)*r,p=h+(d-h)*r,m=s+(e[t+6]-s)*r,v=u+(e[t+7]-u)*r;return c+=(m-c)*r,d+=(v-d)*r,e.splice(t+2,4,x(l),x(h),x(f),x(p),x(f+(c-f)*r),x(p+(d-p)*r),x(c),x(d),x(m),x(v)),e.samples&&e.samples.splice(t/6*e.resolution|0,0,0,0,0,0,0,0),6}function I(e,t,r,n){r=r||{},e.totalLength||R(e),(t<0||t>1)&&(t=_(t));var i,a,o,s,u,l,c,h=0,d=e[0];if(e.length>1){for(o=e.totalLength*t,u=l=0;(u+=e[l++].totalLength)<o;)h=l;t=(o-(s=u-(d=e[h]).totalLength))/(u-s)||0}return i=d.samples,a=d.resolution,o=d.totalLength*t,s=(l=d.lookup[~~(o/d.minLength)]||0)?i[l-1]:0,(u=i[l])<o&&(s=u,u=i[++l]),c=1/a*((o-s)/(u-s)+l%a),l=6*~~(l/a),n&&1===c&&(l+6<d.length?(l+=6,c=0):h+1<e.length&&(l=c=0,d=e[++h])),r.t=c,r.i=l,r.path=e,r.segment=d,r.segIndex=h,r}function D(e,t,r,n){var i,a,o,s,u,l,c,h,d,f=e[0],p=n||{};if((t<0||t>1)&&(t=_(t)),e.length>1){for(o=e.totalLength*t,u=l=0;(u+=e[l++].totalLength)<o;)f=e[l];t=(o-(s=u-f.totalLength))/(u-s)||0}return i=f.samples,a=f.resolution,o=f.totalLength*t,s=(l=f.lookup[~~(o/f.minLength)]||0)?i[l-1]:0,(u=i[l])<o&&(s=u,u=i[++l]),d=1-(c=1/a*((o-s)/(u-s)+l%a)||0),h=f[l=6*~~(l/a)],p.x=x((c*c*(f[l+6]-h)+3*d*(c*(f[l+4]-h)+d*(f[l+2]-h)))*c+h),p.y=x((c*c*(f[l+7]-(h=f[l+1]))+3*d*(c*(f[l+5]-h)+d*(f[l+3]-h)))*c+h),r&&(p.angle=f.totalLength?C(f,l,c>=1?1-1e-9:c||1e-9):f.angle||0),p}function N(e,t,r,n,i,a,o){for(var s,u,l,c,h,d=e.length;--d>-1;)for(u=(s=e[d]).length,l=0;l<u;l+=2)c=s[l],h=s[l+1],s[l]=c*t+h*n+a,s[l+1]=c*r+h*i+o;return e._dirty=1,e}function F(e,t,r,n,i,a,o,u,f){if(e!==u||t!==f){r=h(r),n=h(n);var p=i%360*s,m=c(p),v=l(p),g=Math.PI,y=2*g,b=(e-u)/2,_=(t-f)/2,x=m*b+v*_,w=-v*b+m*_,T=x*x,S=w*w,E=T/(r*r)+S/(n*n);E>1&&(r=d(E)*r,n=d(E)*n);var M=r*r,P=n*n,A=(M*P-M*S-P*T)/(M*S+P*T);A<0&&(A=0);var C=(a===o?-1:1)*d(A),O=C*(r*w/n),k=C*(-n*x/r),R=(e+u)/2+(m*O-v*k),L=(t+f)/2+(v*O+m*k),I=(x-O)/r,D=(w-k)/n,N=(-x-O)/r,F=(-w-k)/n,z=I*I+D*D,B=(D<0?-1:1)*Math.acos(I/d(z)),U=(I*F-D*N<0?-1:1)*Math.acos((I*N+D*F)/d(z*(N*N+F*F)));isNaN(U)&&(U=g),!o&&U>0?U-=y:o&&U<0&&(U+=y),B%=y,U%=y;var j,H=Math.ceil(h(U)/(y/4)),G=[],V=U/H,W=4/3*l(V/2)/(1+c(V/2)),X=m*r,Y=v*r,q=v*-n,Z=m*n;for(j=0;j<H;j++)x=c(i=B+j*V),w=l(i),I=c(i+=V),D=l(i),G.push(x-W*w,w+W*x,I+W*D,D-W*I,I,D);for(j=0;j<G.length;j+=2)x=G[j],w=G[j+1],G[j]=x*X+w*q+R,G[j+1]=x*Y+w*Z+L;return G[j-2]=u,G[j-1]=f,G}}function z(e){var t,r,i,o,s,u,l,c,d,f,p,m,v,g,y,b=(e+"").replace(a,(function(e){var t=+e;return t<1e-4&&t>-1e-4?0:t})).match(n)||[],_=[],x=0,w=0,T=2/3,S=b.length,E=0,M="ERROR: malformed path: "+e,P=function(e,t,r,n){f=(r-e)/3,p=(n-t)/3,l.push(e+f,t+p,r-f,n-p,r,n)};if(!e||!isNaN(b[0])||isNaN(b[1]))return console.log(M),_;for(t=0;t<S;t++)if(v=s,isNaN(b[t])?u=(s=b[t].toUpperCase())!==b[t]:t--,i=+b[t+1],o=+b[t+2],u&&(i+=x,o+=w),t||(c=i,d=o),"M"===s)l&&(l.length<8?_.length-=1:E+=l.length),x=c=i,w=d=o,l=[i,o],_.push(l),t+=2,s="L";else if("C"===s)l||(l=[0,0]),u||(x=w=0),l.push(i,o,x+1*b[t+3],w+1*b[t+4],x+=1*b[t+5],w+=1*b[t+6]),t+=6;else if("S"===s)f=x,p=w,"C"!==v&&"S"!==v||(f+=x-l[l.length-4],p+=w-l[l.length-3]),u||(x=w=0),l.push(f,p,i,o,x+=1*b[t+3],w+=1*b[t+4]),t+=4;else if("Q"===s)f=x+(i-x)*T,p=w+(o-w)*T,u||(x=w=0),x+=1*b[t+3],w+=1*b[t+4],l.push(f,p,x+(i-x)*T,w+(o-w)*T,x,w),t+=4;else if("T"===s)f=x-l[l.length-4],p=w-l[l.length-3],l.push(x+f,w+p,i+(x+1.5*f-i)*T,o+(w+1.5*p-o)*T,x=i,w=o),t+=2;else if("H"===s)P(x,w,x=i,w),t+=1;else if("V"===s)P(x,w,x,w=i+(u?w-x:0)),t+=1;else if("L"===s||"Z"===s)"Z"===s&&(i=c,o=d,l.closed=!0),("L"===s||h(x-i)>.5||h(w-o)>.5)&&(P(x,w,i,o),"L"===s&&(t+=2)),x=i,w=o;else if("A"===s){if(g=b[t+4],y=b[t+5],f=b[t+6],p=b[t+7],r=7,g.length>1&&(g.length<3?(p=f,f=y,r--):(p=y,f=g.substr(2),r-=2),y=g.charAt(1),g=g.charAt(0)),m=F(x,w,+b[t+1],+b[t+2],+b[t+3],+g,+y,(u?x:0)+1*f,(u?w:0)+1*p),t+=r,m)for(r=0;r<m.length;r++)l.push(m[r]);x=l[l.length-2],w=l[l.length-1]}else console.log(M);return(t=l.length)<6?(_.pop(),t=0):l[0]===l[t-2]&&l[1]===l[t-1]&&(l.closed=!0),_.totalPoints=E+t,_}function B(e,t){void 0===t&&(t=1);for(var r=e[0],n=0,i=[r,n],a=2;a<e.length;a+=2)i.push(r,n,e[a],n=(e[a]-r)*t/2,r=e[a],-n);return i}function U(e,t,r){var n,i,a,o,s,u,h,p,m,v,g,y,b,_,w=e.length-2,T=+e[0],S=+e[1],E=+e[2],M=+e[3],P=[T,S,T,S],A=E-T,C=M-S,O=Math.abs(e[w]-T)<.001&&Math.abs(e[w+1]-S)<.001;for(isNaN(r)&&(r=Math.PI/10),O&&(e.push(E,M),E=T,M=S,T=e[w-2],S=e[w-1],e.unshift(T,S),w+=4),t=t||0===t?+t:1,s=2;s<w;s+=2)n=T,i=S,T=E,S=M,y=(u=A)*u+(p=C)*p,b=(A=(E=+e[s+2])-T)*A+(C=(M=+e[s+3])-S)*C,_=(h=E-n)*h+(m=M-i)*m,g=(a=Math.acos((y+b-_)/d(4*y*b)))/Math.PI*t,v=d(y)*g,g*=d(b),T===n&&S===i||(a>r?(o=f(m,h),P.push(x(T-c(o)*v),x(S-l(o)*v),x(T),x(S),x(T+c(o)*g),x(S+l(o)*g))):(o=f(p,u),P.push(x(T-c(o)*v),x(S-l(o)*v)),o=f(C,A),P.push(x(T),x(S),x(T+c(o)*g),x(S+l(o)*g))));return P.push(x(E),x(M),x(E),x(M)),O&&(P.splice(0,6),P.length=P.length-6),P}function j(e){v(e[0])&&(e=[e]);var t,r,n,i,a="",o=e.length;for(r=0;r<o;r++){for(i=e[r],a+="M"+x(i[0])+","+x(i[1])+" C",t=i.length,n=2;n<t;n++)a+=x(i[n++])+","+x(i[n++])+" "+x(i[n++])+","+x(i[n++])+" "+x(i[n++])+","+x(i[n])+" ";i.closed&&(a+="z")}return a}var H,G,V,W,X,Y,q,Z,J="transform",Q=J+"Origin",K=function(e){var t=e.ownerDocument||e;!(J in e.style)&&"msTransform"in e.style&&(Q=(J="msTransform")+"Origin");for(;t.parentNode&&(t=t.parentNode););if(G=window,q=new oe,t){H=t,V=t.documentElement,W=t.body;var r=t.createElement("div"),n=t.createElement("div");W.appendChild(r),r.appendChild(n),r.style.position="static",r.style[J]="translate3d(0,0,1px)",Z=n.offsetParent!==r,W.removeChild(r)}return t},$=[],ee=[],te=function(e){return e.ownerSVGElement||("svg"===(e.tagName+"").toLowerCase()?e:null)},re=function e(t){return"fixed"===G.getComputedStyle(t).position||((t=t.parentNode)&&1===t.nodeType?e(t):void 0)},ne=function e(t,r){if(t.parentNode&&(H||K(t))){var n=te(t),i=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",a=n?r?"rect":"g":"div",o=2!==r?0:100,s=3===r?100:0,u="position:absolute;display:block;pointer-events:none;",l=H.createElementNS?H.createElementNS(i.replace(/^https/,"http"),a):H.createElement(a);return r&&(n?(Y||(Y=e(t)),l.setAttribute("width",.01),l.setAttribute("height",.01),l.setAttribute("transform","translate("+o+","+s+")"),Y.appendChild(l)):(X||((X=e(t)).style.cssText=u),l.style.cssText=u+"width:0.1px;height:0.1px;top:"+s+"px;left:"+o+"px",X.appendChild(l))),l}throw"Need document and parent."},ie=function(e,t){var r,n,i,a,o,s=te(e),u=e===s,l=s?$:ee;if(e===G)return e;if(l.length||l.push(ne(e,1),ne(e,2),ne(e,3)),r=s?Y:X,s)i=u?{x:0,y:0}:e.getBBox(),(n=e.transform?e.transform.baseVal:{}).numberOfItems?(a=(n=n.numberOfItems>1?function(e){for(var t=new oe,r=0;r<e.numberOfItems;r++)t.multiply(e.getItem(r).matrix);return t}(n):n.getItem(0).matrix).a*i.x+n.c*i.y,o=n.b*i.x+n.d*i.y):(n=q,a=i.x,o=i.y),t&&"g"===e.tagName.toLowerCase()&&(a=o=0),r.setAttribute("transform","matrix("+n.a+","+n.b+","+n.c+","+n.d+","+(n.e+a)+","+(n.f+o)+")"),(u?s:e.parentNode).appendChild(r);else{if(a=o=0,Z)for(n=e.offsetParent,i=e;i&&(i=i.parentNode)&&i!==n&&i.parentNode;)(G.getComputedStyle(i)[J]+"").length>4&&(a=i.offsetLeft,o=i.offsetTop,i=0);(i=r.style).top=e.offsetTop-o+"px",i.left=e.offsetLeft-a+"px",n=G.getComputedStyle(e),i[J]=n[J],i[Q]=n[Q],i.border=n.border,i.borderLeftStyle=n.borderLeftStyle,i.borderTopStyle=n.borderTopStyle,i.borderLeftWidth=n.borderLeftWidth,i.borderTopWidth=n.borderTopWidth,i.position="fixed"===n.position?"fixed":"absolute",e.parentNode.appendChild(r)}return r},ae=function(e,t,r,n,i,a,o){return e.a=t,e.b=r,e.c=n,e.d=i,e.e=a,e.f=o,e},oe=function(){function e(e,t,r,n,i,a){void 0===e&&(e=1),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===a&&(a=0),ae(this,e,t,r,n,i,a)}var t=e.prototype;return t.inverse=function(){var e=this.a,t=this.b,r=this.c,n=this.d,i=this.e,a=this.f,o=e*n-t*r||1e-10;return ae(this,n/o,-t/o,-r/o,e/o,(r*a-n*i)/o,-(e*a-t*i)/o)},t.multiply=function(e){var t=this.a,r=this.b,n=this.c,i=this.d,a=this.e,o=this.f,s=e.a,u=e.c,l=e.b,c=e.d,h=e.e,d=e.f;return ae(this,s*t+l*n,s*r+l*i,u*t+c*n,u*r+c*i,a+h*t+d*n,o+h*r+d*i)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},t.equals=function(e){var t=this.a,r=this.b,n=this.c,i=this.d,a=this.e,o=this.f;return t===e.a&&r===e.b&&n===e.c&&i===e.d&&a===e.e&&o===e.f},t.apply=function(e,t){void 0===t&&(t={});var r=e.x,n=e.y,i=this.a,a=this.b,o=this.c,s=this.d,u=this.e,l=this.f;return t.x=r*i+n*o+u||0,t.y=r*a+n*s+l||0,t},e}();function se(e,t,r){if(!e||!e.parentNode||(H||K(e)).documentElement===e)return new oe;var n=function(e){for(var t,r;e&&e!==W;)(r=e._gsap)&&!r.scaleX&&!r.scaleY&&r.renderTransform&&(r.scaleX=r.scaleY=1e-4,r.renderTransform(1,r),t?t.push(r):t=[r]),e=e.parentNode;return t}(e.parentNode),i=te(e)?$:ee,a=ie(e,r),o=i[0].getBoundingClientRect(),s=i[1].getBoundingClientRect(),u=i[2].getBoundingClientRect(),l=a.parentNode,c=re(e),h=new oe((s.left-o.left)/100,(s.top-o.top)/100,(u.left-o.left)/100,(u.top-o.top)/100,o.left+(c?0:G.pageXOffset||H.scrollLeft||V.scrollLeft||W.scrollLeft||0),o.top+(c?0:G.pageYOffset||H.scrollTop||V.scrollTop||W.scrollTop||0));if(l.removeChild(a),n)for(o=n.length;o--;)(s=n[o]).scaleX=s.scaleY=0,s.renderTransform(1,s);return t?h.inverse():h}var ue,le,ce,he,de=["x","translateX","left","marginLeft"],fe=["y","translateY","top","marginTop"],pe=Math.PI/180,me=function(e,t,r,n){for(var i=t.length,a=2===n?0:n,o=0;o<i;o++)e[a]=parseFloat(t[o][r]),2===n&&(e[a+1]=0),a+=2;return e},ve=function(e,t,r){return parseFloat(e._gsap.get(e,t,r||"px"))||0},ge=function(e){var t,r=e[0],n=e[1];for(t=2;t<e.length;t+=2)r=e[t]+=r,n=e[t+1]+=n},ye=function(e,t,r,n,i,a,o){"cubic"===o.type?t=[t]:(t.unshift(ve(r,n,o.unitX),i?ve(r,i,o.unitY):0),o.relative&&ge(t),t=[(i?U:B)(t,o.curviness)]);return t=a(Te(t,r,o)),Se(e,r,n,t,"x",o.unitX),i&&Se(e,r,i,t,"y",o.unitY),R(t,o.resolution||(0===o.curviness?20:12))},be=function(e){return e},_e=/[-+\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/g,xe=function(e,t,r){var n,i,a,o=se(e);return"svg"===(e.tagName+"").toLowerCase()?(i=(n=e.viewBox.baseVal).x,a=n.y,n.width||(n={width:+e.getAttribute("width"),height:+e.getAttribute("height")})):(n=t&&e.getBBox&&e.getBBox(),i=a=0),t&&"auto"!==t&&(i+=t.push?t[0]*(n?n.width:e.offsetWidth||0):t.x,a+=t.push?t[1]*(n?n.height:e.offsetHeight||0):t.y),r.apply(i||a?o.apply({x:i,y:a}):{x:o.e,y:o.f})},we=function(e,t,r,n){var i,a=se(e.parentNode,!0,!0),o=a.clone().multiply(se(t)),s=xe(e,r,a),u=xe(t,n,a),l=u.x,c=u.y;return o.e=o.f=0,"auto"===n&&t.getTotalLength&&"path"===t.tagName.toLowerCase()&&(i=t.getAttribute("d").match(_e)||[],l+=(i=o.apply({x:+i[0],y:+i[1]})).x,c+=i.y),(i||t.getBBox&&e.getBBox&&t.ownerSVGElement===e.ownerSVGElement)&&(l-=(i=o.apply(t.getBBox())).x,c-=i.y),o.e=l-s.x,o.f=c-s.y,o},Te=function(e,t,r){var n,i,a,o=r.align,s=r.matrix,u=r.offsetX,l=r.offsetY,c=r.alignOrigin,h=e[0][0],d=e[0][1],f=ve(t,"x"),p=ve(t,"y");return e&&e.length?(o&&("self"===o||(n=he(o)[0]||t)===t?N(e,1,0,0,1,f-h,p-d):(c&&!1!==c[2]?ue.set(t,{transformOrigin:100*c[0]+"% "+100*c[1]+"%"}):c=[ve(t,"xPercent")/-100,ve(t,"yPercent")/-100],a=(i=we(t,n,c,"auto")).apply({x:h,y:d}),N(e,i.a,i.b,i.c,i.d,f+i.e-(a.x-i.e),p+i.f-(a.y-i.f)))),s?N(e,s.a,s.b,s.c,s.d,s.e,s.f):(u||l)&&N(e,1,0,0,1,u||0,l||0),e):E("M0,0L0,0")},Se=function(e,t,r,n,i,a){var o=t._gsap,s=o.harness,u=s&&s.aliases&&s.aliases[r],l=u&&u.indexOf(",")<0?u:r,c=e._pt=new le(e._pt,t,l,0,0,be,0,o.set(t,l,e));c.u=ce(o.get(t,l,a))||0,c.path=n,c.pp=i,e._props.push(l)},Ee={version:"3.5.1",name:"motionPath",register:function(e,t,r){ce=(ue=e).utils.getUnit,he=ue.utils.toArray,le=r},init:function(e,t){if(!ue)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;"object"===typeof t&&!t.style&&t.path||(t={path:t});var r,n,i,a,o,s,u=[],l=t.path,c=l[0],h=t.autoRotate,d=(o=t.start,s="end"in t?t.end:1,function(e){return o||1!==s?O(e,o,s):e});if(this.rawPaths=u,this.target=e,(this.rotate=h||0===h)&&(this.rOffset=parseFloat(h)||0,this.radians=!!t.useRadians,this.rProp=t.rotation||"rotation",this.rSet=e._gsap.set(e,this.rProp,this),this.ru=ce(e._gsap.get(e,this.rProp))||0),Array.isArray(l)&&!("closed"in l)&&"number"!==typeof c){for(n in c)~de.indexOf(n)?i=n:~fe.indexOf(n)&&(a=n);for(n in i&&a?u.push(ye(this,me(me([],l,i,0),l,a,1),e,t.x||i,t.y||a,d,t)):i=a=0,c)n!==i&&n!==a&&u.push(ye(this,me([],l,n,2),e,n,0,d,t))}else R(r=d(Te(E(t.path),e,t)),t.resolution),u.push(r),Se(this,e,t.x||"x",r,"x",t.unitX||"px"),Se(this,e,t.y||"y",r,"y",t.unitY||"px")},render:function(e,t){var r=t.rawPaths,n=r.length,i=t._pt;for(e>1?e=1:e<0&&(e=0);n--;)D(r[n],e,!n&&t.rotate,r[n]);for(;i;)i.set(i.t,i.p,i.path[i.pp]+i.u,i.d,e),i=i._next;t.rotate&&t.rSet(t.target,t.rProp,r[0].angle*(t.radians?pe:1)+t.rOffset+t.ru,t,e)},getLength:function(e){return R(E(e)).totalLength},sliceRawPath:O,getRawPath:E,pointsToSegment:U,stringToRawPath:z,rawPathToString:j,transformRawPath:N,getGlobalMatrix:se,getPositionOnPath:D,cacheRawPathMeasurements:R,convertToPath:function(e,t){return he(e).map((function(e){return A(e,!1!==t)}))},convertCoordinates:function(e,t,r){var n=se(t,!0,!0).multiply(se(e));return r?n.apply(r):n},getAlignMatrix:we,getRelativePosition:function(e,t,r,n){var i=we(e,t,r,n);return{x:i.e,y:i.f}},arrayToRawPath:function(e,t){var r=me(me([],e,(t=t||{}).x||"x",0),e,t.y||"y",1);return t.relative&&ge(r),["cubic"===t.type?r:U(r,t.curviness)]}};(ue||"undefined"!==typeof window&&(ue=window.gsap)&&ue.registerPlugin&&ue)&&ue.registerPlugin(Ee)},function(e,t,r){"use strict";var n=r(19),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),a=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function g(){}function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,n(b,v.prototype),b.isPureReactComponent=!0;var _={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var n,a={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,n)&&!w.hasOwnProperty(n)&&(a[n]=t[n]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===a[n]&&(a[n]=u[n]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,r,n,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===n?"."+M(u,0):n,Array.isArray(o)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),P(o,t,r,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+M(s=e[l],l);u+=P(s,t,r,c,o)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(s=e.next()).done;)u+=P(s=s.value,t,r,c=n+M(s,l++),o);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,r){if(null==e)return e;var n=[],i=0;return P(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function k(){var e=O.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:A,forEach:function(e,t,r){A(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(f(267,e));var a=n({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!w.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];a.children=l}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return k().useCallback(e,t)},t.useContext=function(e,t){return k().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return k().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return k().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return k().useLayoutEffect(e,t)},t.useMemo=function(e,t){return k().useMemo(e,t)},t.useReducer=function(e,t,r){return k().useReducer(e,t,r)},t.useRef=function(e){return k().useRef(e)},t.useState=function(e){return k().useState(e)},t.version="17.0.1"},function(e,t,r){"use strict";var n=r(1),i=r(19),a=r(21);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,r,n,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,r,n){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,T=60106,S=60107,E=60108,M=60114,P=60109,A=60110,C=60112,O=60113,k=60120,R=60115,L=60116,I=60121,D=60128,N=60129,F=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;w=B("react.element"),T=B("react.portal"),S=B("react.fragment"),E=B("react.strict_mode"),M=B("react.profiler"),P=B("react.provider"),A=B("react.context"),C=B("react.forward_ref"),O=B("react.suspense"),k=B("react.suspense_list"),R=B("react.memo"),L=B("react.lazy"),I=B("react.block"),B("react.scope"),D=B("react.opaque.id"),N=B("react.debug_trace_mode"),F=B("react.offscreen"),z=B("react.legacy_hidden")}var U,j="function"===typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}function G(e){if(void 0===U)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var V=!1;function W(e,t){if(!e||V)return"";V=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=n.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?G(e):""}function X(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case T:return"Portal";case M:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return Y(e.type);case I:return Y(e._render);case L:t=e._payload,e=e._init;try{return Y(e(t))}catch(r){}}return null}function q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Z(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=q(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function re(e,t){te(e,t);var r=q(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,r):t.hasOwnProperty("defaultValue")&&ie(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ie(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+q(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:q(r)}}function le(e,t){var r=q(t.value),n=q(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=xe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Te=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Te[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pe=null,Ae=null,Ce=null;function Oe(e){if(e=ei(e)){if("function"!==typeof Pe)throw Error(o(280));var t=e.stateNode;t&&(t=ri(t),Pe(e.stateNode,e.type,t))}}function ke(e){Ae?Ce?Ce.push(e):Ce=[e]:Ae=e}function Re(){if(Ae){var e=Ae,t=Ce;if(Ce=Ae=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Le(e,t){return e(t)}function Ie(e,t,r,n,i){return e(t,r,n,i)}function De(){}var Ne=Le,Fe=!1,ze=!1;function Be(){null===Ae&&null===Ce||(De(),Re())}function Ue(e,t){var r=e.stateNode;if(null===r)return null;var n=ri(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var je=!1;if(h)try{var He={};Object.defineProperty(He,"passive",{get:function(){je=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(ve){je=!1}function Ge(e,t,r,n,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var Ve=!1,We=null,Xe=!1,Ye=null,qe={onError:function(e){Ve=!0,We=e}};function Ze(e,t,r,n,i,a,o,s,u){Ve=!1,We=null,Ge.apply(qe,arguments)}function Je(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Je(e)!==e)throw Error(o(188))}function $e(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ke(i),e;if(a===n)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=a;break}if(u===n){s=!0,n=i,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,n=i;break}if(u===n){s=!0,n=a,r=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,nt,it,at=!1,ot=[],st=null,ut=null,lt=null,ct=new Map,ht=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:i,targetContainers:[n]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function vt(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,r,n,i,a),null!==t&&(null!==(t=ei(t))&&rt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=$n(e.target);if(null!==t){var r=Je(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Qe(r)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ei(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){yt(e)&&r.delete(t)}function _t(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==lt&&yt(lt)&&(lt=null),ct.forEach(bt),ht.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_t)))}function wt(e){function t(t){return xt(t,e)}if(0<ot.length){xt(ot[0],e);for(var r=1;r<ot.length;r++){var n=ot[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==st&&xt(st,e),null!==ut&&xt(ut,e),null!==lt&&xt(lt,e),ct.forEach(t),ht.forEach(t),r=0;r<dt.length;r++)(n=dt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<dt.length&&null===(r=dt[0]).blockedOn;)gt(r),null===r.blockedOn&&dt.shift()}function Tt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var St={animationend:Tt("Animation","AnimationEnd"),animationiteration:Tt("Animation","AnimationIteration"),animationstart:Tt("Animation","AnimationStart"),transitionend:Tt("Transition","TransitionEnd")},Et={},Mt={};function Pt(e){if(Et[e])return Et[e];if(!St[e])return e;var t,r=St[e];for(t in r)if(r.hasOwnProperty(t)&&t in Mt)return Et[e]=r[t];return e}h&&(Mt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var At=Pt("animationend"),Ct=Pt("animationiteration"),Ot=Pt("animationstart"),kt=Pt("transitionend"),Rt=new Map,Lt=new Map,It=["abort","abort",At,"animationEnd",Ct,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",kt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Lt.set(n,t),Rt.set(n,i),l(i,[n])}}(0,a.unstable_now)();var Nt=8;function Ft(e){if(0!==(1&e))return Nt=15,1;if(0!==(2&e))return Nt=14,2;if(0!==(4&e))return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):0!==(32&e)?(Nt=11,32):0!==(t=192&e)?(Nt=10,t):0!==(256&e)?(Nt=9,256):0!==(t=3584&e)?(Nt=8,t):0!==(4096&e)?(Nt=7,4096):0!==(t=4186112&e)?(Nt=6,t):0!==(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):0!==(134217728&e)?(Nt=3,134217728):0!==(t=805306368&e)?(Nt=2,t):0!==(1073741824&e)?(Nt=1,1073741824):(Nt=8,e)}function zt(e,t){var r=e.pendingLanes;if(0===r)return Nt=0;var n=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)n=a,i=Nt=15;else if(0!==(a=134217727&r)){var u=a&~o;0!==u?(n=Ft(u),i=Nt):0!==(s&=a)&&(n=Ft(s),i=Nt)}else 0!==(a=r&~o)?(n=Ft(a),i=Nt):0!==s&&(n=Ft(s),i=Nt);if(0===n)return 0;if(n=r&((0>(n=31-Vt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&o)){if(Ft(t),i<=Nt)return t;Nt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-Vt(t)),n|=e[r],t&=~i;return n}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Ut(10,t):e;case 10:return 0===(e=jt(192&~t))?Ut(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function Ht(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Vt(t)]=r}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Xt|0)|0},Wt=Math.log,Xt=Math.LN2;var Yt=a.unstable_UserBlockingPriority,qt=a.unstable_runWithPriority,Zt=!0;function Jt(e,t,r,n){Fe||De();var i=Kt,a=Fe;Fe=!0;try{Ie(i,e,t,r,n)}finally{(Fe=a)||Be()}}function Qt(e,t,r,n){qt(Yt,Kt.bind(null,e,t,r,n))}function Kt(e,t,r,n){var i;if(Zt)if((i=0===(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=pt(null,e,t,r,n),ot.push(e);else{var a=$t(e,t,r,n);if(null===a)i&&mt(e,n);else{if(i){if(-1<ft.indexOf(e))return e=pt(a,e,t,r,n),void ot.push(e);if(function(e,t,r,n,i){switch(t){case"focusin":return st=vt(st,e,t,r,n,i),!0;case"dragenter":return ut=vt(ut,e,t,r,n,i),!0;case"mouseover":return lt=vt(lt,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ht.set(a,vt(ht.get(a)||null,e,t,r,n,i)),!0}return!1}(a,e,t,r,n))return;mt(e,n)}Rn(e,t,n,null,r)}}}function $t(e,t,r,n){var i=Me(n);if(null!==(i=$n(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Qe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Rn(e,t,n,i,r),null}var er=null,tr=null,rr=null;function nr(){if(rr)return rr;var e,t,r=tr,n=r.length,i="value"in er?er.value:er.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return rr=i.slice(e,1<t?1-t:void 0)}function ir(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ar(){return!0}function or(){return!1}function sr(e){function t(t,r,n,i,a){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?ar:or,this.isPropagationStopped=or,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),t}var ur,lr,cr,hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=sr(hr),fr=i({},hr,{view:0,detail:0}),pr=sr(fr),mr=i({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&"mousemove"===e.type?(ur=e.screenX-cr.screenX,lr=e.screenY-cr.screenY):lr=ur=0,cr=e),ur)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),vr=sr(mr),gr=sr(i({},mr,{dataTransfer:0})),yr=sr(i({},fr,{relatedTarget:0})),br=sr(i({},hr,{animationName:0,elapsedTime:0,pseudoElement:0})),_r=sr(i({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xr=sr(i({},hr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Mr(){return Er}var Pr=sr(i({},fr,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ir(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(e){return"keypress"===e.type?ir(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ir(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Ar=sr(i({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cr=sr(i({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr})),Or=sr(i({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0})),kr=sr(i({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rr=[9,13,27,32],Lr=h&&"CompositionEvent"in window,Ir=null;h&&"documentMode"in document&&(Ir=document.documentMode);var Dr=h&&"TextEvent"in window&&!Ir,Nr=h&&(!Lr||Ir&&8<Ir&&11>=Ir),Fr=String.fromCharCode(32),zr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Rr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jr=!1;var Hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hr[e.type]:"textarea"===t}function Vr(e,t,r,n){ke(n),0<(t=In(t,"onChange")).length&&(r=new dr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,Xr=null;function Yr(e){Mn(e,0)}function qr(e){if(Q(ti(e)))return e}function Zr(e,t){if("change"===e)return t}var Jr=!1;if(h){var Qr;if(h){var Kr="oninput"in document;if(!Kr){var $r=document.createElement("div");$r.setAttribute("oninput","return;"),Kr="function"===typeof $r.oninput}Qr=Kr}else Qr=!1;Jr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),Xr=Wr=null)}function tn(e){if("value"===e.propertyName&&qr(Xr)){var t=[];if(Vr(t,Xr,e,Me(e)),e=Yr,Fe)e(t);else{Fe=!0;try{Le(e,t)}finally{Fe=!1,Be()}}}}function rn(e,t,r){"focusin"===e?(en(),Xr=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qr(Xr)}function an(e,t){if("click"===e)return qr(t)}function on(e,t){if("input"===e||"change"===e)return qr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},un=Object.prototype.hasOwnProperty;function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!un.call(t,r[n])||!sn(e[r[n]],t[r[n]]))return!1;return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=h&&"documentMode"in document&&11>=document.documentMode,vn=null,gn=null,yn=null,bn=!1;function _n(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==vn||vn!==K(n)||("selectionStart"in(n=vn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=In(gn,"onSelect")).length&&(t=new dr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vn)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(It,2);for(var xn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wn=0;wn<xn.length;wn++)Lt.set(xn[wn],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function En(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,a,s,u,l){if(Ze.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var c=We;Ve=!1,We=null,Xe||(Xe=!0,Ye=c)}}(n,t,void 0,e),e.currentTarget=null}function Mn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;En(i,s,l),a=u}else for(o=0;o<n.length;o++){if(u=(s=n[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;En(i,s,l),a=u}}}if(Xe)throw e=Ye,Xe=!1,Ye=null,e}function Pn(e,t){var r=ni(t),n=e+"__bubble";r.has(n)||(kn(t,e,2,!1),r.add(n))}var An="_reactListening"+Math.random().toString(36).slice(2);function Cn(e){e[An]||(e[An]=!0,s.forEach((function(t){Sn.has(t)||On(t,!1,e,null),On(t,!0,e,null)})))}function On(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=r;if("selectionchange"===e&&9!==r.nodeType&&(a=r.ownerDocument),null!==n&&!t&&Sn.has(e)){if("scroll"!==e)return;i|=2,a=n}var o=ni(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),kn(a,e,i,t),o.add(s))}function kn(e,t,r,n){var i=Lt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Qt;break;default:i=Kt}r=i.bind(null,t,r,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Rn(e,t,r,n,i){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=$n(s)))return;if(5===(u=o.tag)||6===u){n=a=o;continue e}s=s.parentNode}}n=n.return}!function(e,t,r){if(ze)return e(t,r);ze=!0;try{Ne(e,t,r)}finally{ze=!1,Be()}}((function(){var n=a,i=Me(r),o=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dr,l=e;switch(e){case"keypress":if(0===ir(r))break e;case"keydown":case"keyup":u=Pr;break;case"focusin":l="focus",u=yr;break;case"focusout":l="blur",u=yr;break;case"beforeblur":case"afterblur":u=yr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cr;break;case At:case Ct:case Ot:u=br;break;case kt:u=Or;break;case"scroll":u=pr;break;case"wheel":u=kr;break;case"copy":case"cut":case"paste":u=_r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Ar}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ue(p,d))&&c.push(Ln(p,m,f)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,r,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=r.relatedTarget||r.fromElement)||!$n(l)&&!l[Qn])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=n,null!==(l=(l=r.relatedTarget||r.toElement)?$n(l):null)&&(l!==(h=Je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=n),u!==l)){if(c=vr,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Ar,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?s:ti(u),f=null==l?s:ti(l),(s=new c(m,p+"leave",u,r,i)).target=h,s.relatedTarget=f,m=null,$n(i)===n&&((c=new c(d,p+"enter",l,r,i)).target=f,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(d=l,p=0,f=c=u;f;f=Dn(f))p++;for(f=0,m=d;m;m=Dn(m))f++;for(;0<p-f;)c=Dn(c),p--;for(;0<f-p;)d=Dn(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Dn(c),d=Dn(d)}c=null}else c=null;null!==u&&Nn(o,s,u,c,!1),null!==l&&null!==h&&Nn(o,h,l,c,!0)}if("select"===(u=(s=n?ti(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Zr;else if(Gr(s))if(Jr)v=on;else{v=nn;var g=rn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=an);switch(v&&(v=v(e,n))?Vr(o,v,r,i):(g&&g(e,s,n),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=n?ti(n):window,e){case"focusin":(Gr(g)||"true"===g.contentEditable)&&(vn=g,gn=n,yn=null);break;case"focusout":yn=gn=vn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,_n(o,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":_n(o,r,i)}var y;if(Lr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jr?Br(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Nr&&"ko"!==r.locale&&(jr||"onCompositionStart"!==b?"onCompositionEnd"===b&&jr&&(y=nr()):(tr="value"in(er=i)?er.value:er.textContent,jr=!0)),0<(g=In(n,b)).length&&(b=new xr(b,e,null,r,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Ur(r))&&(b.data=y))),(y=Dr?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(zr=!0,Fr);case"textInput":return(e=t.data)===Fr&&zr?null:e;default:return null}}(e,r):function(e,t){if(jr)return"compositionend"===e||!Lr&&Br(e,t)?(e=nr(),rr=tr=er=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nr&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))&&(0<(n=In(n,"onBeforeInput")).length&&(i=new xr("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=y))}Mn(o,t)}))}function Ln(e,t,r){return{instance:e,listener:t,currentTarget:r}}function In(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,r))&&n.unshift(Ln(e,a,i)),null!=(a=Ue(e,t))&&n.push(Ln(e,a,i))),e=e.return}return n}function Dn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Nn(e,t,r,n,i){for(var a=t._reactName,o=[];null!==r&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ue(r,a))&&o.unshift(Ln(r,u,s)):i||null!=(u=Ue(r,a))&&o.push(Ln(r,u,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}function Fn(){}var zn=null,Bn=null;function Un(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function jn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hn="function"===typeof setTimeout?setTimeout:void 0,Gn="function"===typeof clearTimeout?clearTimeout:void 0;function Vn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Yn=0;var qn=Math.random().toString(36).slice(2),Zn="__reactFiber$"+qn,Jn="__reactProps$"+qn,Qn="__reactContainer$"+qn,Kn="__reactEvents$"+qn;function $n(e){var t=e[Zn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qn]||r[Zn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Xn(e);null!==e;){if(r=e[Zn])return r;e=Xn(e)}return t}r=(e=r).parentNode}return null}function ei(e){return!(e=e[Zn]||e[Qn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ri(e){return e[Jn]||null}function ni(e){var t=e[Kn];return void 0===t&&(t=e[Kn]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function si(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function ui(e,t){ai++,ii[ai]=e.current,e.current=t}var li={},ci=oi(li),hi=oi(!1),di=li;function fi(e,t){var r=e.type.contextTypes;if(!r)return li;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){si(hi),si(ci)}function vi(e,t,r){if(ci.current!==li)throw Error(o(168));ui(ci,t),ui(hi,r)}function gi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in e))throw Error(o(108,Y(t)||"Unknown",a));return i({},r,n)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,di=ci.current,ui(ci,e),ui(hi,hi.current),!0}function bi(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=gi(e,t,di),n.__reactInternalMemoizedMergedChildContext=e,si(hi),si(ci),ui(ci,e)):si(hi),ui(hi,r)}var _i=null,xi=null,wi=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ei=a.unstable_shouldYield,Mi=a.unstable_requestPaint,Pi=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Ci=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,ki=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Ii={},Di=void 0!==Mi?Mi:function(){},Ni=null,Fi=null,zi=!1,Bi=Pi(),Ui=1e4>Bi?Pi:function(){return Pi()-Bi};function ji(){switch(Ai()){case Ci:return 99;case Oi:return 98;case ki:return 97;case Ri:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ci;case 98:return Oi;case 97:return ki;case 96:return Ri;case 95:return Li;default:throw Error(o(332))}}function Gi(e,t){return e=Hi(e),wi(e,t)}function Vi(e,t,r){return e=Hi(e),Ti(e,t,r)}function Wi(){if(null!==Fi){var e=Fi;Fi=null,Si(e)}Xi()}function Xi(){if(!zi&&null!==Ni){zi=!0;var e=0;try{var t=Ni;Gi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Ni=null}catch(r){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ti(Ci,Wi),r}finally{zi=!1}}}var Yi=x.ReactCurrentBatchConfig;function qi(e,t){if(e&&e.defaultProps){for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Zi=oi(null),Ji=null,Qi=null,Ki=null;function $i(){Ki=Qi=Ji=null}function ea(e){var t=Zi.current;si(Zi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function ra(e,t){Ji=e,Ki=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Io=!0),e.firstContext=null)}function na(e,t){if(Ki!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ki=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Ji)throw Error(o(308));Qi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ua(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function la(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ca(e,t,r,n){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==s&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=l)}}if(null!==o){for(d=a.baseState,s=0,h=c=l=null;;){u=o.lane;var f=o.eventTime;if((n&u)===u){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(u=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(f,d,u):p)||void 0===u)break e;d=i({},d,u);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else f={eventTime:f,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,l=d):h=h.next=f,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===h&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=h,zs|=s,e.lanes=s,e.memoizedState=d}}function ha(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var da=(new n.Component).refs;function fa(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=lu(),i=cu(e),a=sa(n,i);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),ua(e,a),hu(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=lu(),i=cu(e),a=sa(n,i);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),ua(e,a),hu(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=lu(),n=cu(e),i=sa(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ua(e,i),hu(e,n,r)}};function ma(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(i,a))}function va(e,t,r){var n=!1,i=li,a=t.contextType;return"object"===typeof a&&null!==a?a=na(a):(i=pi(t)?di:ci.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?fi(e,i):li),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ga(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ya(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=da,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=na(a):(a=pi(t)?di:ci.current,i.context=fi(e,a)),ca(e,r,i,n),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),ca(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function _a(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===da&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function xa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wa(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=Yu(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=_a(e,t,r),n.return=e,n):((n=Vu(r.type,r.key,r.props,null,e.mode,n)).ref=_a(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=qu(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,a){return null===t||7!==t.tag?((t=Wu(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Vu(t.type,t.key,t.props,null,e.mode,r)).ref=_a(e,null,t),r.return=e,r;case T:return(t=qu(t,e.mode,r)).return=e,t}if(ba(t)||H(t))return(t=Wu(t,e.mode,r,null)).return=e,t;xa(e,t)}return null}function f(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===i?r.type===S?h(e,t,r.props.children,n,i):l(e,t,r,n):null;case T:return r.key===i?c(e,t,r,n):null}if(ba(r)||H(r))return null!==i?null:h(e,t,r,n,null);xa(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return u(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return e=e.get(null===n.key?r:n.key)||null,n.type===S?h(t,e,n.props.children,i,n.key):l(t,e,n,i);case T:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(ba(n)||H(n))return h(t,e=e.get(r)||null,n,i,null);xa(t,n)}return null}function m(i,o,s,u){for(var l=null,c=null,h=o,m=o=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var g=f(i,h,s[m],u);if(null===g){null===h&&(h=v);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,m),null===c?l=g:c.sibling=g,c=g,h=v}if(m===s.length)return r(i,h),l;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],u))&&(o=a(h,o,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=n(i,h);m<s.length;m++)null!==(v=p(h,i,m,s[m],u))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),o=a(v,o,m),null===c?l=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(i,e)})),l}function v(i,s,u,l){var c=H(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===h?c=b:h.sibling=b,h=b,m=g}if(y.done)return r(i,m),c;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=d(i,y.value,l))&&(s=a(y,s,v),null===h?c=y:h.sibling=y,h=y);return c}for(m=n(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,n,a,u){var l="object"===typeof a&&null!==a&&a.type===S&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case w:e:{for(c=a.key,l=n;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===S){r(e,l.sibling),(n=i(l,a.props.children)).return=e,e=n;break e}break;default:if(l.elementType===a.type){r(e,l.sibling),(n=i(l,a.props)).ref=_a(e,l,a),n.return=e,e=n;break e}}r(e,l);break}t(e,l),l=l.sibling}a.type===S?((n=Wu(a.props.children,e.mode,u,a.key)).return=e,e=n):((u=Vu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,n,a),u.return=e,e=u)}return s(e);case T:e:{for(l=a.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling),(n=i(n,a.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=qu(a,e.mode,u)).return=e,e=n}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,a)).return=e,e=n):(r(e,n),(n=Yu(a,e.mode,u)).return=e,e=n),s(e);if(ba(a))return m(e,n,a,u);if(H(a))return v(e,n,a,u);if(c&&xa(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Y(e.type)||"Component"))}return r(e,n)}}var Ta=wa(!0),Sa=wa(!1),Ea={},Ma=oi(Ea),Pa=oi(Ea),Aa=oi(Ea);function Ca(e){if(e===Ea)throw Error(o(174));return e}function Oa(e,t){switch(ui(Aa,t),ui(Pa,e),ui(Ma,Ea),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Ma),ui(Ma,t)}function ka(){si(Ma),si(Pa),si(Aa)}function Ra(e){Ca(Aa.current);var t=Ca(Ma.current),r=pe(t,e.type);t!==r&&(ui(Pa,e),ui(Ma,r))}function La(e){Pa.current===e&&(si(Ma),si(Pa))}var Ia=oi(0);function Da(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Na=null,Fa=null,za=!1;function Ba(e,t){var r=ju(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Ua(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ja(e){if(za){var t=Fa;if(t){var r=t;if(!Ua(e,t)){if(!(t=Wn(r.nextSibling))||!Ua(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Na=e);Ba(Na,r)}Na=e,Fa=Wn(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Na=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function Ga(e){if(e!==Na)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!jn(t,e.memoizedProps))for(t=Fa;t;)Ba(e,t),t=Wn(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Fa=Wn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Fa=null}}else Fa=Na?Wn(e.stateNode.nextSibling):null;return!0}function Va(){Fa=Na=null,za=!1}var Wa=[];function Xa(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var Ya=x.ReactCurrentDispatcher,qa=x.ReactCurrentBatchConfig,Za=0,Ja=null,Qa=null,Ka=null,$a=!1,eo=!1;function to(){throw Error(o(321))}function ro(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function no(e,t,r,n,i,a){if(Za=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:ko,e=r(n,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Ka=Qa=null,t.updateQueue=null,Ya.current=Ro,e=r(n,i)}while(eo)}if(Ya.current=Co,t=null!==Qa&&null!==Qa.next,Za=0,Ka=Qa=Ja=null,$a=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ka?Ja.memoizedState=Ka=e:Ka=Ka.next=e,Ka}function ao(){if(null===Qa){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=Qa.next;var t=null===Ka?Ja.memoizedState:Ka.next;if(null!==t)Ka=t,Qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qa=e).memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},null===Ka?Ja.memoizedState=Ka=e:Ka=Ka.next=e}return Ka}function oo(e,t){return"function"===typeof t?t(e):t}function so(e){var t=ao(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=Qa,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var u=s=a=null,l=i;do{var c=l.lane;if((Za&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===e?l.eagerState:e(n,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,a=n):u=u.next=h,Ja.lanes|=c,zs|=c}l=l.next}while(null!==l&&l!==i);null===u?a=n:u.next=s,sn(n,t.memoizedState)||(Io=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function uo(e){var t=ao(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sn(a,t.memoizedState)||(Io=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function lo(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===n:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=n,Wa.push(t))),e)return r(t._source);throw Wa.push(t),Error(o(350))}function co(e,t,r,n){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,l=u.useState((function(){return lo(i,t,r)})),c=l[1],h=l[0];l=Ka;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var v=Ja;return e.memoizedState={refs:f,source:t,subscribe:n},u.useEffect((function(){f.getSnapshot=r,f.setSnapshot=c;var e=a(t._source);if(!sn(s,e)){e=r(t._source),sn(h,e)||(c(e),e=cu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var n=i.entanglements,o=e;0<o;){var u=31-Vt(o),l=1<<u;n[u]|=e,o&=~l}}}),[r,t,n]),u.useEffect((function(){return n(t._source,(function(){var e=f.getSnapshot,r=f.setSnapshot;try{r(e(t._source));var n=cu(v);i.mutableReadLanes|=n&i.pendingLanes}catch(a){r((function(){throw a}))}}))}),[t,n]),sn(p,r)&&sn(m,t)&&sn(d,n)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:h}).dispatch=c=Ao.bind(null,Ja,e),l.queue=e,l.baseQueue=null,h=lo(i,t,r),l.memoizedState=l.baseState=h),h}function ho(e,t,r){return co(ao(),e,t,r)}function fo(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=Ao.bind(null,Ja,e),[t.memoizedState,e]}function po(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function mo(e){return e={current:e},io().memoizedState=e}function vo(){return ao().memoizedState}function go(e,t,r,n){var i=io();Ja.flags|=e,i.memoizedState=po(1|t,r,void 0,void 0===n?null:n)}function yo(e,t,r,n){var i=ao();n=void 0===n?null:n;var a=void 0;if(null!==Qa){var o=Qa.memoizedState;if(a=o.destroy,null!==n&&ro(n,o.deps))return void po(t,r,a,n)}Ja.flags|=e,i.memoizedState=po(1|t,r,a,n)}function bo(e,t){return go(516,4,e,t)}function _o(e,t){return yo(516,4,e,t)}function xo(e,t){return yo(4,2,e,t)}function wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,yo(4,2,wo.bind(null,t,e),r)}function So(){}function Eo(e,t){var r=ao();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ro(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Mo(e,t){var r=ao();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ro(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Po(e,t){var r=ji();Gi(98>r?98:r,(function(){e(!0)})),Gi(97<r?97:r,(function(){var r=qa.transition;qa.transition=1;try{e(!1),t()}finally{qa.transition=r}}))}function Ao(e,t,r){var n=lu(),i=cu(e),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)eo=$a=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,r);if(a.eagerReducer=o,a.eagerState=u,sn(u,s))return}catch(l){}hu(e,i,n)}}var Co={readContext:na,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Oo={readContext:na,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:na,useEffect:bo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,go(4,2,wo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var r=io();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=io();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Ja,e),[n.memoizedState,e]},useRef:mo,useState:fo,useDebugValue:So,useDeferredValue:function(e){var t=fo(e),r=t[0],n=t[1];return bo((function(){var t=qa.transition;qa.transition=1;try{n(e)}finally{qa.transition=t}}),[e]),r},useTransition:function(){var e=fo(!1),t=e[0];return mo(e=Po.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=io();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},co(n,e,t,r)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+(Yn++).toString(36))),Error(o(355))})),r=fo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,po(5,(function(){r("r:"+(Yn++).toString(36))}),void 0,null)),t}return fo(t="r:"+(Yn++).toString(36)),t},unstable_isNewReconciler:!1},ko={readContext:na,useCallback:Eo,useContext:na,useEffect:_o,useImperativeHandle:To,useLayoutEffect:xo,useMemo:Mo,useReducer:so,useRef:vo,useState:function(){return so(oo)},useDebugValue:So,useDeferredValue:function(e){var t=so(oo),r=t[0],n=t[1];return _o((function(){var t=qa.transition;qa.transition=1;try{n(e)}finally{qa.transition=t}}),[e]),r},useTransition:function(){var e=so(oo)[0];return[vo().current,e]},useMutableSource:ho,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Ro={readContext:na,useCallback:Eo,useContext:na,useEffect:_o,useImperativeHandle:To,useLayoutEffect:xo,useMemo:Mo,useReducer:uo,useRef:vo,useState:function(){return uo(oo)},useDebugValue:So,useDeferredValue:function(e){var t=uo(oo),r=t[0],n=t[1];return _o((function(){var t=qa.transition;qa.transition=1;try{n(e)}finally{qa.transition=t}}),[e]),r},useTransition:function(){var e=uo(oo)[0];return[vo().current,e]},useMutableSource:ho,useOpaqueIdentifier:function(){return uo(oo)[0]},unstable_isNewReconciler:!1},Lo=x.ReactCurrentOwner,Io=!1;function Do(e,t,r,n){t.child=null===e?Sa(t,null,r,n):Ta(t,e.child,r,n)}function No(e,t,r,n,i){r=r.render;var a=t.ref;return ra(t,i),n=no(e,t,r,n,a,i),null===e||Io?(t.flags|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function Fo(e,t,r,n,i,a){if(null===e){var o=r.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Vu(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,n,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(r=null!==(r=r.compare)?r:ln)(i,n)&&e.ref===t.ref)?rs(e,t,a):(t.flags|=1,(e=Gu(o,n)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,r,n,i,a){if(null!==e&&ln(e.memoizedProps,n)&&e.ref===t.ref){if(Io=!1,0===(a&i))return t.lanes=e.lanes,rs(e,t,a);0!==(16384&e.flags)&&(Io=!0)}return jo(e,t,r,n,a)}function Bo(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bu(t,r);else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(t,e),null;t.memoizedState={baseLanes:0},bu(t,null!==a?a.baseLanes:r)}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,bu(t,n);return Do(e,t,i,r),t.child}function Uo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function jo(e,t,r,n,i){var a=pi(r)?di:ci.current;return a=fi(t,a),ra(t,i),r=no(e,t,r,n,a,i),null===e||Io?(t.flags|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function Ho(e,t,r,n,i){if(pi(r)){var a=!0;yi(t)}else a=!1;if(ra(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,r,n),ya(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=r.contextType;"object"===typeof l&&null!==l?l=na(l):l=fi(t,l=pi(r)?di:ci.current);var c=r.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||u!==l)&&ga(t,o,n,l),ia=!1;var d=t.memoizedState;o.state=d,ca(t,n,o,i),u=t.memoizedState,s!==n||d!==u||hi.current||ia?("function"===typeof c&&(fa(t,r,c,n),u=t.memoizedState),(s=ia||ma(t,r,s,n,d,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=l,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4),n=!1)}else{o=t.stateNode,oa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:qi(t.type,s),o.props=l,h=t.pendingProps,d=o.context,"object"===typeof(u=r.contextType)&&null!==u?u=na(u):u=fi(t,u=pi(r)?di:ci.current);var f=r.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==u)&&ga(t,o,n,u),ia=!1,d=t.memoizedState,o.state=d,ca(t,n,o,i);var p=t.memoizedState;s!==h||d!==p||hi.current||ia?("function"===typeof f&&(fa(t,r,f,n),p=t.memoizedState),(l=ia||ma(t,r,l,n,d,p,u))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=u,n=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),n=!1)}return Go(e,t,r,n,a,i)}function Go(e,t,r,n,i,a){Uo(e,t);var o=0!==(64&t.flags);if(!n&&!o)return i&&bi(t,r,!1),rs(e,t,a);n=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Do(e,t,s,a),t.memoizedState=n.state,i&&bi(t,r,!0),t.child}function Vo(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Oa(e,t.containerInfo)}var Wo,Xo,Yo,qo={dehydrated:null,retryLane:0};function Zo(e,t,r){var n,i=t.pendingProps,a=Ia.current,o=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&a)),n?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),ui(Ia,1&a),null===e?(void 0!==i.fallback&&ja(t),e=i.children,a=i.fallback,o?(e=Jo(t,e,a,r),t.child.memoizedState={baseLanes:r},t.memoizedState=qo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Jo(t,e,a,r),t.child.memoizedState={baseLanes:r},t.memoizedState=qo,t.lanes=33554432,e):((r=Xu({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,o?(i=Ko(e,t,i.children,i.fallback,r),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:r}:{baseLanes:a.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=qo,i):(r=Qo(e,t,i.children,r),t.memoizedState=null,r))}function Jo(e,t,r,n){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Xu(t,i,0,null),r=Wu(r,i,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,r}function Qo(e,t,r,n){var i=e.child;return e=i.sibling,r=Gu(i,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Ko(e,t,r,n,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:r};return 0===(2&a)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=s,null!==(o=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Gu(o,s),null!==e?n=Gu(e,n):(n=Wu(n,a,i,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function $o(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ta(e.return,t)}function es(e,t,r,n,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function ts(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Do(e,t,n.children,r),0!==(2&(n=Ia.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,r);else if(19===e.tag)$o(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ui(Ia,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Da(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),es(t,!1,i,r,a,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Da(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}es(t,!0,r,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function rs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Gu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Gu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function ns(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function is(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&mi(),null;case 3:return ka(),si(hi),si(ci),Xa(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:n.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Ca(Aa.current);if(r=t.type,null!==e&&null!=t.stateNode)Xo(e,t,r,n),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ca(Ma.current),Ga(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Zn]=t,n[Jn]=s,r){case"dialog":Pn("cancel",n),Pn("close",n);break;case"iframe":case"object":case"embed":Pn("load",n);break;case"video":case"audio":for(e=0;e<Tn.length;e++)Pn(Tn[e],n);break;case"source":Pn("error",n);break;case"img":case"image":case"link":Pn("error",n),Pn("load",n);break;case"details":Pn("toggle",n);break;case"input":ee(n,s),Pn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Pn("invalid",n);break;case"textarea":ue(n,s),Pn("invalid",n)}for(var l in Se(r,s),e=null,s)s.hasOwnProperty(l)&&(a=s[l],"children"===l?"string"===typeof a?n.textContent!==a&&(e=["children",a]):"number"===typeof a&&n.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&Pn("scroll",n));switch(r){case"input":J(n),ne(n,s,!0);break;case"textarea":J(n),ce(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Fn)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===he&&(e=fe(r)),e===he?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Zn]=t,e[Jn]=n,Wo(e,t),t.stateNode=e,l=Ee(r,n),r){case"dialog":Pn("cancel",e),Pn("close",e),a=n;break;case"iframe":case"object":case"embed":Pn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Tn.length;a++)Pn(Tn[a],e);a=n;break;case"source":Pn("error",e),a=n;break;case"img":case"image":case"link":Pn("error",e),Pn("load",e),a=n;break;case"details":Pn("toggle",e),a=n;break;case"input":ee(e,n),a=$(e,n),Pn("invalid",e);break;case"option":a=ae(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=i({},n,{value:void 0}),Pn("invalid",e);break;case"textarea":ue(e,n),a=se(e,n),Pn("invalid",e);break;default:a=n}Se(r,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?we(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"===typeof h?("textarea"!==r||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Pn("scroll",e):null!=h&&_(e,s,h,l))}switch(r){case"input":J(e),ne(e,n,!1);break;case"textarea":J(e),ce(e);break;case"option":null!=n.value&&e.setAttribute("value",""+q(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?oe(e,!!n.multiple,s,!1):null!=n.defaultValue&&oe(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Fn)}Un(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));r=Ca(Aa.current),Ca(Ma.current),Ga(t)?(n=t.stateNode,r=t.memoizedProps,n[Zn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Zn]=t,t.stateNode=n)}return null;case 13:return si(Ia),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):r=null!==e.memoizedState,n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ia.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===Os||0===(134217727&zs)&&0===(134217727&Bs)||mu(Os,Rs))),(n||r)&&(t.flags|=4),null);case 4:return ka(),null===e&&Cn(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return pi(t.type)&&mi(),null;case 19:if(si(Ia),null===(n=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=n.rendering))if(s)ns(n,!1);else{if(0!==Ds||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Da(e))){for(t.flags|=64,ns(n,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ui(Ia,1&Ia.current|2),t.child}e=e.sibling}null!==n.tail&&Ui()>Gs&&(t.flags|=64,s=!0,ns(n,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Da(l))){if(t.flags|=64,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),ns(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate&&!za)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-n.renderingStartTime>Gs&&1073741824!==r&&(t.flags|=64,s=!0,ns(n,!1),t.lanes=33554432);n.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=n.last)?r.sibling=l:t.child=l,n.last=l)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ui(),r.sibling=null,t=Ia.current,ui(Ia,s?1&t|2:1&t),r):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function as(e){switch(e.tag){case 1:pi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ka(),si(hi),si(ci),Xa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return si(Ia),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(Ia),null;case 4:return ka(),null;case 10:return ea(e),null;case 23:case 24:return _u(),null;default:return null}}function os(e,t){try{var r="",n=t;do{r+=X(n),n=n.return}while(n);var i=r}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}Wo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Xo=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ca(Ma.current);var o,s=null;switch(r){case"input":a=$(e,a),n=$(e,n),s=[];break;case"option":a=ae(e,a),n=ae(e,n),s=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),s=[];break;case"textarea":a=se(e,a),n=se(e,n),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Fn)}for(h in Se(r,n),r=null,a)if(!n.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var l=a[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(l=null!=a?a[h]:void 0,n.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Pn("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===D?c.toString():(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Yo=function(e,t,r,n){r!==n&&(t.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function ls(e,t,r){(r=sa(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ys||(Ys=!0,qs=n),ss(0,t)},r}function cs(e,t,r){(r=sa(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return ss(0,t),n(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Zs?Zs=new Set([this]):Zs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var hs="function"===typeof WeakSet?WeakSet:Set;function ds(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Fu(e,r)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:qi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vn(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ps(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;n=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Iu(r,e),Lu(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:qi(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&ha(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}ha(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&Un(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&wt(r)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function ms(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,n.style.display=xe("display",i)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function vs(e,t){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,void 0!==i)if(0!==(4&n))Iu(t,r);else{n=t;try{i()}catch(a){Fu(n,a)}}r=r.next}while(r!==e)}break;case 1:if(ds(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Fu(t,a)}break;case 5:ds(t);break;case 4:ws(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(o(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(o(161))}16&r.flags&&(ye(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ys(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?_s(e,r,t):xs(e,r,t)}function _s(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Fn));else if(4!==n&&null!==(e=e.child))for(_s(e,t,r),e=e.sibling;null!==e;)_s(e,t,r),e=e.sibling}function xs(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(xs(e,t,r),e=e.sibling;null!==e;)xs(e,t,r),e=e.sibling}function ws(e,t){for(var r,n,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(r=a.stateNode,a.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(vs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}n?(s=r,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,n=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{3===(3&n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var i=null!==e?e.memoizedProps:n;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(r[Jn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(r,n),Ee(e,i),t=Ee(e,n),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?we(r,u):"dangerouslySetInnerHTML"===s?ge(r,u):"children"===s?ye(r,u):_(r,s,u,t)}switch(e){case"input":re(r,n);break;case"textarea":le(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(a=n.value)?oe(r,!!n.multiple,a,!1):e!==!!n.multiple&&(null!=n.defaultValue?oe(r,!!n.multiple,n.defaultValue,!0):oe(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,wt(r.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Hs=Ui(),ms(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 17:return;case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new hs),t.forEach((function(t){var n=Bu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ms=Math.ceil,Ps=x.ReactCurrentDispatcher,As=x.ReactCurrentOwner,Cs=0,Os=null,ks=null,Rs=0,Ls=0,Is=oi(0),Ds=0,Ns=null,Fs=0,zs=0,Bs=0,Us=0,js=null,Hs=0,Gs=1/0;function Vs(){Gs=Ui()+500}var Ws,Xs=null,Ys=!1,qs=null,Zs=null,Js=!1,Qs=null,Ks=90,$s=[],eu=[],tu=null,ru=0,nu=null,iu=-1,au=0,ou=0,su=null,uu=!1;function lu(){return 0!==(48&Cs)?Ui():-1!==iu?iu:iu=Ui()}function cu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===ji()?1:2;if(0===au&&(au=Fs),0!==Yi.transition){0!==ou&&(ou=null!==js?js.pendingLanes:0),e=au;var t=4186112&~ou;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=ji(),0!==(4&Cs)&&98===e?e=Ut(12,au):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),au),e}function hu(e,t,r){if(50<ru)throw ru=0,nu=null,Error(o(185));if(null===(e=du(e,t)))return null;Gt(e,t,r),e===Os&&(Bs|=t,4===Ds&&mu(e,Rs));var n=ji();1===t?0!==(8&Cs)&&0===(48&Cs)?vu(e):(fu(e,r),0===Cs&&(Vs(),Wi())):(0===(4&Cs)||98!==n&&99!==n||(null===tu?tu=new Set([e]):tu.add(e)),fu(e,r)),js=e}function du(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function fu(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Vt(s),l=1<<u,c=a[u];if(-1===c){if(0===(l&n)||0!==(l&i)){c=t,Ft(l);var h=Nt;a[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(n=zt(e,e===Os?Rs:0),t=Nt,0===n)null!==r&&(r!==Ii&&Si(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Ii&&Si(r)}15===t?(r=vu.bind(null,e),null===Ni?(Ni=[r],Fi=Ti(Ci,Xi)):Ni.push(r),r=Ii):14===t?r=Vi(99,vu.bind(null,e)):r=Vi(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),pu.bind(null,e)),e.callbackPriority=t,e.callbackNode=r}}function pu(e){if(iu=-1,ou=au=0,0!==(48&Cs))throw Error(o(327));var t=e.callbackNode;if(Ru()&&e.callbackNode!==t)return null;var r=zt(e,e===Os?Rs:0);if(0===r)return null;var n=r,i=Cs;Cs|=16;var a=Tu();for(Os===e&&Rs===n||(Vs(),xu(e,n));;)try{Mu();break}catch(u){wu(e,u)}if($i(),Ps.current=a,Cs=i,null!==ks?n=0:(Os=null,Rs=0,n=Ds),0!==(Fs&Bs))xu(e,0);else if(0!==n){if(2===n&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Vn(e.containerInfo)),0!==(r=Bt(e))&&(n=Su(e,r))),1===n)throw t=Ns,xu(e,0),mu(e,r),fu(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(o(345));case 2:Cu(e);break;case 3:if(mu(e,r),(62914560&r)===r&&10<(n=Hs+500-Ui())){if(0!==zt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){lu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hn(Cu.bind(null,e),n);break}Cu(e);break;case 4:if(mu(e,r),(4186112&r)===r)break;for(n=e.eventTimes,i=-1;0<r;){var s=31-Vt(r);a=1<<s,(s=n[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ui()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ms(r/1960))-r)){e.timeoutHandle=Hn(Cu.bind(null,e),r);break}Cu(e);break;case 5:Cu(e);break;default:throw Error(o(329))}}return fu(e,Ui()),e.callbackNode===t?pu.bind(null,e):null}function mu(e,t){for(t&=~Us,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vt(t),n=1<<r;e[r]=-1,t&=~n}}function vu(e){if(0!==(48&Cs))throw Error(o(327));if(Ru(),e===Os&&0!==(e.expiredLanes&Rs)){var t=Rs,r=Su(e,t);0!==(Fs&Bs)&&(r=Su(e,t=zt(e,t)))}else r=Su(e,t=zt(e,0));if(0!==e.tag&&2===r&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Vn(e.containerInfo)),0!==(t=Bt(e))&&(r=Su(e,t))),1===r)throw r=Ns,xu(e,0),mu(e,t),fu(e,Ui()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cu(e),fu(e,Ui()),null}function gu(e,t){var r=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=r)&&(Vs(),Wi())}}function yu(e,t){var r=Cs;Cs&=-2,Cs|=8;try{return e(t)}finally{0===(Cs=r)&&(Vs(),Wi())}}function bu(e,t){ui(Is,Ls),Ls|=t,Fs|=t}function _u(){Ls=Is.current,si(Is)}function xu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Gn(r)),null!==ks)for(r=ks.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&mi();break;case 3:ka(),si(hi),si(ci),Xa();break;case 5:La(n);break;case 4:ka();break;case 13:case 19:si(Ia);break;case 10:ea(n);break;case 23:case 24:_u()}r=r.return}Os=e,ks=Gu(e.current,null),Rs=Ls=Fs=t,Ds=0,Ns=null,Us=Bs=zs=0}function wu(e,t){for(;;){var r=ks;try{if($i(),Ya.current=Co,$a){for(var n=Ja.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}$a=!1}if(Za=0,Ka=Qa=Ja=null,eo=!1,As.current=null,null===r||null===r.return){Ds=1,Ns=t,ks=null;break}e:{var a=e,o=r.return,s=r,u=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Ia.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var v=d.updateQueue;if(null===v){var g=new Set;g.add(l),d.updateQueue=g}else v.add(l);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=sa(-1,1);y.tag=2,ua(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new us,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var _=zu.bind(null,a,l,s);l.then(_,_)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),u=os(u,s),d=o;do{switch(d.tag){case 3:a=u,d.flags|=4096,t&=-t,d.lanes|=t,la(d,ls(0,a,t));break e;case 1:a=u;var x=d.type,w=d.stateNode;if(0===(64&d.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Zs||!Zs.has(w)))){d.flags|=4096,t&=-t,d.lanes|=t,la(d,cs(d,a,t));break e}}d=d.return}while(null!==d)}Au(r)}catch(T){t=T,ks===r&&null!==r&&(ks=r=r.return);continue}break}}function Tu(){var e=Ps.current;return Ps.current=Co,null===e?Co:e}function Su(e,t){var r=Cs;Cs|=16;var n=Tu();for(Os===e&&Rs===t||xu(e,t);;)try{Eu();break}catch(i){wu(e,i)}if($i(),Cs=r,Ps.current=n,null!==ks)throw Error(o(261));return Os=null,Rs=0,Ds}function Eu(){for(;null!==ks;)Pu(ks)}function Mu(){for(;null!==ks&&!Ei();)Pu(ks)}function Pu(e){var t=Ws(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Au(e):ks=t,As.current=null}function Au(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(r=is(r,t,Ls)))return void(ks=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&Ls)||0===(4&r.mode)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=as(t)))return r.flags&=2047,void(ks=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===Ds&&(Ds=5)}function Cu(e){var t=ji();return Gi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Ru()}while(null!==Qs);if(0!==(48&Cs))throw Error(o(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var l=31-Vt(a),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,a&=~c}if(null!==tu&&0===(24&n)&&tu.has(e)&&tu.delete(e),e===Os&&(ks=Os=null,Rs=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(i=Cs,Cs|=32,As.current=null,zn=Zt,pn(s=fn())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(M){u=null;break e}var h=0,d=-1,f=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==a&&3!==v.nodeType||(d=h+a),v!==l||0!==c&&3!==v.nodeType||(f=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++p===a&&(d=h),g===l&&++m===c&&(f=h),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===d||-1===f?null:{start:d,end:f}}else u=null;u=u||{start:0,end:0}}else u=null;Bn={focusedElem:s,selectionRange:u},Zt=!1,su=null,uu=!1,Xs=n;do{try{ku()}catch(M){if(null===Xs)throw Error(o(330));Fu(Xs,M),Xs=Xs.nextEffect}}while(null!==Xs);su=null,Xs=n;do{try{for(s=e;null!==Xs;){var b=Xs.flags;if(16&b&&ye(Xs.stateNode,""),128&b){var _=Xs.alternate;if(null!==_){var x=_.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:bs(Xs),Xs.flags&=-3;break;case 6:bs(Xs),Xs.flags&=-3,Ts(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,Ts(Xs.alternate,Xs);break;case 4:Ts(Xs.alternate,Xs);break;case 8:ws(s,u=Xs);var w=u.alternate;gs(u),null!==w&&gs(w)}Xs=Xs.nextEffect}}catch(M){if(null===Xs)throw Error(o(330));Fu(Xs,M),Xs=Xs.nextEffect}}while(null!==Xs);if(x=Bn,_=fn(),b=x.focusedElem,s=x.selectionRange,_!==b&&b&&b.ownerDocument&&dn(b.ownerDocument.documentElement,b)){null!==s&&pn(b)&&(_=s.start,void 0===(x=s.end)&&(x=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(x,b.value.length)):(x=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(x=x.getSelection(),u=b.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!x.extend&&w>s&&(u=s,s=w,w=u),u=hn(b,w),a=hn(b,s),u&&a&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==a.node||x.focusOffset!==a.offset)&&((_=_.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),w>s?(x.addRange(_),x.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),x.addRange(_))))),_=[];for(x=b;x=x.parentNode;)1===x.nodeType&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(x=_[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Zt=!!zn,Bn=zn=null,e.current=r,Xs=n;do{try{for(b=e;null!==Xs;){var T=Xs.flags;if(36&T&&ps(b,Xs.alternate,Xs),128&T){_=void 0;var S=Xs.ref;if(null!==S){var E=Xs.stateNode;switch(Xs.tag){case 5:_=E;break;default:_=E}"function"===typeof S?S(_):S.current=_}}Xs=Xs.nextEffect}}catch(M){if(null===Xs)throw Error(o(330));Fu(Xs,M),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,Di(),Cs=i}else e.current=r;if(Js)Js=!1,Qs=e,Ks=t;else for(Xs=n;null!==Xs;)t=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((T=Xs).sibling=null,T.stateNode=null),Xs=t;if(0===(n=e.pendingLanes)&&(Zs=null),1===n?e===nu?ru++:(ru=0,nu=e):ru=0,r=r.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(_i,r,void 0,64===(64&r.current.flags))}catch(M){}if(fu(e,Ui()),Ys)throw Ys=!1,e=qs,qs=null,e;return 0!==(8&Cs)||Wi(),null}function ku(){for(;null!==Xs;){var e=Xs.alternate;uu||null===su||(0!==(8&Xs.flags)?et(Xs,su)&&(uu=!0):13===Xs.tag&&Es(e,Xs)&&et(Xs,su)&&(uu=!0));var t=Xs.flags;0!==(256&t)&&fs(e,Xs),0===(512&t)||Js||(Js=!0,Vi(97,(function(){return Ru(),null}))),Xs=Xs.nextEffect}}function Ru(){if(90!==Ks){var e=97<Ks?97:Ks;return Ks=90,Gi(e,Du)}return!1}function Lu(e,t){$s.push(t,e),Js||(Js=!0,Vi(97,(function(){return Ru(),null})))}function Iu(e,t){eu.push(t,e),Js||(Js=!0,Vi(97,(function(){return Ru(),null})))}function Du(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!==(48&Cs))throw Error(o(331));var t=Cs;Cs|=32;var r=eu;eu=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===a)throw Error(o(330));Fu(a,l)}}for(r=$s,$s=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===a)throw Error(o(330));Fu(a,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Cs=t,Wi(),!0}function Nu(e,t,r){ua(e,t=ls(0,t=os(r,t),1)),t=lu(),null!==(e=du(e,1))&&(Gt(e,1,t),fu(e,t))}function Fu(e,t){if(3===e.tag)Nu(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Nu(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Zs||!Zs.has(n))){var i=cs(r,e=os(t,e),1);if(ua(r,i),i=lu(),null!==(r=du(r,1)))Gt(r,1,i),fu(r,i);else if("function"===typeof n.componentDidCatch&&(null===Zs||!Zs.has(n)))try{n.componentDidCatch(t,e)}catch(a){}break}}r=r.return}}function zu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&r,Os===e&&(Rs&r)===r&&(4===Ds||3===Ds&&(62914560&Rs)===Rs&&500>Ui()-Hs?xu(e,0):Us|=r),fu(e,t)}function Bu(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===ji()?1:2:(0===au&&(au=Fs),0===(t=jt(62914560&~au))&&(t=4194304))),r=lu(),null!==(e=du(e,t))&&(Gt(e,t,r),fu(e,r))}function Uu(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,r,n){return new Uu(e,t,r,n)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var r=e.alternate;return null===r?((r=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vu(e,t,r,n,i,a){var s=2;if(n=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Wu(r.children,i,a,t);case N:s=8,i|=16;break;case E:s=8,i|=1;break;case M:return(e=ju(12,r,t,8|i)).elementType=M,e.type=M,e.lanes=a,e;case O:return(e=ju(13,r,t,i)).type=O,e.elementType=O,e.lanes=a,e;case k:return(e=ju(19,r,t,i)).elementType=k,e.lanes=a,e;case F:return Xu(r,i,a,t);case z:return(e=ju(24,r,t,i)).elementType=z,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case A:s=9;break e;case C:s=11;break e;case R:s=14;break e;case L:s=16,n=null;break e;case I:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ju(s,r,t,i)).elementType=e,t.type=n,t.lanes=a,t}function Wu(e,t,r,n){return(e=ju(7,e,n,t)).lanes=r,e}function Xu(e,t,r,n){return(e=ju(23,e,n,t)).elementType=F,e.lanes=r,e}function Yu(e,t,r){return(e=ju(6,e,null,t)).lanes=r,e}function qu(e,t,r){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Ju(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Qu(e,t,r,n){var i=t.current,a=lu(),s=cu(i);e:if(r){t:{if(Je(r=r._reactInternals)!==r||1!==r.tag)throw Error(o(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(pi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===r.tag){var l=r.type;if(pi(l)){r=gi(r,l,u);break e}}r=u}else r=li;return null===t.context?t.context=r:t.pendingContext=r,(t=sa(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ua(i,t),hu(i,s,a),s}function Ku(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function el(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function tl(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Zu(e,t,null!=r&&!0===r.hydrate),t=ju(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,aa(t),e[Qn]=r.current,Cn(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var i=(t=n[e])._getVersion;i=i(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}function rl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nl(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Ku(o);s.call(e)}}Qu(t,o,e,i)}else{if(a=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new tl(e,0,t?{hydrate:!0}:void 0)}(r,n),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Ku(o);u.call(e)}}yu((function(){Qu(t,o,e,i)}))}return Ku(o)}function il(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rl(t))throw Error(o(200));return Ju(e,t,null,r)}Ws=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)Io=!0;else{if(0===(r&n)){switch(Io=!1,t.tag){case 3:Vo(t),Va();break;case 5:Ra(t);break;case 1:pi(t.type)&&yi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;ui(Zi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?Zo(e,t,r):(ui(Ia,1&Ia.current),null!==(t=rs(e,t,r))?t.sibling:null);ui(Ia,1&Ia.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(64&e.flags)){if(n)return ts(e,t,r);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Ia,Ia.current),n)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,r)}return rs(e,t,r)}Io=0!==(16384&e.flags)}else Io=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,ci.current),ra(t,r),i=no(null,t,n,e,i,r),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(n)){var a=!0;yi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&fa(t,n,s,e),i.updater=pa,t.stateNode=i,i._reactInternals=t,ya(t,n,e,r),t=Go(null,t,n,!0,a,r)}else t.tag=0,Do(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(i),e=qi(i,e),a){case 0:t=jo(null,t,i,e,r);break e;case 1:t=Ho(null,t,i,e,r);break e;case 11:t=No(null,t,i,e,r);break e;case 14:t=Fo(null,t,i,qi(i.type,e),n,r);break e}throw Error(o(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,jo(e,t,n,i=t.elementType===n?i:qi(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ho(e,t,n,i=t.elementType===n?i:qi(n,i),r);case 3:if(Vo(t),n=t.updateQueue,null===e||null===n)throw Error(o(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ca(t,n,null,r),(n=t.memoizedState.element)===i)Va(),t=rs(e,t,r);else{if((a=(i=t.stateNode).hydrate)&&(Fa=Wn(t.stateNode.containerInfo.firstChild),Na=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Wa.push(a);for(r=Sa(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Do(e,t,n,r),Va();t=t.child}return t;case 5:return Ra(t),null===e&&ja(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,jn(n,i)?s=null:null!==a&&jn(n,a)&&(t.flags|=16),Uo(e,t),Do(e,t,s,r),t.child;case 6:return null===e&&ja(t),null;case 13:return Zo(e,t,r);case 4:return Oa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ta(t,null,n,r):Do(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,No(e,t,n,i=t.elementType===n?i:qi(n,i),r);case 7:return Do(e,t,t.pendingProps,r),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(ui(Zi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=sn(u,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!hi.current){t=rs(e,t,r);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&a)){1===u.tag&&((c=sa(-1,r&-r)).tag=2,ua(u,c)),u.lanes|=r,null!==(c=u.alternate)&&(c.lanes|=r),ta(u.return,r),l.lanes|=r;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Do(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(a=t.pendingProps).children,ra(t,r),n=n(i=na(i,a.unstable_observedBits)),t.flags|=1,Do(e,t,n,r),t.child;case 14:return a=qi(i=t.type,t.pendingProps),Fo(e,t,i,a=qi(i.type,a),n,r);case 15:return zo(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:qi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(n)?(e=!0,yi(t)):e=!1,ra(t,r),va(t,n,i),ya(t,n,i,r),Go(null,t,n,!0,e,r);case 19:return ts(e,t,r);case 23:case 24:return Bo(e,t,r)}throw Error(o(156,t.tag))},tl.prototype.render=function(e){Qu(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qu(null,e,null,(function(){t[Qn]=null}))},tt=function(e){13===e.tag&&(hu(e,4,lu()),el(e,4))},rt=function(e){13===e.tag&&(hu(e,67108864,lu()),el(e,67108864))},nt=function(e){if(13===e.tag){var t=lu(),r=cu(e);hu(e,r,t),el(e,r)}},it=function(e,t){return t()},Pe=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=ri(n);if(!i)throw Error(o(90));Q(n),re(n,i)}}}break;case"textarea":le(e,r);break;case"select":null!=(t=r.value)&&oe(e,!!r.multiple,t,!1)}},Le=gu,Ie=function(e,t,r,n,i){var a=Cs;Cs|=4;try{return Gi(98,e.bind(null,t,r,n,i))}finally{0===(Cs=a)&&(Vs(),Wi())}},De=function(){0===(49&Cs)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fu(e,Ui())}))}Wi()}(),Ru())},Ne=function(e,t){var r=Cs;Cs|=2;try{return e(t)}finally{0===(Cs=r)&&(Vs(),Wi())}};var al={Events:[ei,ti,ri,ke,Re,Ru,{current:!1}]},ol={findFiberByHostInstance:$n,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},sl={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{_i=ul.inject(sl),xi=ul}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var r=Cs;if(0!==(48&r))return e(t);Cs|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Cs=r,Wi()}},t.hydrate=function(e,t,r){if(!rl(t))throw Error(o(200));return nl(null,e,t,!0,r)},t.render=function(e,t,r){if(!rl(t))throw Error(o(200));return nl(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!rl(e))throw Error(o(40));return!!e._reactRootContainer&&(yu((function(){nl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qn]=null}))})),!0)},t.unstable_batchedUpdates=gu,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!rl(r))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return nl(e,t,r,!1,n)},t.version="17.0.1"},function(e,t,r){"use strict";var n,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,h=null,d=function e(){if(null!==c)try{var r=t.unstable_now();c(!0,r),c=null}catch(n){throw setTimeout(e,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},i=function(e,t){h=setTimeout(e,t)},a=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();_=e+b;try{g(!0,e)?w.postMessage(null):(v=!1,g=null)}catch(r){throw w.postMessage(null),r}}else v=!1},n=function(e){g=e,v||(v=!0,w.postMessage(null))},i=function(e,r){y=f((function(){e(t.unstable_now())}),r)},a=function(){p(y),y=-1}}function T(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<M(i,t)))break e;e[n]=t,e[r]=i,r=n}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var a=2*(n+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>M(o,r))void 0!==u&&0>M(u,o)?(e[n]=u,e[s]=r,n=s):(e[n]=o,e[a]=r,n=a);else{if(!(void 0!==u&&0>M(u,r)))break e;e[n]=u,e[s]=r,n=s}}}return t}return null}function M(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var P=[],A=[],C=1,O=null,k=3,R=!1,L=!1,I=!1;function D(e){for(var t=S(A);null!==t;){if(null===t.callback)E(A);else{if(!(t.startTime<=e))break;E(A),t.sortIndex=t.expirationTime,T(P,t)}t=S(A)}}function N(e){if(I=!1,D(e),!L)if(null!==S(P))L=!0,n(F);else{var t=S(A);null!==t&&i(N,t.startTime-e)}}function F(e,r){L=!1,I&&(I=!1,a()),R=!0;var n=k;try{for(D(r),O=S(P);null!==O&&(!(O.expirationTime>r)||e&&!t.unstable_shouldYield());){var o=O.callback;if("function"===typeof o){O.callback=null,k=O.priorityLevel;var s=o(O.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?O.callback=s:O===S(P)&&E(P),D(r)}else E(P);O=S(P)}if(null!==O)var u=!0;else{var l=S(A);null!==l&&i(N,l.startTime-r),u=!1}return u}finally{O=null,k=n,R=!1}}var z=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||R||(L=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return S(P)},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var r=k;k=t;try{return e()}finally{k=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=k;k=e;try{return t()}finally{k=r}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:r,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,T(A,e),null===S(P)&&e===S(A)&&(I?a():I=!0,i(N,o-s))):(e.sortIndex=u,T(P,e),L||R||(L=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=k;return function(){var r=k;k=t;try{return e.apply(this,arguments)}finally{k=r}}}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.A=t.setLinkProps=void 0;var n,i=(n=r(1))&&n.__esModule?n:{default:n},a=r(26);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){var t="/"===e.href.substr(0,1)?(0,a.getBasepath)()+e.href:e.href;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},e,{href:t,onClick:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||"_blank"===e.target||(t.preventDefault(),(0,a.navigate)(t.currentTarget.href)),e.onClick&&e.onClick(t)}})};t.setLinkProps=s;t.A=function(e){return i.default.createElement("a",s(e))}},function(e,t,r){(function(e,n){var i;!function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n&&n;o.global!==o&&o.window!==o&&o.self;var s,u=2147483647,l=36,c=/^xn--/,h=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function v(e){throw RangeError(f[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function _(e){return g(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=l)e=p(e/35);return p(n+36*e/(e+38))}function T(e){var t,r,n,i,a,o,s,c,h,d,f,m=[],g=e.length,y=0,b=128,x=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&v("not-basic"),m.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(a=y,o=1,s=l;i>=g&&v("invalid-input"),((c=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:l)>=l||c>p((u-y)/o))&&v("overflow"),y+=c*o,!(c<(h=s<=x?1:s>=x+26?26:s-x));s+=l)o>p(u/(d=l-h))&&v("overflow"),o*=d;x=w(y-a,t=m.length+1,0==a),p(y/t)>u-b&&v("overflow"),b+=p(y/t),y%=t,m.splice(y++,0,b)}return _(m)}function S(e){var t,r,n,i,a,o,s,c,h,d,f,g,y,_,T,S=[];for(g=(e=b(e)).length,t=128,r=0,a=72,o=0;o<g;++o)(f=e[o])<128&&S.push(m(f));for(n=i=S.length,i&&S.push("-");n<g;){for(s=u,o=0;o<g;++o)(f=e[o])>=t&&f<s&&(s=f);for(s-t>p((u-r)/(y=n+1))&&v("overflow"),r+=(s-t)*y,t=s,o=0;o<g;++o)if((f=e[o])<t&&++r>u&&v("overflow"),f==t){for(c=r,h=l;!(c<(d=h<=a?1:h>=a+26?26:h-a));h+=l)T=c-d,_=l-d,S.push(m(x(d+T%_,0))),c=p(T/_);S.push(m(x(c,0))),a=w(r,y,n==i),r=0,++n}++r,++t}return S.join("")}s={version:"1.3.2",ucs2:{decode:b,encode:_},decode:T,encode:S,toASCII:function(e){return y(e,(function(e){return h.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?T(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(35)(e),r(22))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(70),t.encode=t.stringify=r(71)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,a){t=t||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var u=1e3;a&&"number"===typeof a.maxKeys&&(u=a.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,d,f,p,m=e[c].replace(s,"%20"),v=m.indexOf(r);v>=0?(h=m.substr(0,v),d=m.substr(v+1)):(h=m,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),n(o,f)?i(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?a(o(e),(function(o){var s=encodeURIComponent(n(o))+r;return i(e[o])?a(e[o],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[o]))})).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1))&&n.__esModule?n:{default:n},a=r(26);var o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=i.default.useContext(a.ParentContext),s=(0,a.getWorkingPath)(o);s===e&&(0,a.navigate)(o?".".concat(t):t,n,r)};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useControlledInterceptor=void 0;var n,i=(n=r(1))&&n.__esModule?n:{default:n},a=r(34),o=r(26);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.useControlledInterceptor=function(){var e=s(i.default.useState(null),2),t=e[0],r=e[1],n=i.default.useMemo((function(){return function(e,t){return r(t),e}}),[r]),u=(0,a.useInterceptor)(n),l=i.default.useMemo((function(){return function(){u(),(0,o.navigate)(t)}}),[u,t]),c=i.default.useMemo((function(){return function(){return r(null)}}),[r]);return[t,l,c,u]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTitle=t.useTitle=void 0;var n=a(r(1)),i=a(r(33));function a(e){return e&&e.__esModule?e:{default:e}}var o="";t.useTitle=function(e){o=e,i.default||n.default.useEffect((function(){var t=document.title;return document.title=e,function(){document.title=t}}))};t.getTitle=function(){return o}},,function(e,t,r){"use strict";r(19);var n=r(1),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,a={},l=null,c=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!u.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},function(e,t,r){"use strict";var n=r(78);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,function(e,t,r){(function(e){e.exports=function(t){var n={},i=r(19),a=r(1),o=r(21);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=60103,c=60106,h=60107,d=60108,f=60114,p=60109,m=60110,v=60112,g=60113,y=60120,b=60115,_=60116,x=60121,w=60129,T=60130,S=60131;if("function"===typeof Symbol&&Symbol.for){var E=Symbol.for;l=E("react.element"),c=E("react.portal"),h=E("react.fragment"),d=E("react.strict_mode"),f=E("react.profiler"),p=E("react.provider"),m=E("react.context"),v=E("react.forward_ref"),g=E("react.suspense"),y=E("react.suspense_list"),b=E("react.memo"),_=E("react.lazy"),x=E("react.block"),E("react.scope"),w=E("react.debug_trace_mode"),T=E("react.offscreen"),S=E("react.legacy_hidden")}var M="function"===typeof Symbol&&Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}function A(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case h:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case b:return A(e.type);case x:return A(e._render);case _:t=e._payload,e=e._init;try{return A(e(t))}catch(r){}}return null}function C(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function O(e){if(C(e)!==e)throw Error(s(188))}function k(e){var t=e.alternate;if(!t){if(null===(t=C(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return O(i),e;if(a===n)return O(i),t;a=a.sibling}throw Error(s(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=a;break}if(u===n){o=!0,n=i,r=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===r){o=!0,r=a,n=i;break}if(u===n){o=!0,n=a,r=i;break}u=u.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}function R(e){if(!(e=k(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function L(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var I,D=t.getPublicInstance,N=t.getRootHostContext,F=t.getChildHostContext,z=t.prepareForCommit,B=t.resetAfterCommit,U=t.createInstance,j=t.appendInitialChild,H=t.finalizeInitialChildren,G=t.prepareUpdate,V=t.shouldSetTextContent,W=t.createTextInstance,X=t.scheduleTimeout,Y=t.cancelTimeout,q=t.noTimeout,Z=t.isPrimaryRenderer,J=t.supportsMutation,Q=t.supportsPersistence,K=t.supportsHydration,$=t.getInstanceFromNode,ee=t.makeOpaqueHydratingObject,te=t.makeClientId,re=t.beforeActiveInstanceBlur,ne=t.afterActiveInstanceBlur,ie=t.preparePortalMount,ae=t.supportsTestSelectors,oe=t.findFiberRoot,se=t.getBoundingRect,ue=t.getTextContent,le=t.isHiddenSubtree,ce=t.matchAccessibilityRole,he=t.setFocusIfFocusable,de=t.setupIntersectionObserver,fe=t.appendChild,pe=t.appendChildToContainer,me=t.commitTextUpdate,ve=t.commitMount,ge=t.commitUpdate,ye=t.insertBefore,be=t.insertInContainerBefore,_e=t.removeChild,xe=t.removeChildFromContainer,we=t.resetTextContent,Te=t.hideInstance,Se=t.hideTextInstance,Ee=t.unhideInstance,Me=t.unhideTextInstance,Pe=t.clearContainer,Ae=t.cloneInstance,Ce=t.createContainerChildSet,Oe=t.appendChildToContainerChildSet,ke=t.finalizeContainerChildren,Re=t.replaceContainerChildren,Le=t.cloneHiddenInstance,Ie=t.cloneHiddenTextInstance,De=t.canHydrateInstance,Ne=t.canHydrateTextInstance,Fe=t.isSuspenseInstancePending,ze=t.isSuspenseInstanceFallback,Be=t.getNextHydratableSibling,Ue=t.getFirstHydratableChild,je=t.hydrateInstance,He=t.hydrateTextInstance,Ge=t.getNextHydratableInstanceAfterSuspenseInstance,Ve=t.commitHydratedContainer,We=t.commitHydratedSuspenseInstance;function Xe(e){if(void 0===I)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var Ye=!1;function qe(e,t){if(!e||Ye)return"";Ye=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=n.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{Ye=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xe(e):""}var Ze=[],Je=-1;function Qe(e){return{current:e}}function Ke(e){0>Je||(e.current=Ze[Je],Ze[Je]=null,Je--)}function $e(e,t){Je++,Ze[Je]=e.current,e.current=t}var et={},tt=Qe(et),rt=Qe(!1),nt=et;function it(e,t){var r=e.type.contextTypes;if(!r)return et;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function at(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ot(){Ke(rt),Ke(tt)}function st(e,t,r){if(tt.current!==et)throw Error(s(168));$e(tt,t),$e(rt,r)}function ut(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in e))throw Error(s(108,A(t)||"Unknown",a));return i({},r,n)}function lt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||et,nt=tt.current,$e(tt,e),$e(rt,rt.current),!0}function ct(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=ut(e,t,nt),n.__reactInternalMemoizedMergedChildContext=e,Ke(rt),Ke(tt),$e(tt,e)):Ke(rt),$e(rt,r)}var ht=null,dt=null;(0,o.unstable_now)();var ft=0,pt=8;function mt(e){if(0!==(1&e))return pt=15,1;if(0!==(2&e))return pt=14,2;if(0!==(4&e))return pt=13,4;var t=24&e;return 0!==t?(pt=12,t):0!==(32&e)?(pt=11,32):0!==(t=192&e)?(pt=10,t):0!==(256&e)?(pt=9,256):0!==(t=3584&e)?(pt=8,t):0!==(4096&e)?(pt=7,4096):0!==(t=4186112&e)?(pt=6,t):0!==(t=62914560&e)?(pt=5,t):67108864&e?(pt=4,67108864):0!==(134217728&e)?(pt=3,134217728):0!==(t=805306368&e)?(pt=2,t):0!==(1073741824&e)?(pt=1,1073741824):(pt=8,e)}function vt(e,t){var r=e.pendingLanes;if(0===r)return pt=0;var n=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)n=a,i=pt=15;else if(0!==(a=134217727&r)){var u=a&~o;0!==u?(n=mt(u),i=pt):0!==(s&=a)&&(n=mt(s),i=pt)}else 0!==(a=r&~o)?(n=mt(a),i=pt):0!==s&&(n=mt(s),i=pt);if(0===n)return 0;if(n=r&((0>(n=31-wt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&o)){if(mt(t),i<=pt)return t;pt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-wt(t)),n|=e[r],t&=~i;return n}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=bt(24&~t))?yt(10,t):e;case 10:return 0===(e=bt(192&~t))?yt(8,t):e;case 8:return 0===(e=bt(3584&~t))&&(0===(e=bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=bt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function bt(e){return e&-e}function _t(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-wt(t)]=r}var wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Tt(e)/St|0)|0},Tt=Math.log,St=Math.LN2;var Et=o.unstable_runWithPriority,Mt=o.unstable_scheduleCallback,Pt=o.unstable_cancelCallback,At=o.unstable_shouldYield,Ct=o.unstable_requestPaint,Ot=o.unstable_now,kt=o.unstable_getCurrentPriorityLevel,Rt=o.unstable_ImmediatePriority,Lt=o.unstable_UserBlockingPriority,It=o.unstable_NormalPriority,Dt=o.unstable_LowPriority,Nt=o.unstable_IdlePriority,Ft={},zt=void 0!==Ct?Ct:function(){},Bt=null,Ut=null,jt=!1,Ht=Ot(),Gt=1e4>Ht?Ot:function(){return Ot()-Ht};function Vt(){switch(kt()){case Rt:return 99;case Lt:return 98;case It:return 97;case Dt:return 96;case Nt:return 95;default:throw Error(s(332))}}function Wt(e){switch(e){case 99:return Rt;case 98:return Lt;case 97:return It;case 96:return Dt;case 95:return Nt;default:throw Error(s(332))}}function Xt(e,t){return e=Wt(e),Et(e,t)}function Yt(e,t,r){return e=Wt(e),Mt(e,t,r)}function qt(){if(null!==Ut){var e=Ut;Ut=null,Pt(e)}Zt()}function Zt(){if(!jt&&null!==Bt){jt=!0;var e=0;try{var t=Bt;Xt(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Bt=null}catch(r){throw null!==Bt&&(Bt=Bt.slice(e+1)),Mt(Rt,qt),r}finally{jt=!1}}}var Jt=u.ReactCurrentBatchConfig;var Qt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Kt=Object.prototype.hasOwnProperty;function $t(e,t){if(Qt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Kt.call(t,r[n])||!Qt(e[r[n]],t[r[n]]))return!1;return!0}function er(e){switch(e.tag){case 5:return Xe(e.type);case 16:return Xe("Lazy");case 13:return Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 2:case 15:return e=qe(e.type,!1);case 11:return e=qe(e.type.render,!1);case 22:return e=qe(e.type._render,!1);case 1:return e=qe(e.type,!0);default:return""}}function tr(e,t){if(e&&e.defaultProps){for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var rr=Qe(null),nr=null,ir=null,ar=null;function or(){ar=ir=nr=null}function sr(e,t){e=e.type._context,Z?($e(rr,e._currentValue),e._currentValue=t):($e(rr,e._currentValue2),e._currentValue2=t)}function ur(e){var t=rr.current;Ke(rr),e=e.type._context,Z?e._currentValue=t:e._currentValue2=t}function lr(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function cr(e,t){nr=e,ar=ir=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Hn=!0),e.firstContext=null)}function hr(e,t){if(ar!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ar=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ir){if(null===nr)throw Error(s(308));ir=t,nr.dependencies={lanes:0,firstContext:t,responders:null}}else ir=ir.next=t;return Z?e._currentValue:e._currentValue2}var dr=!1;function fr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function pr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function gr(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yr(e,t,r,n){var a=e.updateQueue;dr=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==s&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=l)}}if(null!==o){for(d=a.baseState,s=0,h=c=l=null;;){u=o.lane;var f=o.eventTime;if((n&u)===u){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(u=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(f,d,u):p)||void 0===u)break e;d=i({},d,u);break e;case 2:dr=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else f={eventTime:f,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,l=d):h=h.next=f,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===h&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=h,ha|=s,e.lanes=s,e.memoizedState=d}}function br(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(s(191,i));i.call(n)}}}var _r=(new a.Component).refs;function xr(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var wr={isMounted:function(e){return!!(e=e._reactInternals)&&C(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Na(),i=Fa(e),a=mr(n,i);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),vr(e,a),za(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Na(),i=Fa(e),a=mr(n,i);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),vr(e,a),za(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Na(),n=Fa(e),i=mr(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),vr(e,i),za(e,n,r)}};function Tr(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!$t(r,n)||!$t(i,a))}function Sr(e,t,r){var n=!1,i=et,a=t.contextType;return"object"===typeof a&&null!==a?a=hr(a):(i=at(t)?nt:tt.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?it(e,i):et),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wr,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Er(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wr.enqueueReplaceState(t,t.state,null)}function Mr(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=_r,fr(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=hr(a):(a=at(t)?nt:tt.current,i.context=it(e,a)),yr(e,r,i,n),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(xr(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wr.enqueueReplaceState(i,i.state,null),yr(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Pr=Array.isArray;function Ar(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===_r&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Cr(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Or(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=So(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=Ao(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=Ar(e,t,r),n.return=e,n):((n=Eo(r.type,r.key,r.props,null,e.mode,n)).ref=Ar(e,t,r),n.return=e,n)}function f(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Co(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function p(e,t,r,n,a){return null===t||7!==t.tag?((t=Mo(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Ao(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(r=Eo(t.type,t.key,t.props,null,e.mode,r)).ref=Ar(e,null,t),r.return=e,r;case c:return(t=Co(t,e.mode,r)).return=e,t}if(Pr(t)||P(t))return(t=Mo(t,e.mode,r,null)).return=e,t;Cr(e,t)}return null}function v(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return r.key===i?r.type===h?p(e,t,r.props.children,n,i):d(e,t,r,n):null;case c:return r.key===i?f(e,t,r,n):null}if(Pr(r)||P(r))return null!==i?null:p(e,t,r,n,null);Cr(e,r)}return null}function g(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return u(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return e=e.get(null===n.key?r:n.key)||null,n.type===h?p(t,e,n.props.children,i,n.key):d(t,e,n,i);case c:return f(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(Pr(n)||P(n))return p(t,e=e.get(r)||null,n,i,null);Cr(t,n)}return null}function y(i,o,s,u){for(var l=null,c=null,h=o,d=o=0,f=null;null!==h&&d<s.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=v(i,h,s[d],u);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(i,h),o=a(p,o,d),null===c?l=p:c.sibling=p,c=p,h=f}if(d===s.length)return r(i,h),l;if(null===h){for(;d<s.length;d++)null!==(h=m(i,s[d],u))&&(o=a(h,o,d),null===c?l=h:c.sibling=h,c=h);return l}for(h=n(i,h);d<s.length;d++)null!==(f=g(h,i,d,s[d],u))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),o=a(f,o,d),null===c?l=f:c.sibling=f,c=f);return e&&h.forEach((function(e){return t(i,e)})),l}function b(i,o,u,l){var c=P(u);if("function"!==typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var h=c=null,d=o,f=o=0,p=null,y=u.next();null!==d&&!y.done;f++,y=u.next()){d.index>f?(p=d,d=null):p=d.sibling;var b=v(i,d,y.value,l);if(null===b){null===d&&(d=p);break}e&&d&&null===b.alternate&&t(i,d),o=a(b,o,f),null===h?c=b:h.sibling=b,h=b,d=p}if(y.done)return r(i,d),c;if(null===d){for(;!y.done;f++,y=u.next())null!==(y=m(i,y.value,l))&&(o=a(y,o,f),null===h?c=y:h.sibling=y,h=y);return c}for(d=n(i,d);!y.done;f++,y=u.next())null!==(y=g(d,i,f,y.value,l))&&(e&&null!==y.alternate&&d.delete(null===y.key?f:y.key),o=a(y,o,f),null===h?c=y:h.sibling=y,h=y);return e&&d.forEach((function(e){return t(i,e)})),c}return function(e,n,a,u){var d="object"===typeof a&&null!==a&&a.type===h&&null===a.key;d&&(a=a.props.children);var f="object"===typeof a&&null!==a;if(f)switch(a.$$typeof){case l:e:{for(f=a.key,d=n;null!==d;){if(d.key===f){switch(d.tag){case 7:if(a.type===h){r(e,d.sibling),(n=i(d,a.props.children)).return=e,e=n;break e}break;default:if(d.elementType===a.type){r(e,d.sibling),(n=i(d,a.props)).ref=Ar(e,d,a),n.return=e,e=n;break e}}r(e,d);break}t(e,d),d=d.sibling}a.type===h?((n=Mo(a.props.children,e.mode,u,a.key)).return=e,e=n):((u=Eo(a.type,a.key,a.props,null,e.mode,u)).ref=Ar(e,n,a),u.return=e,e=u)}return o(e);case c:e:{for(d=a.key;null!==n;){if(n.key===d){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling),(n=i(n,a.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Co(a,e.mode,u)).return=e,e=n}return o(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,a)).return=e,e=n):(r(e,n),(n=Ao(a,e.mode,u)).return=e,e=n),o(e);if(Pr(a))return y(e,n,a,u);if(P(a))return b(e,n,a,u);if(f&&Cr(e,a),"undefined"===typeof a&&!d)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,A(e.type)||"Component"))}return r(e,n)}}var kr=Or(!0),Rr=Or(!1),Lr={},Ir=Qe(Lr),Dr=Qe(Lr),Nr=Qe(Lr);function Fr(e){if(e===Lr)throw Error(s(174));return e}function zr(e,t){$e(Nr,t),$e(Dr,e),$e(Ir,Lr),e=N(t),Ke(Ir),$e(Ir,e)}function Br(){Ke(Ir),Ke(Dr),Ke(Nr)}function Ur(e){var t=Fr(Nr.current),r=Fr(Ir.current);r!==(t=F(r,e.type,t))&&($e(Dr,e),$e(Ir,t))}function jr(e){Dr.current===e&&(Ke(Ir),Ke(Dr))}var Hr=Qe(0);function Gr(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Fe(r)||ze(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vr=null,Wr=null,Xr=!1;function Yr(e,t){var r=wo(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function qr(e,t){switch(e.tag){case 5:return null!==(t=De(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Ne(t,e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function Zr(e){if(Xr){var t=Wr;if(t){var r=t;if(!qr(e,t)){if(!(t=Be(r))||!qr(e,t))return e.flags=-1025&e.flags|2,Xr=!1,void(Vr=e);Yr(Vr,r)}Vr=e,Wr=Ue(t)}else e.flags=-1025&e.flags|2,Xr=!1,Vr=e}}function Jr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vr=e}function Qr(e){if(!K||e!==Vr)return!1;if(!Xr)return Jr(e),Xr=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!V(t,e.memoizedProps))for(t=Wr;t;)Yr(e,t),t=Be(t);if(Jr(e),13===e.tag){if(!K)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));Wr=Ge(e)}else Wr=Vr?Be(e.stateNode):null;return!0}function Kr(){K&&(Wr=Vr=null,Xr=!1)}var $r=[];function en(){for(var e=0;e<$r.length;e++){var t=$r[e];Z?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}$r.length=0}var tn=u.ReactCurrentDispatcher,rn=u.ReactCurrentBatchConfig,nn=0,an=null,on=null,sn=null,un=!1,ln=!1;function cn(){throw Error(s(321))}function hn(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qt(e[r],t[r]))return!1;return!0}function dn(e,t,r,n,i,a){if(nn=a,an=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tn.current=null===e||null===e.memoizedState?zn:Bn,e=r(n,i),ln){a=0;do{if(ln=!1,!(25>a))throw Error(s(301));a+=1,sn=on=null,t.updateQueue=null,tn.current=Un,e=r(n,i)}while(ln)}if(tn.current=Fn,t=null!==on&&null!==on.next,nn=0,sn=on=an=null,un=!1,t)throw Error(s(300));return e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sn?an.memoizedState=sn=e:sn=sn.next=e,sn}function pn(){if(null===on){var e=an.alternate;e=null!==e?e.memoizedState:null}else e=on.next;var t=null===sn?an.memoizedState:sn.next;if(null!==t)sn=t,on=e;else{if(null===e)throw Error(s(310));e={memoizedState:(on=e).memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},null===sn?an.memoizedState=sn=e:sn=sn.next=e}return sn}function mn(e,t){return"function"===typeof t?t(e):t}function vn(e){var t=pn(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=on,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var u=o=a=null,l=i;do{var c=l.lane;if((nn&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===e?l.eagerState:e(n,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(o=u=h,a=n):u=u.next=h,an.lanes|=c,ha|=c}l=l.next}while(null!==l&&l!==i);null===u?a=n:u.next=o,Qt(n,t.memoizedState)||(Hn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function gn(e){var t=pn(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Qt(a,t.memoizedState)||(Hn=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function yn(e,t,r){var n=t._getVersion;n=n(t._source);var i=Z?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==i?e=i===n:(e=e.mutableReadLanes,(e=(nn&e)===e)&&(Z?t._workInProgressVersionPrimary=n:t._workInProgressVersionSecondary=n,$r.push(t))),e)return r(t._source);throw $r.push(t),Error(s(350))}function bn(e,t,r,n){var i=na;if(null===i)throw Error(s(349));var a=t._getVersion,o=a(t._source),u=tn.current,l=u.useState((function(){return yn(i,t,r)})),c=l[1],h=l[0];l=sn;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var v=an;return e.memoizedState={refs:f,source:t,subscribe:n},u.useEffect((function(){f.getSnapshot=r,f.setSnapshot=c;var e=a(t._source);if(!Qt(o,e)){e=r(t._source),Qt(h,e)||(c(e),e=Fa(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var n=i.entanglements,s=e;0<s;){var u=31-wt(s),l=1<<u;n[u]|=e,s&=~l}}}),[r,t,n]),u.useEffect((function(){return n(t._source,(function(){var e=f.getSnapshot,r=f.setSnapshot;try{r(e(t._source));var n=Fa(v);i.mutableReadLanes|=n&i.pendingLanes}catch(a){r((function(){throw a}))}}))}),[t,n]),Qt(p,r)&&Qt(m,t)&&Qt(d,n)||((e={pending:null,dispatch:null,lastRenderedReducer:mn,lastRenderedState:h}).dispatch=c=Nn.bind(null,an,e),l.queue=e,l.baseQueue=null,h=yn(i,t,r),l.memoizedState=l.baseState=h),h}function _n(e,t,r){return bn(pn(),e,t,r)}function xn(e){var t=fn();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e}).dispatch=Nn.bind(null,an,e),[t.memoizedState,e]}function wn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=an.updateQueue)?(t={lastEffect:null},an.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Tn(e){return e={current:e},fn().memoizedState=e}function Sn(){return pn().memoizedState}function En(e,t,r,n){var i=fn();an.flags|=e,i.memoizedState=wn(1|t,r,void 0,void 0===n?null:n)}function Mn(e,t,r,n){var i=pn();n=void 0===n?null:n;var a=void 0;if(null!==on){var o=on.memoizedState;if(a=o.destroy,null!==n&&hn(n,o.deps))return void wn(t,r,a,n)}an.flags|=e,i.memoizedState=wn(1|t,r,a,n)}function Pn(e,t){return En(516,4,e,t)}function An(e,t){return Mn(516,4,e,t)}function Cn(e,t){return Mn(4,2,e,t)}function On(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function kn(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Mn(4,2,On.bind(null,t,e),r)}function Rn(){}function Ln(e,t){var r=pn();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&hn(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function In(e,t){var r=pn();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&hn(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Dn(e,t){var r=Vt();Xt(98>r?98:r,(function(){e(!0)})),Xt(97<r?97:r,(function(){var r=rn.transition;rn.transition=1;try{e(!1),t()}finally{rn.transition=r}}))}function Nn(e,t,r){var n=Na(),i=Fa(e),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===an||null!==o&&o===an)ln=un=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,r);if(a.eagerReducer=o,a.eagerState=u,Qt(u,s))return}catch(l){}za(e,i,n)}}var Fn={readContext:hr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useOpaqueIdentifier:cn,unstable_isNewReconciler:!1},zn={readContext:hr,useCallback:function(e,t){return fn().memoizedState=[e,void 0===t?null:t],e},useContext:hr,useEffect:Pn,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,En(4,2,On.bind(null,t,e),r)},useLayoutEffect:function(e,t){return En(4,2,e,t)},useMemo:function(e,t){var r=fn();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fn();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Nn.bind(null,an,e),[n.memoizedState,e]},useRef:Tn,useState:xn,useDebugValue:Rn,useDeferredValue:function(e){var t=xn(e),r=t[0],n=t[1];return Pn((function(){var t=rn.transition;rn.transition=1;try{n(e)}finally{rn.transition=t}}),[e]),r},useTransition:function(){var e=xn(!1),t=e[0];return Tn(e=Dn.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=fn();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},bn(n,e,t,r)},useOpaqueIdentifier:function(){if(Xr){var e=!1,t=ee((function(){throw e||(e=!0,r(te())),Error(s(355))})),r=xn(t)[1];return 0===(2&an.mode)&&(an.flags|=516,wn(5,(function(){r(te())}),void 0,null)),t}return xn(t=te()),t},unstable_isNewReconciler:!1},Bn={readContext:hr,useCallback:Ln,useContext:hr,useEffect:An,useImperativeHandle:kn,useLayoutEffect:Cn,useMemo:In,useReducer:vn,useRef:Sn,useState:function(){return vn(mn)},useDebugValue:Rn,useDeferredValue:function(e){var t=vn(mn),r=t[0],n=t[1];return An((function(){var t=rn.transition;rn.transition=1;try{n(e)}finally{rn.transition=t}}),[e]),r},useTransition:function(){var e=vn(mn)[0];return[Sn().current,e]},useMutableSource:_n,useOpaqueIdentifier:function(){return vn(mn)[0]},unstable_isNewReconciler:!1},Un={readContext:hr,useCallback:Ln,useContext:hr,useEffect:An,useImperativeHandle:kn,useLayoutEffect:Cn,useMemo:In,useReducer:gn,useRef:Sn,useState:function(){return gn(mn)},useDebugValue:Rn,useDeferredValue:function(e){var t=gn(mn),r=t[0],n=t[1];return An((function(){var t=rn.transition;rn.transition=1;try{n(e)}finally{rn.transition=t}}),[e]),r},useTransition:function(){var e=gn(mn)[0];return[Sn().current,e]},useMutableSource:_n,useOpaqueIdentifier:function(){return gn(mn)[0]},unstable_isNewReconciler:!1},jn=u.ReactCurrentOwner,Hn=!1;function Gn(e,t,r,n){t.child=null===e?Rr(t,null,r,n):kr(t,e.child,r,n)}function Vn(e,t,r,n,i){r=r.render;var a=t.ref;return cr(t,i),n=dn(e,t,r,n,a,i),null===e||Hn?(t.flags|=1,Gn(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hi(e,t,i))}function Wn(e,t,r,n,i,a){if(null===e){var o=r.type;return"function"!==typeof o||To(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Eo(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Xn(e,t,o,n,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(r=null!==(r=r.compare)?r:$t)(i,n)&&e.ref===t.ref)?hi(e,t,a):(t.flags|=1,(e=So(o,n)).ref=t.ref,e.return=t,t.child=e)}function Xn(e,t,r,n,i,a){if(null!==e&&$t(e.memoizedProps,n)&&e.ref===t.ref){if(Hn=!1,0===(a&i))return t.lanes=e.lanes,hi(e,t,a);0!==(16384&e.flags)&&(Hn=!0)}return Zn(e,t,r,n,a)}function Yn(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Xa(t,r);else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Xa(t,e),null;t.memoizedState={baseLanes:0},Xa(t,null!==a?a.baseLanes:r)}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Xa(t,n);return Gn(e,t,i,r),t.child}function qn(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function Zn(e,t,r,n,i){var a=at(r)?nt:tt.current;return a=it(t,a),cr(t,i),r=dn(e,t,r,n,a,i),null===e||Hn?(t.flags|=1,Gn(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hi(e,t,i))}function Jn(e,t,r,n,i){if(at(r)){var a=!0;lt(t)}else a=!1;if(cr(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Sr(t,r,n),Mr(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=r.contextType;"object"===typeof l&&null!==l?l=hr(l):l=it(t,l=at(r)?nt:tt.current);var c=r.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||u!==l)&&Er(t,o,n,l),dr=!1;var d=t.memoizedState;o.state=d,yr(t,n,o,i),u=t.memoizedState,s!==n||d!==u||rt.current||dr?("function"===typeof c&&(xr(t,r,c,n),u=t.memoizedState),(s=dr||Tr(t,r,s,n,d,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=l,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4),n=!1)}else{o=t.stateNode,pr(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:tr(t.type,s),o.props=l,h=t.pendingProps,d=o.context,"object"===typeof(u=r.contextType)&&null!==u?u=hr(u):u=it(t,u=at(r)?nt:tt.current);var f=r.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==u)&&Er(t,o,n,u),dr=!1,d=t.memoizedState,o.state=d,yr(t,n,o,i);var p=t.memoizedState;s!==h||d!==p||rt.current||dr?("function"===typeof f&&(xr(t,r,f,n),p=t.memoizedState),(l=dr||Tr(t,r,l,n,d,p,u))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=u,n=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),n=!1)}return Qn(e,t,r,n,a,i)}function Qn(e,t,r,n,i,a){qn(e,t);var o=0!==(64&t.flags);if(!n&&!o)return i&&ct(t,r,!1),hi(e,t,a);n=t.stateNode,jn.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=kr(t,e.child,null,a),t.child=kr(t,null,s,a)):Gn(e,t,s,a),t.memoizedState=n.state,i&&ct(t,r,!0),t.child}function Kn(e){var t=e.stateNode;t.pendingContext?st(0,t.pendingContext,t.pendingContext!==t.context):t.context&&st(0,t.context,!1),zr(e,t.containerInfo)}var $n,ei,ti,ri,ni={dehydrated:null,retryLane:0};function ii(e,t,r){var n,i=t.pendingProps,a=Hr.current,o=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&a)),n?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),$e(Hr,1&a),null===e?(void 0!==i.fallback&&Zr(t),e=i.children,a=i.fallback,o?(e=ai(t,e,a,r),t.child.memoizedState={baseLanes:r},t.memoizedState=ni,e):"number"===typeof i.unstable_expectedLoadTime?(e=ai(t,e,a,r),t.child.memoizedState={baseLanes:r},t.memoizedState=ni,t.lanes=33554432,e):((r=Po({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,o?(i=si(e,t,i.children,i.fallback,r),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:r}:{baseLanes:a.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=ni,i):(r=oi(e,t,i.children,r),t.memoizedState=null,r))}function ai(e,t,r,n){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Po(t,i,0,null),r=Mo(r,i,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,r}function oi(e,t,r,n){var i=e.child;return e=i.sibling,r=So(i,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function si(e,t,r,n,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:r};return 0===(2&a)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=s,null!==(o=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):r=So(o,s),null!==e?n=So(e,n):(n=Mo(n,a,i,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function ui(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),lr(e.return,t)}function li(e,t,r,n,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function ci(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Gn(e,t,n.children,r),0!==(2&(n=Hr.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ui(e,r);else if(19===e.tag)ui(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($e(Hr,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Gr(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),li(t,!1,i,r,a,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Gr(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}li(t,!0,r,null,a,t.lastEffect);break;case"together":li(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function hi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),ha|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=So(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=So(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function di(e){e.flags|=4}if(J)$n=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)j(e,r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ei=function(){},ti=function(e,t,r,n,i){if((e=e.memoizedProps)!==n){var a=t.stateNode,o=Fr(Ir.current);r=G(a,r,e,n,i,o),(t.updateQueue=r)&&di(t)}},ri=function(e,t,r,n){r!==n&&di(t)};else if(Q){$n=function(e,t,r,n){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;r&&n&&(a=Le(a,i.type,i.memoizedProps,i)),j(e,a)}else if(6===i.tag)a=i.stateNode,r&&n&&(a=Ie(a,i.memoizedProps,i)),j(e,a);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.flags)&&(a=null!==i.memoizedState)){var o=i.child;if(null!==o&&(null!==o.child&&(o.child.return=o,$n(e,o,!0,a)),null!==(a=o.sibling))){a.return=i,i=a;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var fi=function e(t,r,n,i){for(var a=r.child;null!==a;){if(5===a.tag){var o=a.stateNode;n&&i&&(o=Le(o,a.type,a.memoizedProps,a)),Oe(t,o)}else if(6===a.tag)o=a.stateNode,n&&i&&(o=Ie(o,a.memoizedProps,a)),Oe(t,o);else if(4!==a.tag){if(13===a.tag&&0!==(4&a.flags)&&(o=null!==a.memoizedState)){var s=a.child;if(null!==s&&(null!==s.child&&(s.child.return=s,e(t,s,!0,o)),null!==(o=s.sibling))){o.return=a,a=o;continue}}if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===r)break;for(;null===a.sibling;){if(null===a.return||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};ei=function(e){var t=e.stateNode;if(null!==e.firstEffect){var r=t.containerInfo,n=Ce(r);fi(n,e,!1,!1),t.pendingChildren=n,di(e),ke(r,n)}},ti=function(e,t,r,n,i){var a=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===n)t.stateNode=a;else{var s=t.stateNode,u=Fr(Ir.current),l=null;o!==n&&(l=G(s,r,o,n,i,u)),e&&null===l?t.stateNode=a:(a=Ae(a,l,r,o,n,t,e,s),H(a,r,n,i,u)&&di(t),t.stateNode=a,e?di(t):$n(a,t,!1,!1))}},ri=function(e,t,r,n){r!==n?(e=Fr(Nr.current),r=Fr(Ir.current),t.stateNode=W(n,e,r,t),di(t)):t.stateNode=e.stateNode}}else ei=function(){},ti=function(){},ri=function(){};function pi(e,t){if(!Xr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mi(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return at(t.type)&&ot(),null;case 3:return Br(),Ke(rt),Ke(tt),en(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Qr(t)?di(t):n.hydrate||(t.flags|=256)),ei(t),null;case 5:jr(t);var i=Fr(Nr.current);if(r=t.type,null!==e&&null!=t.stateNode)ti(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(s(166));return null}if(e=Fr(Ir.current),Qr(t)){if(!K)throw Error(s(175));e=je(t.stateNode,t.type,t.memoizedProps,i,e,t),t.updateQueue=e,null!==e&&di(t)}else{var a=U(r,n,i,e,t);$n(a,t,!1,!1),t.stateNode=a,H(a,r,n,i,e)&&di(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ri(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(e=Fr(Nr.current),i=Fr(Ir.current),Qr(t)){if(!K)throw Error(s(176));He(t.stateNode,t.memoizedProps,t)&&di(t)}else t.stateNode=W(n,e,i,t)}return null;case 13:return Ke(Hr),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(n=null!==n,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Qr(t):i=null!==e.memoizedState,n&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Hr.current)?0===ua&&(ua=3):(0!==ua&&3!==ua||(ua=4),null===na||0===(134217727&ha)&&0===(134217727&da)||Ha(na,aa))),Q&&n&&(t.flags|=4),J&&(n||i)&&(t.flags|=4),null);case 4:return Br(),ei(t),null===e&&ie(t.stateNode.containerInfo),null;case 10:return ur(t),null;case 17:return at(t.type)&&ot(),null;case 19:if(Ke(Hr),null===(n=t.memoizedState))return null;if(i=0!==(64&t.flags),null===(a=n.rendering))if(i)pi(n,!1);else{if(0!==ua||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=Gr(e))){for(t.flags|=64,pi(n,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,e=r,n=t.child;null!==n;)r=e,(i=n).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(a=i.alternate)?(i.childLanes=0,i.lanes=r,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext}),n=n.sibling;return $e(Hr,1&Hr.current|2),t.child}e=e.sibling}null!==n.tail&&Gt()>va&&(t.flags|=64,i=!0,pi(n,!1),t.lanes=33554432)}else{if(!i)if(null!==(e=Gr(a))){if(t.flags|=64,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),pi(n,!0),null===n.tail&&"hidden"===n.tailMode&&!a.alternate&&!Xr)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Gt()-n.renderingStartTime>va&&1073741824!==r&&(t.flags|=64,i=!0,pi(n,!1),t.lanes=33554432);n.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=n.last)?e.sibling=a:t.child=a,n.last=a)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Gt(),e.sibling=null,t=Hr.current,$e(Hr,i?1&t|2:1&t),e):null;case 23:case 24:return Ya(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function vi(e){switch(e.tag){case 1:at(e.type)&&ot();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Br(),Ke(rt),Ke(tt),en(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return jr(e),null;case 13:return Ke(Hr),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Ke(Hr),null;case 4:return Br(),null;case 10:return ur(e),null;case 23:case 24:return Ya(),null;default:return null}}function gi(e,t){try{var r="",n=t;do{r+=er(n),n=n.return}while(n);var i=r}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var bi="function"===typeof WeakMap?WeakMap:Map;function _i(e,t,r){(r=mr(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_a||(_a=!0,xa=n),yi(0,t)},r}function xi(e,t,r){(r=mr(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return yi(0,t),n(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===wa?wa=new Set([this]):wa.add(this),yi(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var wi="function"===typeof WeakSet?WeakSet:Set;function Ti(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){co(e,r)}else t.current=null}function Si(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:tr(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(J&&256&t.flags&&Pe(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(s(163))}function Ei(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function Mi(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;n=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(so(r,e),oo(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:tr(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&br(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=D(r.child.stateNode);break;case 1:e=r.child.stateNode}br(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&ve(e,r.type,r.memoizedProps,r));case 6:case 4:case 12:return;case 13:return void(K&&null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&We(r)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(s(163))}function Pi(e,t){if(J)for(var r=e;;){if(5===r.tag){var n=r.stateNode;t?Te(n):Ee(r.stateNode,r.memoizedProps)}else if(6===r.tag)n=r.stateNode,t?Se(n):Me(n,r.memoizedProps);else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Ai(e,t){if(dt&&"function"===typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ht,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,void 0!==i)if(0!==(4&n))so(t,r);else{n=t;try{i()}catch(a){co(n,a)}}r=r.next}while(r!==e)}break;case 1:if(Ti(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){co(t,a)}break;case 5:Ti(t);break;case 4:J?Di(e,t):Q&&Q&&(t=t.stateNode.containerInfo,e=Ce(t),Re(t,e))}}function Ci(e,t){for(var r=t;;)if(Ai(e,r),null===r.child||J&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Oi(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ki(e){return 5===e.tag||3===e.tag||4===e.tag}function Ri(e){if(J){e:{for(var t=e.return;null!==t;){if(ki(t))break e;t=t.return}throw Error(s(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(s(161))}16&r.flags&&(we(t),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ki(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?Li(e,r,t):Ii(e,r,t)}}function Li(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?be(r,e,t):pe(r,e);else if(4!==n&&null!==(e=e.child))for(Li(e,t,r),e=e.sibling;null!==e;)Li(e,t,r),e=e.sibling}function Ii(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?ye(r,e,t):fe(r,e);else if(4!==n&&null!==(e=e.child))for(Ii(e,t,r),e=e.sibling;null!==e;)Ii(e,t,r),e=e.sibling}function Di(e,t){for(var r,n,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag)Ci(e,i),n?xe(r,i.stateNode):_e(r,i.stateNode);else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,n=!0,i.child.return=i,i=i.child;continue}}else if(Ai(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ni(e,t){if(J){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ei(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ge(r,a,i,e,n,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return r=t.memoizedProps,void me(t.stateNode,null!==e?e.memoizedProps:r,r);case 3:return void(K&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Ve(t.containerInfo))));case 12:return;case 13:return Fi(t),void zi(t);case 19:return void zi(t);case 17:return;case 23:case 24:return void Pi(t,null!==t.memoizedState)}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ei(3,t);case 12:return;case 13:return Fi(t),void zi(t);case 19:return void zi(t);case 3:K&&((r=t.stateNode).hydrate&&(r.hydrate=!1,Ve(r.containerInfo)));break;case 23:case 24:return}e:if(Q){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,Re(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Fi(e){null!==e.memoizedState&&(ma=Gt(),J&&Pi(e.child,!0))}function zi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new wi),t.forEach((function(t){var n=fo.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Bi(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ui=0,ji=1,Hi=2,Gi=3,Vi=4;if("function"===typeof Symbol&&Symbol.for){var Wi=Symbol.for;Ui=Wi("selector.component"),ji=Wi("selector.has_pseudo_class"),Hi=Wi("selector.role"),Gi=Wi("selector.test_id"),Vi=Wi("selector.text")}function Xi(e){var t=$(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=oe(e)))throw Error(s(362));return e.stateNode.current}function Yi(e,t){switch(t.$$typeof){case Ui:if(e.type===t.value)return!0;break;case ji:e:{t=t.value,e=[e,0];for(var r=0;r<e.length;){var n=e[r++],i=e[r++],a=t[i];if(5!==n.tag||!le(n)){for(;null!=a&&Yi(n,a);)a=t[++i];if(i===t.length){t=!0;break e}for(n=n.child;null!==n;)e.push(n,i),n=n.sibling}}t=!1}return t;case Hi:if(5===e.tag&&ce(e.stateNode,t.value))return!0;break;case Vi:if((5===e.tag||6===e.tag)&&(null!==(e=ue(e))&&0<=e.indexOf(t.value)))return!0;break;case Gi:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365,t))}return!1}function qi(e){switch(e.$$typeof){case Ui:return"<"+(A(e.value)||"Unknown")+">";case ji:return":has("+(qi(e)||"")+")";case Hi:return'[role="'+e.value+'"]';case Vi:return'"'+e.value+'"';case Gi:return'[data-testname="'+e.value+'"]';default:throw Error(s(365,e))}}function Zi(e,t){var r=[];e=[e,0];for(var n=0;n<e.length;){var i=e[n++],a=e[n++],o=t[a];if(5!==i.tag||!le(i)){for(;null!=o&&Yi(i,o);)o=t[++a];if(a===t.length)r.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return r}function Ji(e,t){if(!ae)throw Error(s(363));e=Zi(e=Xi(e),t),t=[],e=Array.from(e);for(var r=0;r<e.length;){var n=e[r++];if(5===n.tag)le(n)||t.push(n.stateNode);else for(n=n.child;null!==n;)e.push(n),n=n.sibling}return t}var Qi=null;var Ki=Math.ceil,$i=u.ReactCurrentDispatcher,ea=u.ReactCurrentOwner,ta=u.IsSomeRendererActing,ra=0,na=null,ia=null,aa=0,oa=0,sa=Qe(0),ua=0,la=null,ca=0,ha=0,da=0,fa=0,pa=null,ma=0,va=1/0;function ga(){va=Gt()+500}var ya,ba=null,_a=!1,xa=null,wa=null,Ta=!1,Sa=null,Ea=90,Ma=[],Pa=[],Aa=null,Ca=0,Oa=null,ka=-1,Ra=0,La=0,Ia=null,Da=!1;function Na(){return 0!==(48&ra)?Gt():-1!==ka?ka:ka=Gt()}function Fa(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vt()?1:2;if(0===Ra&&(Ra=ca),0!==Jt.transition){0!==La&&(La=null!==pa?pa.pendingLanes:0),e=Ra;var t=4186112&~La;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vt(),0!==(4&ra)&&98===e?e=yt(12,Ra):e=yt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Ra),e}function za(e,t,r){if(50<Ca)throw Ca=0,Oa=null,Error(s(185));if(null===(e=Ba(e,t)))return null;xt(e,t,r),e===na&&(da|=t,4===ua&&Ha(e,aa));var n=Vt();1===t?0!==(8&ra)&&0===(48&ra)?Ga(e):(Ua(e,r),0===ra&&(ga(),qt())):(0===(4&ra)||98!==n&&99!==n||(null===Aa?Aa=new Set([e]):Aa.add(e)),Ua(e,r)),pa=e}function Ba(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function Ua(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-wt(o),l=1<<u,c=a[u];if(-1===c){if(0===(l&n)||0!==(l&i)){c=t,mt(l);var h=pt;a[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);o&=~l}if(n=vt(e,e===na?aa:0),t=pt,0===n)null!==r&&(r!==Ft&&Pt(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Ft&&Pt(r)}15===t?(r=Ga.bind(null,e),null===Bt?(Bt=[r],Ut=Mt(Rt,Zt)):Bt.push(r),r=Ft):14===t?r=Yt(99,Ga.bind(null,e)):r=Yt(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),ja.bind(null,e)),e.callbackPriority=t,e.callbackNode=r}}function ja(e){if(ka=-1,La=Ra=0,0!==(48&ra))throw Error(s(327));var t=e.callbackNode;if(ao()&&e.callbackNode!==t)return null;var r=vt(e,e===na?aa:0);if(0===r)return null;var n=r,i=ra;ra|=16;var a=Ja();for(na===e&&aa===n||(ga(),qa(e,n));;)try{$a();break}catch(u){Za(e,u)}if(or(),$i.current=a,ra=i,null!==ia?n=0:(na=null,aa=0,n=ua),0!==(ca&da))qa(e,0);else if(0!==n){if(2===n&&(ra|=64,e.hydrate&&(e.hydrate=!1,Pe(e.containerInfo)),0!==(r=gt(e))&&(n=Qa(e,r))),1===n)throw t=la,qa(e,0),Ha(e,r),Ua(e,Gt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(s(345));case 2:ro(e);break;case 3:if(Ha(e,r),(62914560&r)===r&&10<(n=ma+500-Gt())){if(0!==vt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Na(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=X(ro.bind(null,e),n);break}ro(e);break;case 4:if(Ha(e,r),(4186112&r)===r)break;for(n=e.eventTimes,i=-1;0<r;){var o=31-wt(r);a=1<<o,(o=n[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Gt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ki(r/1960))-r)){e.timeoutHandle=X(ro.bind(null,e),r);break}ro(e);break;case 5:ro(e);break;default:throw Error(s(329))}}return Ua(e,Gt()),e.callbackNode===t?ja.bind(null,e):null}function Ha(e,t){for(t&=~fa,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wt(t),n=1<<r;e[r]=-1,t&=~n}}function Ga(e){if(0!==(48&ra))throw Error(s(327));if(ao(),e===na&&0!==(e.expiredLanes&aa)){var t=aa,r=Qa(e,t);0!==(ca&da)&&(r=Qa(e,t=vt(e,t)))}else r=Qa(e,t=vt(e,0));if(0!==e.tag&&2===r&&(ra|=64,e.hydrate&&(e.hydrate=!1,Pe(e.containerInfo)),0!==(t=gt(e))&&(r=Qa(e,t))),1===r)throw r=la,qa(e,0),Ha(e,t),Ua(e,Gt()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ro(e),Ua(e,Gt()),null}function Va(e,t){var r=ra;ra|=1;try{return e(t)}finally{0===(ra=r)&&(ga(),qt())}}function Wa(e,t){var r=ra;if(0!==(48&r))return e(t);ra|=1;try{if(e)return Xt(99,e.bind(null,t))}finally{ra=r,qt()}}function Xa(e,t){$e(sa,oa),oa|=t,ca|=t}function Ya(){oa=sa.current,Ke(sa)}function qa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==q&&(e.timeoutHandle=q,Y(r)),null!==ia)for(r=ia.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&ot();break;case 3:Br(),Ke(rt),Ke(tt),en();break;case 5:jr(n);break;case 4:Br();break;case 13:case 19:Ke(Hr);break;case 10:ur(n);break;case 23:case 24:Ya()}r=r.return}na=e,ia=So(e.current,null),aa=oa=ca=t,ua=0,la=null,fa=da=ha=0}function Za(e,t){for(;;){var r=ia;try{if(or(),tn.current=Fn,un){for(var n=an.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}un=!1}if(nn=0,sn=on=an=null,ln=!1,ea.current=null,null===r||null===r.return){ua=1,la=t,ia=null;break}e:{var a=e,o=r.return,s=r,u=t;if(t=aa,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Hr.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var v=d.updateQueue;if(null===v){var g=new Set;g.add(l),d.updateQueue=g}else v.add(l);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=mr(-1,1);y.tag=2,vr(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new bi,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var _=ho.bind(null,a,l,s);l.then(_,_)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((A(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ua&&(ua=2),u=gi(u,s),d=o;do{switch(d.tag){case 3:a=u,d.flags|=4096,t&=-t,d.lanes|=t,gr(d,_i(0,a,t));break e;case 1:a=u;var x=d.type,w=d.stateNode;if(0===(64&d.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===wa||!wa.has(w)))){d.flags|=4096,t&=-t,d.lanes|=t,gr(d,xi(d,a,t));break e}}d=d.return}while(null!==d)}to(r)}catch(T){t=T,ia===r&&null!==r&&(ia=r=r.return);continue}break}}function Ja(){var e=$i.current;return $i.current=Fn,null===e?Fn:e}function Qa(e,t){var r=ra;ra|=16;var n=Ja();for(na===e&&aa===t||qa(e,t);;)try{Ka();break}catch(i){Za(e,i)}if(or(),ra=r,$i.current=n,null!==ia)throw Error(s(261));return na=null,aa=0,ua}function Ka(){for(;null!==ia;)eo(ia)}function $a(){for(;null!==ia&&!At();)eo(ia)}function eo(e){var t=ya(e.alternate,e,oa);e.memoizedProps=e.pendingProps,null===t?to(e):ia=t,ea.current=null}function to(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(r=mi(r,t,oa)))return void(ia=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&oa)||0===(4&r.mode)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=vi(t)))return r.flags&=2047,void(ia=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ia=t);ia=t=e}while(null!==t);0===ua&&(ua=5)}function ro(e){var t=Vt();return Xt(99,no.bind(null,e,t)),null}function no(e,t){do{ao()}while(null!==Sa);if(0!==(48&ra))throw Error(s(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,u=e.expirationTimes;0<a;){var l=31-wt(a),c=1<<l;i[l]=0,o[l]=-1,u[l]=-1,a&=~c}if(null!==Aa&&0===(24&n)&&Aa.has(e)&&Aa.delete(e),e===na&&(ia=na=null,aa=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){i=ra,ra|=32,ea.current=null,Ia=z(e.containerInfo),Da=!1,ba=n;do{try{io()}catch(y){if(null===ba)throw Error(s(330));co(ba,y),ba=ba.nextEffect}}while(null!==ba);Ia=null,ba=n;do{try{for(o=e;null!==ba;){var h=ba.flags;if(16&h&&J&&we(ba.stateNode),128&h){var d=ba.alternate;if(null!==d){var f=d.ref;null!==f&&("function"===typeof f?f(null):f.current=null)}}switch(1038&h){case 2:Ri(ba),ba.flags&=-3;break;case 6:Ri(ba),ba.flags&=-3,Ni(ba.alternate,ba);break;case 1024:ba.flags&=-1025;break;case 1028:ba.flags&=-1025,Ni(ba.alternate,ba);break;case 4:Ni(ba.alternate,ba);break;case 8:u=o,a=ba,J?Di(u,a):Ci(u,a);var p=a.alternate;Oi(a),null!==p&&Oi(p)}ba=ba.nextEffect}}catch(y){if(null===ba)throw Error(s(330));co(ba,y),ba=ba.nextEffect}}while(null!==ba);Da&&ne(),B(e.containerInfo),e.current=r,ba=n;do{try{for(h=e;null!==ba;){var m=ba.flags;if(36&m&&Mi(h,ba.alternate,ba),128&m){d=void 0;var v=ba.ref;if(null!==v){var g=ba.stateNode;switch(ba.tag){case 5:d=D(g);break;default:d=g}"function"===typeof v?v(d):v.current=d}}ba=ba.nextEffect}}catch(y){if(null===ba)throw Error(s(330));co(ba,y),ba=ba.nextEffect}}while(null!==ba);ba=null,zt(),ra=i}else e.current=r;if(Ta)Ta=!1,Sa=e,Ea=t;else for(ba=n;null!==ba;)t=ba.nextEffect,ba.nextEffect=null,8&ba.flags&&((m=ba).sibling=null,m.stateNode=null),ba=t;if(0===(n=e.pendingLanes)&&(wa=null),1===n?e===Oa?Ca++:(Ca=0,Oa=e):Ca=0,r=r.stateNode,dt&&"function"===typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ht,r,void 0,64===(64&r.current.flags))}catch(y){}if(Ua(e,Gt()),_a)throw _a=!1,e=xa,xa=null,e;return 0!==(8&ra)||qt(),null}function io(){for(;null!==ba;){var e=ba.alternate;Da||null===Ia||(0!==(8&ba.flags)?L(ba,Ia)&&(Da=!0,re()):13===ba.tag&&Bi(e,ba)&&L(ba,Ia)&&(Da=!0,re()));var t=ba.flags;0!==(256&t)&&Si(e,ba),0===(512&t)||Ta||(Ta=!0,Yt(97,(function(){return ao(),null}))),ba=ba.nextEffect}}function ao(){if(90!==Ea){var e=97<Ea?97:Ea;return Ea=90,Xt(e,uo)}return!1}function oo(e,t){Ma.push(t,e),Ta||(Ta=!0,Yt(97,(function(){return ao(),null})))}function so(e,t){Pa.push(t,e),Ta||(Ta=!0,Yt(97,(function(){return ao(),null})))}function uo(){if(null===Sa)return!1;var e=Sa;if(Sa=null,0!==(48&ra))throw Error(s(331));var t=ra;ra|=32;var r=Pa;Pa=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,"function"===typeof o)try{o()}catch(l){if(null===a)throw Error(s(330));co(a,l)}}for(r=Ma,Ma=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===a)throw Error(s(330));co(a,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return ra=t,qt(),!0}function lo(e,t,r){vr(e,t=_i(0,t=gi(r,t),1)),t=Na(),null!==(e=Ba(e,1))&&(xt(e,1,t),Ua(e,t))}function co(e,t){if(3===e.tag)lo(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){lo(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===wa||!wa.has(n))){var i=xi(r,e=gi(t,e),1);if(vr(r,i),i=Na(),null!==(r=Ba(r,1)))xt(r,1,i),Ua(r,i);else if("function"===typeof n.componentDidCatch&&(null===wa||!wa.has(n)))try{n.componentDidCatch(t,e)}catch(a){}break}}r=r.return}}function ho(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=Na(),e.pingedLanes|=e.suspendedLanes&r,na===e&&(aa&r)===r&&(4===ua||3===ua&&(62914560&aa)===aa&&500>Gt()-ma?qa(e,0):fa|=r),Ua(e,t)}function fo(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vt()?1:2:(0===Ra&&(Ra=ca),0===(t=bt(62914560&~Ra))&&(t=4194304))),r=Na(),null!==(e=Ba(e,t))&&(xt(e,t,r),Ua(e,r))}ya=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||rt.current)Hn=!0;else{if(0===(r&n)){switch(Hn=!1,t.tag){case 3:Kn(t),Kr();break;case 5:Ur(t);break;case 1:at(t.type)&&lt(t);break;case 4:zr(t,t.stateNode.containerInfo);break;case 10:sr(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?ii(e,t,r):($e(Hr,1&Hr.current),null!==(t=hi(e,t,r))?t.sibling:null);$e(Hr,1&Hr.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(64&e.flags)){if(n)return ci(e,t,r);t.flags|=64}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Hr,Hr.current),n)break;return null;case 23:case 24:return t.lanes=0,Yn(e,t,r)}return hi(e,t,r)}Hn=0!==(16384&e.flags)}else Hn=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=it(t,tt.current),cr(t,r),i=dn(null,t,n,e,i,r),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(n)){var a=!0;lt(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,fr(t);var o=n.getDerivedStateFromProps;"function"===typeof o&&xr(t,n,o,e),i.updater=wr,t.stateNode=i,i._reactInternals=t,Mr(t,n,e,r),t=Qn(null,t,n,!0,a,r)}else t.tag=0,Gn(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return To(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===b)return 14}return 2}(i),e=tr(i,e),a){case 0:t=Zn(null,t,i,e,r);break e;case 1:t=Jn(null,t,i,e,r);break e;case 11:t=Vn(null,t,i,e,r);break e;case 14:t=Wn(null,t,i,tr(i.type,e),n,r);break e}throw Error(s(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Zn(e,t,n,i=t.elementType===n?i:tr(n,i),r);case 1:return n=t.type,i=t.pendingProps,Jn(e,t,n,i=t.elementType===n?i:tr(n,i),r);case 3:if(Kn(t),n=t.updateQueue,null===e||null===n)throw Error(s(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,pr(e,t),yr(t,n,null,r),(n=t.memoizedState.element)===i)Kr(),t=hi(e,t,r);else{if((a=(i=t.stateNode).hydrate)&&(K?(Wr=Ue(t.stateNode.containerInfo),Vr=t,a=Xr=!0):a=!1),a){if(K&&null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)a=e[i],o=e[i+1],Z?a._workInProgressVersionPrimary=o:a._workInProgressVersionSecondary=o,$r.push(a);for(r=Rr(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Gn(e,t,n,r),Kr();t=t.child}return t;case 5:return Ur(t),null===e&&Zr(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,V(n,i)?o=null:null!==a&&V(n,a)&&(t.flags|=16),qn(e,t),Gn(e,t,o,r),t.child;case 6:return null===e&&Zr(t),null;case 13:return ii(e,t,r);case 4:return zr(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=kr(t,null,n,r):Gn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Vn(e,t,n,i=t.elementType===n?i:tr(n,i),r);case 7:return Gn(e,t,t.pendingProps,r),t.child;case 8:case 12:return Gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,sr(t,a=i.value),null!==o){var u=o.value;if(0===(a=Qt(u,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,a):1073741823))){if(o.children===i.children&&!rt.current){t=hi(e,t,r);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){o=u.child;for(var c=l.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&a)){1===u.tag&&((c=mr(-1,r&-r)).tag=2,vr(u,c)),u.lanes|=r,null!==(c=u.alternate)&&(c.lanes|=r),lr(u.return,r),l.lanes|=r;break}c=c.next}}else o=10===u.tag&&u.type===t.type?null:u.child;if(null!==o)o.return=u;else for(o=u;null!==o;){if(o===t){o=null;break}if(null!==(u=o.sibling)){u.return=o.return,o=u;break}o=o.return}u=o}}Gn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(a=t.pendingProps).children,cr(t,r),n=n(i=hr(i,a.unstable_observedBits)),t.flags|=1,Gn(e,t,n,r),t.child;case 14:return a=tr(i=t.type,t.pendingProps),Wn(e,t,i,a=tr(i.type,a),n,r);case 15:return Xn(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tr(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,at(n)?(e=!0,lt(t)):e=!1,cr(t,r),Sr(t,n,i),Mr(t,n,i,r),Qn(null,t,n,!0,e,r);case 19:return ci(e,t,r);case 23:case 24:return Yn(e,t,r)}throw Error(s(156,t.tag))};var po={current:!1},mo=o.unstable_flushAllWithoutAsserting,vo="function"===typeof mo;function go(){if(void 0!==mo)return mo();for(var e=!1;ao();)e=!0;return e}function yo(t){try{go(),function(t){if(null===Qi)try{var r=("require"+Math.random()).slice(0,7);Qi=(e&&e[r]).call(e,"timers").setImmediate}catch(n){Qi=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Qi(t)}((function(){go()?yo(t):t()}))}catch(r){t(r)}}var bo=0,_o=!1;function xo(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(e,t,r,n){return new xo(e,t,r,n)}function To(e){return!(!(e=e.prototype)||!e.isReactComponent)}function So(e,t){var r=e.alternate;return null===r?((r=wo(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Eo(e,t,r,n,i,a){var o=2;if(n=e,"function"===typeof e)To(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case h:return Mo(r.children,i,a,t);case w:o=8,i|=16;break;case d:o=8,i|=1;break;case f:return(e=wo(12,r,t,8|i)).elementType=f,e.type=f,e.lanes=a,e;case g:return(e=wo(13,r,t,i)).type=g,e.elementType=g,e.lanes=a,e;case y:return(e=wo(19,r,t,i)).elementType=y,e.lanes=a,e;case T:return Po(r,i,a,t);case S:return(e=wo(24,r,t,i)).elementType=S,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:o=10;break e;case m:o=9;break e;case v:o=11;break e;case b:o=14;break e;case _:o=16,n=null;break e;case x:o=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=wo(o,r,t,i)).elementType=e,t.type=n,t.lanes=a,t}function Mo(e,t,r,n){return(e=wo(7,e,n,t)).lanes=r,e}function Po(e,t,r,n){return(e=wo(23,e,n,t)).elementType=T,e.lanes=r,e}function Ao(e,t,r){return(e=wo(6,e,null,t)).lanes=r,e}function Co(e,t,r){return(t=wo(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oo(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=_t(0),this.expirationTimes=_t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),K&&(this.mutableSourceEagerHydrationData=null)}function ko(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=R(t))?null:e.stateNode}function Ro(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Lo(e,t){Ro(e,t),(e=e.alternate)&&Ro(e,t)}function Io(e){return null===(e=R(e))?null:e.stateNode}function Do(){return null}return n.IsThisRendererActing=po,n.act=function(e){function t(){bo--,ta.current=r,po.current=n}!1===_o&&(_o=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),bo++;var r=ta.current,n=po.current;ta.current=!0,po.current=!0;try{var i=Va(e)}catch(a){throw t(),a}if(null!==i&&"object"===typeof i&&"function"===typeof i.then)return{then:function(e,n){i.then((function(){1<bo||!0===vo&&!0===r?(t(),e()):yo((function(r){t(),r?n(r):e()}))}),(function(e){t(),n(e)}))}};try{1!==bo||!1!==vo&&!1!==r||go(),t()}catch(a){throw t(),a}return{then:function(e){e()}}},n.attemptContinuousHydration=function(e){13===e.tag&&(za(e,67108864,Na()),Lo(e,67108864))},n.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Na(),r=Fa(e);za(e,r,t),Lo(e,r)}},n.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var r=mt(t.pendingLanes);t.expiredLanes|=r&t.pendingLanes,Ua(t,Gt()),0===(48&ra)&&(ga(),qt())}break;case 13:var n=Na();Wa((function(){return za(e,1,n)})),Lo(e,4)}},n.attemptUserBlockingHydration=function(e){13===e.tag&&(za(e,4,Na()),Lo(e,4))},n.batchedEventUpdates=function(e,t){var r=ra;ra|=2;try{return e(t)}finally{0===(ra=r)&&(ga(),qt())}},n.batchedUpdates=Va,n.createComponentSelector=function(e){return{$$typeof:Ui,value:e}},n.createContainer=function(e,t,r){return e=new Oo(e,t,r),t=wo(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,fr(t),e},n.createHasPsuedoClassSelector=function(e){return{$$typeof:ji,value:e}},n.createPortal=function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}},n.createRoleSelector=function(e){return{$$typeof:Hi,value:e}},n.createTestNameSelector=function(e){return{$$typeof:Gi,value:e}},n.createTextSelector=function(e){return{$$typeof:Vi,value:e}},n.deferredUpdates=function(e){return Xt(97,e)},n.discreteUpdates=function(e,t,r,n,i){var a=ra;ra|=4;try{return Xt(98,e.bind(null,t,r,n,i))}finally{0===(ra=a)&&(ga(),qt())}},n.findAllNodes=Ji,n.findBoundingRects=function(e,t){if(!ae)throw Error(s(363));t=Ji(e,t),e=[];for(var r=0;r<t.length;r++)e.push(se(t[r]));for(t=e.length-1;0<t;t--)for(var n=(r=e[t]).x,i=n+r.width,a=r.y,o=a+r.height,u=t-1;0<=u;u--)if(t!==u){var l=e[u],c=l.x,h=c+l.width,d=l.y,f=d+l.height;if(n>=c&&a>=d&&i<=h&&o<=f){e.splice(t,1);break}if(!(n!==c||r.width!==l.width||f<a||d>o)){d>a&&(l.height+=d-a,l.y=a),f<o&&(l.height=o-d),e.splice(t,1);break}if(!(a!==d||r.height!==l.height||h<n||c>i)){c>n&&(l.width+=c-n,l.x=n),h<i&&(l.width=i-c),e.splice(t,1);break}}return e},n.findHostInstance=ko,n.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=k(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},n.findHostInstanceWithWarning=function(e){return ko(e)},n.flushControlled=function(e){var t=ra;ra|=1;try{Xt(99,e)}finally{0===(ra=t)&&(ga(),qt())}},n.flushDiscreteUpdates=function(){0===(49&ra)&&(function(){if(null!==Aa){var e=Aa;Aa=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Ua(e,Gt())}))}qt()}(),ao())},n.flushPassiveEffects=ao,n.flushSync=Wa,n.focusWithin=function(e,t){if(!ae)throw Error(s(363));for(t=Zi(e=Xi(e),t),t=Array.from(t),e=0;e<t.length;){var r=t[e++];if(!le(r)){if(5===r.tag&&he(r.stateNode))return!0;for(r=r.child;null!==r;)t.push(r),r=r.sibling}}return!1},n.getCurrentUpdateLanePriority=function(){return ft},n.getFindAllNodesFailureDescription=function(e,t){if(!ae)throw Error(s(363));var r=0,n=[];e=[Xi(e),0];for(var i=0;i<e.length;){var a=e[i++],o=e[i++],u=t[o];if((5!==a.tag||!le(a))&&(Yi(a,u)&&(n.push(qi(u)),++o>r&&(r=o)),o<t.length))for(a=a.child;null!==a;)e.push(a,o),a=a.sibling}if(r<t.length){for(e=[];r<t.length;r++)e.push(qi(t[r]));return"findAllNodes was able to match part of the selector:\n  "+n.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},n.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return D(e.child.stateNode);default:return e.child.stateNode}},n.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:Io,findFiberByHostInstance:e.findFiberByHostInstance||Do,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ht=t.inject(e),dt=t}catch(r){}e=!0}return e},n.observeVisibleRects=function(e,t,r,n){if(!ae)throw Error(s(363));e=Ji(e,t);var i=de(e,r,n).disconnect;return{disconnect:function(){i()}}},n.registerMutableSourceForHydration=function(e,t){var r=t._getVersion;r=r(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r)},n.runWithPriority=function(e,t){var r=ft;try{return ft=e,t()}finally{ft=r}},n.shouldSuspend=function(){return!1},n.unbatchedUpdates=function(e,t){var r=ra;ra&=-2,ra|=8;try{return e(t)}finally{0===(ra=r)&&(ga(),qt())}},n.updateContainer=function(e,t,r,n){var i=t.current,a=Na(),o=Fa(i);e:if(r){t:{if(C(r=r._reactInternals)!==r||1!==r.tag)throw Error(s(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(at(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===r.tag){var l=r.type;if(at(l)){r=ut(r,l,u);break e}}r=u}else r=et;return null===t.context?t.context=r:t.pendingContext=r,(t=mr(a,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),vr(i,t),za(i,o,a),o},n}}).call(this,r(35)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.createReactPlayer=void 0;var n=M(r(1)),i=c(r(45)),a=c(r(84)),o=c(r(46)),s=r(47),u=r(36),l=c(r(86));function c(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var i=T(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return x(this,r)}}function x(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return E=function(){return e},e}function M(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!==typeof e)return{default:e};var t=E();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}var P=(0,n.lazy)((function(){return Promise.resolve().then((function(){return M(r(87))}))})),A="undefined"!==typeof window&&window.document,C="undefined"!==typeof e&&e.window&&e.window.document,O=Object.keys(s.propTypes),k=A||C?n.Suspense:function(){return null},R=[];t.createReactPlayer=function(e,t){var r,c;return c=r=function(r){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(x,r);var c,h,d,v=_(x);function x(){var r;g(this,x);for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];return S(w(r=v.call.apply(v,[this].concat(c))),"state",{showPreview:!!r.props.light}),S(w(r),"references",{wrapper:function(e){r.wrapper=e},player:function(e){r.player=e}}),S(w(r),"handleClickPreview",(function(e){r.setState({showPreview:!1}),r.props.onClickPreview(e)})),S(w(r),"showPreview",(function(){r.setState({showPreview:!0})})),S(w(r),"getDuration",(function(){return r.player?r.player.getDuration():null})),S(w(r),"getCurrentTime",(function(){return r.player?r.player.getCurrentTime():null})),S(w(r),"getSecondsLoaded",(function(){return r.player?r.player.getSecondsLoaded():null})),S(w(r),"getInternalPlayer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return r.player?r.player.getInternalPlayer(e):null})),S(w(r),"seekTo",(function(e,t){if(!r.player)return null;r.player.seekTo(e,t)})),S(w(r),"handleReady",(function(){r.props.onReady(w(r))})),S(w(r),"getActivePlayer",(0,a.default)((function(r){for(var n=0,i=[].concat(R,m(e));n<i.length;n++){var a=i[n];if(a.canPlay(r))return a}return t||null}))),S(w(r),"getConfig",(0,a.default)((function(e,t){var n=r.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[t]||{},n,n[t]||{}])}))),S(w(r),"getAttributes",(0,a.default)((function(e){return(0,u.omit)(r.props,O)}))),S(w(r),"renderActivePlayer",(function(e){if(!e)return null;var t=r.getActivePlayer(e);if(!t)return null;var i=r.getConfig(e,t.key);return n.default.createElement(l.default,p({},r.props,{key:t.key,ref:r.references.player,config:i,activePlayer:t.lazyPlayer||t,onReady:r.handleReady}))})),r}return c=x,(h=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,o.default)(this.props,e)||!(0,o.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,r=t.light,i=t.playIcon,a=t.previewTabIndex;return n.default.createElement(P,{url:e,light:r,playIcon:i,previewTabIndex:a,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,r=e.style,i=e.width,a=e.height,o=e.fallback,s=e.wrapper,u=this.state.showPreview,l=this.getAttributes(t);return n.default.createElement(s,p({ref:this.references.wrapper,style:f(f({},r),{},{width:i,height:a})},l),n.default.createElement(k,{fallback:o},u?this.renderPreview(t):this.renderActivePlayer(t)))}}])&&y(c.prototype,h),d&&y(c,d),x}(n.Component),S(r,"displayName","ReactPlayer"),S(r,"propTypes",s.propTypes),S(r,"defaultProps",s.defaultProps),S(r,"addCustomPlayer",(function(e){R.push(e)})),S(r,"removeCustomPlayers",(function(){R.length=0})),S(r,"canPlay",(function(t){for(var r=0,n=[].concat(R,m(e));r<n.length;r++){if(n[r].canPlay(t))return!0}return!1})),S(r,"canEnablePIP",(function(t){for(var r=0,n=[].concat(R,m(e));r<n.length;r++){var i=n[r];if(i.canEnablePIP&&i.canEnablePIP(t))return!0}return!1})),c}}).call(this,r(22))},function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}r.r(t),t.default=function(e,t){var r;void 0===t&&(t=n);var i,a=[],o=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return o&&r===this&&t(n,a)||(i=e.apply(this,n),o=!0,r=this,a=n),i}}},function(e,t){function r(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof t&&(i=t,t={}),t=t||{},i=i||function(){},o.type=t.type||"text/javascript",o.charset=t.charset||"utf8",o.async=!("async"in t)||!!t.async,o.src=e,t.attrs&&function(e,t){for(var r in t)e.setAttribute(r,t[r])}(o,t.attrs),t.text&&(o.text=""+t.text),("onload"in o?r:n)(o,i),o.onload||r(o,i),a.appendChild(o)}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=(i=r(46))&&i.__esModule?i:{default:i},s=r(47);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,r,n,i=f(s);function s(){var e;c(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(m(e=i.call.apply(i,[this].concat(r))),"mounted",!1),g(m(e),"isReady",!1),g(m(e),"isPlaying",!1),g(m(e),"isLoading",!0),g(m(e),"loadOnReady",null),g(m(e),"startOnPlay",!0),g(m(e),"seekOnPlay",null),g(m(e),"onDurationCalled",!1),g(m(e),"handlePlayerMount",(function(t){e.player=t,e.player.load(e.props.url),e.progress()})),g(m(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),g(m(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,r=e.getSecondsLoaded(),n=e.getDuration();if(n){var i={playedSeconds:t,played:t/n};null!==r&&(i.loadedSeconds=r,i.loaded=r/n),i.playedSeconds===e.prevPlayed&&i.loadedSeconds===e.prevLoaded||e.props.onProgress(i),e.prevPlayed=i.playedSeconds,e.prevLoaded=i.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),g(m(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,r=t.onReady,n=t.playing,i=t.volume,a=t.muted;r(),a||null===i||e.player.setVolume(i),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):n&&e.player.play(),e.handleDurationCheck()}})),g(m(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,r=t.onStart,n=t.onPlay,i=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==i&&e.player.setPlaybackRate(i),r(),e.startOnPlay=!1),n(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),g(m(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),g(m(e),"handleEnded",(function(){var t=e.props,r=t.activePlayer,n=t.loop,i=t.onEnded;r.loopOnEnded&&n&&e.seekTo(0),n||(e.isPlaying=!1,i())})),g(m(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),g(m(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),g(m(e),"handleLoaded",(function(){e.isLoading=!1})),e}return t=s,(r=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var r=this.props,n=r.url,i=r.playing,a=r.volume,s=r.muted,u=r.playbackRate,l=r.pip,c=r.loop,h=r.activePlayer;if(!(0,o.default)(e.url,n)){if(this.isLoading&&!h.forceLoad)return console.warn("ReactPlayer: the attempt to load ".concat(n," is being deferred until the player has loaded")),void(this.loadOnReady=n);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}e.playing||!i||this.isPlaying||this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&null!==a&&this.player.setVolume(a),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==a&&setTimeout((function(){return t.player.setVolume(a)})))),e.playbackRate!==u&&this.player.setPlaybackRate&&this.player.setPlaybackRate(u),e.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var r=this;if(!this.isReady&&0!==e)return this.seekOnPlay=e,void setTimeout((function(){r.seekOnPlay=null}),5e3);if(t?"fraction"===t:e>0&&e<1){var n=this.player.getDuration();return n?void this.player.seekTo(n*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}},{key:"render",value:function(){var e=this.props.activePlayer;return e?a.default.createElement(e,l({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}])&&h(t.prototype,r),n&&h(t,n),s}(a.Component);t.default=y,g(y,"displayName","Player"),g(y,"propTypes",s.propTypes),g(y,"defaultProps",s.defaultProps)},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v="64px",g={},y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,e);var t,r,n,a=h(o);function o(){var e;u(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(f(e=a.call.apply(a,[this].concat(r))),"mounted",!1),m(f(e),"state",{image:null}),m(f(e),"handleKeyPress",(function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()})),e}return t=o,(r=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.url,n=t.light;e.url===r&&e.light===n||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,r=e.url,n=e.light;if("string"!==typeof n){if(!g[r])return this.setState({image:null}),window.fetch("https://noembed.com/embed?url=".concat(r)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var n=e.thumbnail_url.replace("height=100","height=480");t.setState({image:n}),g[r]=n}}));this.setState({image:g[r]})}else this.setState({image:n})}},{key:"render",value:function(){var e=this.props,t=e.onClick,r=e.playIcon,n=e.previewTabIndex,a=this.state.image,o={display:"flex",alignItems:"center",justifyContent:"center"},u={preview:s({width:"100%",height:"100%",backgroundImage:a?"url(".concat(a,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},o),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:v,width:v,height:v},o),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},l=i.default.createElement("div",{style:u.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:u.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:u.preview,className:"react-player__preview",onClick:t,tabIndex:n,onKeyPress:this.handleKeyPress},r||l)}}])&&l(t.prototype,r),n&&l(t,n),o}(i.Component);t.default=y},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(1)),a=r(36),o=r(89);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,r,n,o=d(s);function s(){var e;l(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(p(e=o.call.apply(o,[this].concat(r))),"callPlayer",a.callPlayer),v(p(e),"duration",null),v(p(e),"currentTime",null),v(p(e),"secondsLoaded",null),v(p(e),"mute",(function(){e.setVolume(0)})),v(p(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),v(p(e),"ref",(function(t){e.container=t})),e}return t=s,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;this.duration=null,(0,a.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(r){t.container&&(t.player=new r.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},t.props.config.playerOptions)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%"})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var r=e.seconds;t.currentTime=r})),t.player.on("progress",(function(e){var r=e.seconds;t.secondsLoaded=r})),t.player.on("bufferstart",t.props.onBuffer),t.player.on("bufferend",t.props.onBufferEnd))}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return i.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}])&&c(t.prototype,r),n&&c(t,n),s}(i.Component);t.default=g,v(g,"displayName","Vimeo"),v(g,"canPlay",o.canPlay.vimeo),v(g,"forceLoad",!0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_KALTURA=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK_WATCH=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var n=r(36);function i(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=o;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var u=/vimeo\.com\/.+/;t.MATCH_URL_VIMEO=u;var l=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=l;var c=/^https?:\/\/fb\.watch\/.+$/;t.MATCH_URL_FACEBOOK_WATCH=c;var h=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=h;var d=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;t.MATCH_URL_WISTIA=d;var f=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=f;var p=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=p;var m=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;t.MATCH_URL_DAILYMOTION=m;var v=/mixcloud\.com\/([^/]+\/[^/]+)/;t.MATCH_URL_MIXCLOUD=v;var g=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-]+)/;t.MATCH_URL_VIDYARD=g;var y=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_]+)$/;t.MATCH_URL_KALTURA=y;var b=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=b;var _=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i;t.VIDEO_EXTENSIONS=_;var x=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=x;var w=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=w;var T=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=T;var S={youtube:function(e){return e instanceof Array?e.every((function(e){return o.test(e)})):o.test(e)},soundcloud:function(e){return s.test(e)&&!b.test(e)},vimeo:function(e){return u.test(e)&&!_.test(e)&&!x.test(e)},facebook:function(e){return l.test(e)||c.test(e)},streamable:function(e){return h.test(e)},wistia:function(e){return d.test(e)},twitch:function(e){return f.test(e)||p.test(e)},dailymotion:function(e){return m.test(e)},mixcloud:function(e){return v.test(e)},vidyard:function(e){return g.test(e)},kaltura:function(e){return y.test(e)},file:function e(t){if(t instanceof Array){var r,a=i(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if("string"===typeof o&&e(o))return!0;if(e(o.src))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!(!(0,n.isMediaStream)(t)&&!(0,n.isBlobUrl)(t))||(b.test(t)||_.test(t)||x.test(t)||w.test(t)||T.test(t))}};t.canPlay=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(r(10));var n=a(r(1)),i="/Users/cedric/Code/react-responsive-masonry/src/Masonry/index.js";function a(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=a.prototype;return s.getColumns=function(){var e=this.props,t=e.children,r=e.columnsCount,i=Array.from({length:r},(function(){return[]}));return n.default.Children.forEach(t,(function(e,t){i[t%r].push(e)})),i},s.renderColumn=function(e){var t=this,r=this.props.gutter;return e.map((function(e,a){return n.default.createElement("div",{key:a,style:{marginTop:a>0?r:void 0},__self:t,__source:{fileName:i,lineNumber:19,columnNumber:7}},e)}))},s.renderColumns=function(){var e=this,t=this.props.gutter;return this.getColumns().map((function(r,a){return n.default.createElement("div",{key:a,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,marginLeft:a>0?t:void 0},__self:e,__source:{fileName:i,lineNumber:28,columnNumber:7}},e.renderColumn(r))}))},s.render=function(){var e=this.props,t=e.className,r=e.style;return n.default.createElement("div",{style:o({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%"},r),className:t,__self:this,__source:{fileName:i,lineNumber:48,columnNumber:7}},this.renderColumns())},a}(n.default.Component);s.propTypes={},s.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};var u=s;t.default=u},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;(i=r(10))&&i.__esModule;var i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(1));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){return"undefined"===typeof window?null:window.innerWidth},u=function(e){var t=e.columnsCountBreakPoints,r=e.children,n=e.className,i=e.style,o=function(){var e=(0,a.useState)(s()),t=e[0],r=e[1],n="undefined"!==typeof window,i=(0,a.useCallback)((function(){r(s())}),[]);return(0,a.useEffect)((function(){if(n)return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[n,i]),t}(),u=(0,a.useMemo)((function(){var e=Object.keys(t).sort((function(e,t){return e-t})),r=e.length>0?t[e[0]]:1;return e.forEach((function(e){e<o&&(r=t[e])})),r}),[o,t]);return a.default.createElement("div",{className:n,style:i,__self:undefined,__source:{fileName:"/Users/cedric/Code/react-responsive-masonry/src/ResponsiveMasonry/index.js",lineNumber:56,columnNumber:5}},a.default.Children.map(r,(function(e,t){return a.default.cloneElement(e,{key:t,columnsCount:u})})))};u.propTypes={},u.defaultProps={columnsCountBreakPoints:{350:1,750:2,900:3},className:null,style:null};var l=u;t.default=l},,,function(e,t,r){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(95),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(22))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,a={},o=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&c(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},n=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;n=function(t){var r=s.createElement("script");r.onreadystatechange=function(){c(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(c,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return a[i]=o,n(i),i++},u.clearImmediate=l}function l(e){delete a[e]}function c(e){if(o)setTimeout(c,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{l(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,r(22),r(96))},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,l=[],c=!1,h=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++h<t;)u&&u[h].run();h=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]]);
//# sourceMappingURL=2.6a845940.chunk.js.map